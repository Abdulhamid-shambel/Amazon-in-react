function LM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Gg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var n0={exports:{}},Wh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pI;function UM(){if(pI)return Wh;pI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Wh.Fragment=e,Wh.jsx=t,Wh.jsxs=t,Wh}var mI;function BM(){return mI||(mI=1,n0.exports=UM()),n0.exports}var q=BM(),r0={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function FM(){if(gI)return Le;gI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function P(j,re,ge){this.props=j,this.context=re,this.refs=A,this.updater=ge||w}P.prototype.isReactComponent={},P.prototype.setState=function(j,re){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,re,"setState")},P.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=P.prototype;function L(j,re,ge){this.props=j,this.context=re,this.refs=A,this.updater=ge||w}var V=L.prototype=new U;V.constructor=L,E(V,P.prototype),V.isPureReactComponent=!0;var H=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function M(j,re,ge,me,Te,ke){return ge=ke.ref,{$$typeof:n,type:j,key:re,ref:ge!==void 0?ge:null,props:ke}}function R(j,re){return M(j.type,re,void 0,void 0,void 0,j.props)}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function T(j){var re={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ge){return re[ge]})}var O=/\/+/g;function C(j,re){return typeof j=="object"&&j!==null&&j.key!=null?T(""+j.key):re.toString(36)}function D(){}function se(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(D,D):(j.status="pending",j.then(function(re){j.status==="pending"&&(j.status="fulfilled",j.value=re)},function(re){j.status==="pending"&&(j.status="rejected",j.reason=re)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function B(j,re,ge,me,Te){var ke=typeof j;(ke==="undefined"||ke==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case n:case e:xe=!0;break;case g:return xe=j._init,B(xe(j._payload),re,ge,me,Te)}}if(xe)return Te=Te(j),xe=me===""?"."+C(j,0):me,H(Te)?(ge="",xe!=null&&(ge=xe.replace(O,"$&/")+"/"),B(Te,re,ge,"",function(Or){return Or})):Te!=null&&(x(Te)&&(Te=R(Te,ge+(Te.key==null||j&&j.key===Te.key?"":(""+Te.key).replace(O,"$&/")+"/")+xe)),re.push(Te)),1;xe=0;var $t=me===""?".":me+":";if(H(j))for(var rt=0;rt<j.length;rt++)me=j[rt],ke=$t+C(me,rt),xe+=B(me,re,ge,ke,Te);else if(rt=v(j),typeof rt=="function")for(j=rt.call(j),rt=0;!(me=j.next()).done;)me=me.value,ke=$t+C(me,rt++),xe+=B(me,re,ge,ke,Te);else if(ke==="object"){if(typeof j.then=="function")return B(se(j),re,ge,me,Te);throw re=String(j),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(j,re,ge){if(j==null)return j;var me=[],Te=0;return B(j,me,"","",function(ke){return re.call(ge,ke,Te++)}),me}function J(j){if(j._status===-1){var re=j._result;re=re(),re.then(function(ge){(j._status===0||j._status===-1)&&(j._status=1,j._result=ge)},function(ge){(j._status===0||j._status===-1)&&(j._status=2,j._result=ge)}),j._status===-1&&(j._status=0,j._result=re)}if(j._status===1)return j._result.default;throw j._result}var le=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Ee(){}return Le.Children={map:G,forEach:function(j,re,ge){G(j,function(){re.apply(this,arguments)},ge)},count:function(j){var re=0;return G(j,function(){re++}),re},toArray:function(j){return G(j,function(re){return re})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Le.Component=P,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=L,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Le.__COMPILER_RUNTIME={__proto__:null,c:function(j){return F.H.useMemoCache(j)}},Le.cache=function(j){return function(){return j.apply(null,arguments)}},Le.cloneElement=function(j,re,ge){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=E({},j.props),Te=j.key,ke=void 0;if(re!=null)for(xe in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(Te=""+re.key),re)!$.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(me[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)me.children=ge;else if(1<xe){for(var $t=Array(xe),rt=0;rt<xe;rt++)$t[rt]=arguments[rt+2];me.children=$t}return M(j.type,Te,void 0,void 0,ke,me)},Le.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Le.createElement=function(j,re,ge){var me,Te={},ke=null;if(re!=null)for(me in re.key!==void 0&&(ke=""+re.key),re)$.call(re,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=re[me]);var xe=arguments.length-2;if(xe===1)Te.children=ge;else if(1<xe){for(var $t=Array(xe),rt=0;rt<xe;rt++)$t[rt]=arguments[rt+2];Te.children=$t}if(j&&j.defaultProps)for(me in xe=j.defaultProps,xe)Te[me]===void 0&&(Te[me]=xe[me]);return M(j,ke,void 0,void 0,null,Te)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:h,render:j}},Le.isValidElement=x,Le.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:J}},Le.memo=function(j,re){return{$$typeof:d,type:j,compare:re===void 0?null:re}},Le.startTransition=function(j){var re=F.T,ge={};F.T=ge;try{var me=j(),Te=F.S;Te!==null&&Te(ge,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Ee,le)}catch(ke){le(ke)}finally{F.T=re}},Le.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Le.use=function(j){return F.H.use(j)},Le.useActionState=function(j,re,ge){return F.H.useActionState(j,re,ge)},Le.useCallback=function(j,re){return F.H.useCallback(j,re)},Le.useContext=function(j){return F.H.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j,re){return F.H.useDeferredValue(j,re)},Le.useEffect=function(j,re,ge){var me=F.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(j,re)},Le.useId=function(){return F.H.useId()},Le.useImperativeHandle=function(j,re,ge){return F.H.useImperativeHandle(j,re,ge)},Le.useInsertionEffect=function(j,re){return F.H.useInsertionEffect(j,re)},Le.useLayoutEffect=function(j,re){return F.H.useLayoutEffect(j,re)},Le.useMemo=function(j,re){return F.H.useMemo(j,re)},Le.useOptimistic=function(j,re){return F.H.useOptimistic(j,re)},Le.useReducer=function(j,re,ge){return F.H.useReducer(j,re,ge)},Le.useRef=function(j){return F.H.useRef(j)},Le.useState=function(j){return F.H.useState(j)},Le.useSyncExternalStore=function(j,re,ge){return F.H.useSyncExternalStore(j,re,ge)},Le.useTransition=function(){return F.H.useTransition()},Le.version="19.1.0",Le}var yI;function qs(){return yI||(yI=1,r0.exports=FM()),r0.exports}var W=qs();const Ke=Gg(W),q0=LM({__proto__:null,default:Ke},[W]);var i0={exports:{}},Qh={},s0={exports:{}},a0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function zM(){return _I||(_I=1,function(n){function e(G,J){var le=G.length;G.push(J);e:for(;0<le;){var Ee=le-1>>>1,j=G[Ee];if(0<i(j,J))G[Ee]=J,G[le]=j,le=Ee;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var J=G[0],le=G.pop();if(le!==J){G[0]=le;e:for(var Ee=0,j=G.length,re=j>>>1;Ee<re;){var ge=2*(Ee+1)-1,me=G[ge],Te=ge+1,ke=G[Te];if(0>i(me,le))Te<j&&0>i(ke,me)?(G[Ee]=ke,G[Te]=le,Ee=Te):(G[Ee]=me,G[ge]=le,Ee=ge);else if(Te<j&&0>i(ke,le))G[Ee]=ke,G[Te]=le,Ee=Te;else break e}}return J}function i(G,J){var le=G.sortIndex-J.sortIndex;return le!==0?le:G.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,y=null,v=3,w=!1,E=!1,A=!1,P=!1,U=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function H(G){for(var J=t(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=G)r(d),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(d)}}function F(G){if(A=!1,H(G),!E)if(t(f)!==null)E=!0,$||($=!0,C());else{var J=t(d);J!==null&&B(F,J.startTime-G)}}var $=!1,M=-1,R=5,x=-1;function T(){return P?!0:!(n.unstable_now()-x<R)}function O(){if(P=!1,$){var G=n.unstable_now();x=G;var J=!0;try{e:{E=!1,A&&(A=!1,L(M),M=-1),w=!0;var le=v;try{t:{for(H(G),y=t(f);y!==null&&!(y.expirationTime>G&&T());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,v=y.priorityLevel;var j=Ee(y.expirationTime<=G);if(G=n.unstable_now(),typeof j=="function"){y.callback=j,H(G),J=!0;break t}y===t(f)&&r(f),H(G)}else r(f);y=t(f)}if(y!==null)J=!0;else{var re=t(d);re!==null&&B(F,re.startTime-G),J=!1}}break e}finally{y=null,v=le,w=!1}J=void 0}}finally{J?C():$=!1}}}var C;if(typeof V=="function")C=function(){V(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,se=D.port2;D.port1.onmessage=O,C=function(){se.postMessage(null)}}else C=function(){U(O,0)};function B(G,J){M=U(function(){G(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var le=v;v=J;try{return G()}finally{v=le}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=v;v=G;try{return J()}finally{v=le}},n.unstable_scheduleCallback=function(G,J,le){var Ee=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ee+le:Ee):le=Ee,G){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=le+j,G={id:g++,callback:J,priorityLevel:G,startTime:le,expirationTime:j,sortIndex:-1},le>Ee?(G.sortIndex=le,e(d,G),t(f)===null&&G===t(d)&&(A?(L(M),M=-1):A=!0,B(F,le-Ee))):(G.sortIndex=j,e(f,G),E||w||(E=!0,$||($=!0,C()))),G},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(G){var J=v;return function(){var le=v;v=J;try{return G.apply(this,arguments)}finally{v=le}}}}(a0)),a0}var vI;function jM(){return vI||(vI=1,s0.exports=zM()),s0.exports}var o0={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI;function qM(){if(bI)return Bn;bI=1;var n=qs();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Bn.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Bn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Bn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Bn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,y=h(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Bn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Bn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=h(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Bn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Bn.requestFormReset=function(f){r.d.r(f)},Bn.unstable_batchedUpdates=function(f,d){return f(d)},Bn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Bn.version="19.1.0",Bn}var EI;function HM(){if(EI)return o0.exports;EI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),o0.exports=qM(),o0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI;function $M(){if(wI)return Qh;wI=1;var n=jM(),e=qs(),t=HM();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var _=m.alternate;if(_===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===l)return h(m),s;if(_===c)return h(m),a;_=_.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=_;else{for(var I=!1,N=m.child;N;){if(N===l){I=!0,l=m,c=_;break}if(N===c){I=!0,c=m,l=_;break}N=N.sibling}if(!I){for(N=_.child;N;){if(N===l){I=!0,l=_,c=m;break}if(N===c){I=!0,c=_,l=m;break}N=N.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function C(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case P:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case $:return"SuspenseList";case x:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case V:return(s.displayName||"Context")+".Provider";case L:return(s._context.displayName||"Context")+".Consumer";case H:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:se(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return se(s(a))}catch{}}return null}var B=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ee=[],j=-1;function re(s){return{current:s}}function ge(s){0>j||(s.current=Ee[j],Ee[j]=null,j--)}function me(s,a){j++,Ee[j]=s.current,s.current=a}var Te=re(null),ke=re(null),xe=re(null),$t=re(null);function rt(s,a){switch(me(xe,a),me(ke,s),me(Te,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?jA(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=jA(a),s=qA(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ge(Te),me(Te,s)}function Or(){ge(Te),ge(ke),ge(xe)}function di(s){s.memoizedState!==null&&me($t,s);var a=Te.current,l=qA(a,s.type);a!==l&&(me(ke,s),me(Te,l))}function Dr(s){ke.current===s&&(ge(Te),ge(ke)),$t.current===s&&(ge($t),qh._currentValue=le)}var fr=Object.prototype.hasOwnProperty,Ln=n.unstable_scheduleCallback,Xr=n.unstable_cancelCallback,co=n.unstable_shouldYield,Pl=n.unstable_requestPaint,tr=n.unstable_now,jc=n.unstable_getCurrentPriorityLevel,ho=n.unstable_ImmediatePriority,ts=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,_t=n.unstable_LowPriority,wt=n.unstable_IdlePriority,fi=n.log,Jr=n.unstable_setDisableYieldValue,st=null,Ue=null;function Gt(s){if(typeof fi=="function"&&Jr(s),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(st,s)}catch{}}var en=Math.clz32?Math.clz32:fo,tp=Math.log,i_=Math.LN2;function fo(s){return s>>>=0,s===0?32:31-(tp(s)/i_|0)|0}var po=256,mo=4194304;function Zr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ol(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,_=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var N=c&134217727;return N!==0?(c=N&~_,c!==0?m=Zr(c):(I&=N,I!==0?m=Zr(I):l||(l=N&~s,l!==0&&(m=Zr(l))))):(N=c&~_,N!==0?m=Zr(N):I!==0?m=Zr(I):l||(l=c&~s,l!==0&&(m=Zr(l)))),m===0?0:a!==0&&a!==m&&(a&_)===0&&(_=m&-m,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:m}function go(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function qc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var s=po;return po<<=1,(po&4194048)===0&&(po=256),s}function $c(){var s=mo;return mo<<=1,(mo&62914560)===0&&(mo=4194304),s}function ns(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function rs(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Gc(s,a,l,c,m,_){var I=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var N=s.entanglements,z=s.expirationTimes,ee=s.hiddenUpdates;for(l=I&~l;0<l;){var ce=31-en(l),de=1<<ce;N[ce]=0,z[ce]=-1;var te=ee[ce];if(te!==null)for(ee[ce]=null,ce=0;ce<te.length;ce++){var ne=te[ce];ne!==null&&(ne.lane&=-536870913)}l&=~de}c!==0&&pi(s,c,0),_!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=_&~(I&~a))}function pi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-en(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Kc(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-en(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Xs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Dl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Js(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:lI(s.type))}function np(s,a){var l=J.p;try{return J.p=s,a()}finally{J.p=l}}var Tt=Math.random().toString(36).slice(2),dn="__reactFiber$"+Tt,tn="__reactProps$"+Tt,Nr="__reactContainer$"+Tt,Wc="__reactEvents$"+Tt,s_="__reactListeners$"+Tt,Zs="__reactHandles$"+Tt,rp="__reactResources$"+Tt,yo="__reactMarker$"+Tt;function ea(s){delete s[dn],delete s[tn],delete s[Wc],delete s[s_],delete s[Zs]}function is(s){var a=s[dn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Nr]||l[dn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=KA(s);s!==null;){if(l=s[dn])return l;s=KA(s)}return a}s=l,l=s.parentNode}return null}function mi(s){if(s=s[dn]||s[Nr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function gi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Gn(s){var a=s[rp];return a||(a=s[rp]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Kt(s){s[yo]=!0}var Qc=new Set,Nl={};function ei(s,a){ss(s,a),ss(s+"Capture",a)}function ss(s,a){for(Nl[s]=a,s=0;s<a.length;s++)Qc.add(a[s])}var ip=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sp={},_o={};function ap(s){return fr.call(_o,s)?!0:fr.call(sp,s)?!1:ip.test(s)?_o[s]=!0:(sp[s]=!0,!1)}function ta(s,a,l){if(ap(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function yi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Cn(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var vo,op;function as(s){if(vo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);vo=a&&a[1]||"",op=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vo+s+op}var kl=!1;function Ml(s,a){if(!s||kl)return"";kl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(s,[],de)}else{try{de.call()}catch(ne){te=ne}s.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),I=_[0],N=_[1];if(I&&N){var z=I.split(`
`),ee=N.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===ee.length)for(c=z.length-1,m=ee.length-1;1<=c&&0<=m&&z[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==ee[m]){var ce=`
`+z[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{kl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?as(l):""}function Yc(s){switch(s.tag){case 26:case 27:case 5:return as(s.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return Ml(s.type,!1);case 11:return Ml(s.type.render,!1);case 1:return Ml(s.type,!0);case 31:return as("Activity");default:return""}}function Vl(s){try{var a="";do a+=Yc(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Kn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function a_(s){var a=Xc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,_=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(I){c=""+I,_.call(this,I)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ll(s){s._valueTracker||(s._valueTracker=a_(s))}function Jc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Xc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function bo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var o_=/[\n"\\]/g;function nn(s){return s.replace(o_,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function pr(s,a,l,c,m,_,I,N){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),a!=null?I==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Kn(a)):s.value!==""+Kn(a)&&(s.value=""+Kn(a)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),a!=null?na(s,I,Kn(a)):l!=null?na(s,I,Kn(l)):c!=null&&s.removeAttribute("value"),m==null&&_!=null&&(s.defaultChecked=!!_),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Kn(N):s.removeAttribute("name")}function Eo(s,a,l,c,m,_,I,N){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null))return;l=l!=null?""+Kn(l):"",a=a!=null?""+Kn(a):l,N||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=N?s.checked:!!c,s.defaultChecked=!!c,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function na(s,a,l){a==="number"&&bo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function os(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Kn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function ct(s,a,l){if(a!=null&&(a=""+Kn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Kn(l):""}function wo(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(B(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Kn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function kr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var To=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lp(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||To.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Zc(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&lp(s,m,c)}else for(var _ in a)a.hasOwnProperty(_)&&lp(s,_,a[_])}function eh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ul(s){return u_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ls=null;function Mr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var us=null,cs=null;function th(s){var a=mi(s);if(a&&(s=a.stateNode)){var l=s[tn]||null;e:switch(s=a.stateNode,a.type){case"input":if(pr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[tn]||null;if(!m)throw Error(r(90));pr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Jc(c)}break e;case"textarea":ct(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&os(s,!!l.multiple,a,!1)}}}var _i=!1;function up(s,a,l){if(_i)return s(a,l);_i=!0;try{var c=s(a);return c}finally{if(_i=!1,(us!==null||cs!==null)&&(nm(),us&&(a=us,s=cs,cs=us=null,th(a),s)))for(a=0;a<s.length;a++)th(s[a])}}function So(s,a){var l=s.stateNode;if(l===null)return null;var c=l[tn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(ti)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{Vr=!1}var vi=null,ra=null,hs=null;function nh(){if(hs)return hs;var s,a=ra,l=a.length,c,m="value"in vi?vi.value:vi.textContent,_=m.length;for(s=0;s<l&&a[s]===m[s];s++);var I=l-s;for(c=1;c<=I&&a[l-c]===m[_-c];c++);return hs=m.slice(s,1<c?1-c:void 0)}function bi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function rh(){return!1}function vn(s){function a(l,c,m,_,I){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(_):_[N]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ei:rh,this.isPropagationStopped=rh,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),a}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=vn(it),Io=g({},it,{view:0,detail:0}),cp=vn(Io),Fl,zl,wi,Ro=g({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wi&&(wi&&s.type==="mousemove"?(Fl=s.screenX-wi.screenX,zl=s.screenY-wi.screenY):zl=Fl=0,wi=s),Fl)},movementY:function(s){return"movementY"in s?s.movementY:zl}}),Lr=vn(Ro),hp=g({},Ro,{dataTransfer:0}),c_=vn(hp),Co=g({},Io,{relatedTarget:0}),jl=vn(Co),ih=g({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),ql=vn(ih),dp=g({},it,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hl=vn(dp),h_=g({},it,{data:0}),sh=vn(h_),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=pp[s])?!!a[s]:!1}function Po(){return ah}var mp=g({},Io,{key:function(s){if(s.key){var a=xo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=bi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(s){return s.type==="keypress"?bi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?bi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$l=vn(mp),gp=g({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=vn(gp),ds=g({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),yp=vn(ds),_p=g({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),vp=vn(_p),bp=g({},Ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Gl=vn(bp),Wn=g({},it,{newState:0,oldState:0}),Ep=vn(Wn),wp=[9,13,27,32],Ti=ti&&"CompositionEvent"in window,p=null;ti&&"documentMode"in document&&(p=document.documentMode);var b=ti&&"TextEvent"in window&&!p,S=ti&&(!Ti||p&&8<p&&11>=p),k=" ",Y=!1;function ae(s,a){switch(s){case"keyup":return wp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function fn(s,a){switch(s){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(Y=!0,k);case"textInput":return s=a.data,s===k&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!Ti&&ae(s,a)?(s=nh(),hs=ra=vi=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!bn[s.type]:a==="textarea"}function fs(s,a,l,c){us?cs?cs.push(c):cs=[c]:us=c,a=lm(a,"onChange"),0<a.length&&(l=new Bl("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var xn=null,Si=null;function lh(s){LA(s,0)}function Tp(s){var a=gi(s);if(Jc(a))return s}function iT(s,a){if(s==="change")return a}var sT=!1;if(ti){var d_;if(ti){var f_="oninput"in document;if(!f_){var aT=document.createElement("div");aT.setAttribute("oninput","return;"),f_=typeof aT.oninput=="function"}d_=f_}else d_=!1;sT=d_&&(!document.documentMode||9<document.documentMode)}function oT(){xn&&(xn.detachEvent("onpropertychange",lT),Si=xn=null)}function lT(s){if(s.propertyName==="value"&&Tp(Si)){var a=[];fs(a,Si,s,Mr(s)),up(lh,a)}}function fk(s,a,l){s==="focusin"?(oT(),xn=a,Si=l,xn.attachEvent("onpropertychange",lT)):s==="focusout"&&oT()}function pk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Tp(Si)}function mk(s,a){if(s==="click")return Tp(a)}function gk(s,a){if(s==="input"||s==="change")return Tp(a)}function yk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var mr=typeof Object.is=="function"?Object.is:yk;function uh(s,a){if(mr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!fr.call(a,m)||!mr(s[m],a[m]))return!1}return!0}function uT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cT(s,a){var l=uT(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=uT(l)}}function hT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?hT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function dT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=bo(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=bo(s.document)}return a}function p_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var _k=ti&&"documentMode"in document&&11>=document.documentMode,Kl=null,m_=null,ch=null,g_=!1;function fT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;g_||Kl==null||Kl!==bo(c)||(c=Kl,"selectionStart"in c&&p_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ch&&uh(ch,c)||(ch=c,c=lm(m_,"onSelect"),0<c.length&&(a=new Bl("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Kl)))}function Oo(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Wl={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionrun:Oo("Transition","TransitionRun"),transitionstart:Oo("Transition","TransitionStart"),transitioncancel:Oo("Transition","TransitionCancel"),transitionend:Oo("Transition","TransitionEnd")},y_={},pT={};ti&&(pT=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function Do(s){if(y_[s])return y_[s];if(!Wl[s])return s;var a=Wl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in pT)return y_[s]=a[l];return s}var mT=Do("animationend"),gT=Do("animationiteration"),yT=Do("animationstart"),vk=Do("transitionrun"),bk=Do("transitionstart"),Ek=Do("transitioncancel"),_T=Do("transitionend"),vT=new Map,__="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");__.push("scrollEnd");function ni(s,a){vT.set(s,a),ei(a,[s])}var bT=new WeakMap;function Ur(s,a){if(typeof s=="object"&&s!==null){var l=bT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Vl(a)},bT.set(s,a),a)}return{value:s,source:a,stack:Vl(a)}}var Br=[],Ql=0,v_=0;function Sp(){for(var s=Ql,a=v_=Ql=0;a<s;){var l=Br[a];Br[a++]=null;var c=Br[a];Br[a++]=null;var m=Br[a];Br[a++]=null;var _=Br[a];if(Br[a++]=null,c!==null&&m!==null){var I=c.pending;I===null?m.next=m:(m.next=I.next,I.next=m),c.pending=m}_!==0&&ET(l,m,_)}}function Ap(s,a,l,c){Br[Ql++]=s,Br[Ql++]=a,Br[Ql++]=l,Br[Ql++]=c,v_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function b_(s,a,l,c){return Ap(s,a,l,c),Ip(s)}function Yl(s,a){return Ap(s,null,null,a),Ip(s)}function ET(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,_=s.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(m=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,m&&a!==null&&(m=31-en(l),s=_.hiddenUpdates,c=s[m],c===null?s[m]=[a]:c.push(a),a.lane=l|536870912),_):null}function Ip(s){if(50<Mh)throw Mh=0,Iv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Xl={};function wk(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(s,a,l,c){return new wk(s,a,l,c)}function E_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ps(s,a){var l=s.alternate;return l===null?(l=gr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function wT(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Rp(s,a,l,c,m,_){var I=0;if(c=s,typeof s=="function")E_(s)&&(I=1);else if(typeof s=="string")I=SM(s,l,Te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case x:return s=gr(31,l,a,m),s.elementType=x,s.lanes=_,s;case E:return No(l.children,m,_,a);case A:I=8,m|=24;break;case P:return s=gr(12,l,a,m|2),s.elementType=P,s.lanes=_,s;case F:return s=gr(13,l,a,m),s.elementType=F,s.lanes=_,s;case $:return s=gr(19,l,a,m),s.elementType=$,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:case V:I=10;break e;case L:I=9;break e;case H:I=11;break e;case M:I=14;break e;case R:I=16,c=null;break e}I=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=gr(I,l,a,m),a.elementType=s,a.type=c,a.lanes=_,a}function No(s,a,l,c){return s=gr(7,s,c,a),s.lanes=l,s}function w_(s,a,l){return s=gr(6,s,null,a),s.lanes=l,s}function T_(s,a,l){return a=gr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Jl=[],Zl=0,Cp=null,xp=0,Fr=[],zr=0,ko=null,ms=1,gs="";function Mo(s,a){Jl[Zl++]=xp,Jl[Zl++]=Cp,Cp=s,xp=a}function TT(s,a,l){Fr[zr++]=ms,Fr[zr++]=gs,Fr[zr++]=ko,ko=s;var c=ms;s=gs;var m=32-en(c)-1;c&=~(1<<m),l+=1;var _=32-en(a)+m;if(30<_){var I=m-m%5;_=(c&(1<<I)-1).toString(32),c>>=I,m-=I,ms=1<<32-en(a)+m|l<<m|c,gs=_+s}else ms=1<<_|l<<m|c,gs=s}function S_(s){s.return!==null&&(Mo(s,1),TT(s,1,0))}function A_(s){for(;s===Cp;)Cp=Jl[--Zl],Jl[Zl]=null,xp=Jl[--Zl],Jl[Zl]=null;for(;s===ko;)ko=Fr[--zr],Fr[zr]=null,gs=Fr[--zr],Fr[zr]=null,ms=Fr[--zr],Fr[zr]=null}var Qn=null,Ut=null,et=!1,Vo=null,Ai=!1,I_=Error(r(519));function Lo(s){var a=Error(r(418,""));throw fh(Ur(a,s)),I_}function ST(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[dn]=s,a[tn]=c,l){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(l=0;l<Lh.length;l++)qe(Lh[l],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),Eo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ll(a);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),wo(a,c.value,c.defaultValue,c.children),Ll(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||zA(a.textContent,l)?(c.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),c.onScroll!=null&&qe("scroll",a),c.onScrollEnd!=null&&qe("scrollend",a),c.onClick!=null&&(a.onclick=um),a=!0):a=!1,a||Lo(s)}function AT(s){for(Qn=s.return;Qn;)switch(Qn.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:Qn=Qn.return}}function hh(s){if(s!==Qn)return!1;if(!et)return AT(s),et=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||jv(s.type,s.memoizedProps)),l=!l),l&&Ut&&Lo(s),AT(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ut=ii(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ut=null}}else a===27?(a=Ut,va(s.type)?(s=Gv,Gv=null,Ut=s):Ut=a):Ut=Qn?ii(s.stateNode.nextSibling):null;return!0}function dh(){Ut=Qn=null,et=!1}function IT(){var s=Vo;return s!==null&&(ir===null?ir=s:ir.push.apply(ir,s),Vo=null),s}function fh(s){Vo===null?Vo=[s]:Vo.push(s)}var R_=re(null),Uo=null,ys=null;function ia(s,a,l){me(R_,a._currentValue),a._currentValue=l}function _s(s){s._currentValue=R_.current,ge(R_)}function C_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function x_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var _=m.dependencies;if(_!==null){var I=m.child;_=_.firstContext;e:for(;_!==null;){var N=_;_=m;for(var z=0;z<a.length;z++)if(N.context===a[z]){_.lanes|=l,N=_.alternate,N!==null&&(N.lanes|=l),C_(_.return,l,s),c||(I=null);break e}_=N.next}}else if(m.tag===18){if(I=m.return,I===null)throw Error(r(341));I.lanes|=l,_=I.alternate,_!==null&&(_.lanes|=l),C_(I,l,s),I=null}else I=m.child;if(I!==null)I.return=m;else for(I=m;I!==null;){if(I===s){I=null;break}if(m=I.sibling,m!==null){m.return=I.return,I=m;break}I=I.return}m=I}}function ph(s,a,l,c){s=null;for(var m=a,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var I=m.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var N=m.type;mr(m.pendingProps.value,I.value)||(s!==null?s.push(N):s=[N])}}else if(m===$t.current){if(I=m.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(qh):s=[qh])}m=m.return}s!==null&&x_(a,s,l,c),a.flags|=262144}function Pp(s){for(s=s.firstContext;s!==null;){if(!mr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bo(s){Uo=s,ys=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Un(s){return RT(Uo,s)}function Op(s,a){return Uo===null&&Bo(s),RT(s,a)}function RT(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ys===null){if(s===null)throw Error(r(308));ys=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ys=ys.next=a;return l}var Tk=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Sk=n.unstable_scheduleCallback,Ak=n.unstable_NormalPriority,mn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function P_(){return{controller:new Tk,data:new Map,refCount:0}}function mh(s){s.refCount--,s.refCount===0&&Sk(Ak,function(){s.controller.abort()})}var gh=null,O_=0,eu=0,tu=null;function Ik(s,a){if(gh===null){var l=gh=[];O_=0,eu=Nv(),tu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return O_++,a.then(CT,CT),a}function CT(){if(--O_===0&&gh!==null){tu!==null&&(tu.status="fulfilled");var s=gh;gh=null,eu=0,tu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Rk(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var xT=G.S;G.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ik(s,a),xT!==null&&xT(s,a)};var Fo=re(null);function D_(){var s=Fo.current;return s!==null?s:vt.pooledCache}function Dp(s,a){a===null?me(Fo,Fo.current):me(Fo,a.pool)}function PT(){var s=D_();return s===null?null:{parent:mn._currentValue,pool:s}}var yh=Error(r(460)),OT=Error(r(474)),Np=Error(r(542)),N_={then:function(){}};function DT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function kp(){}function NT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(kp,kp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,MT(s),s;default:if(typeof a.status=="string")a.then(kp,kp);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,MT(s),s}throw _h=a,yh}}var _h=null;function kT(){if(_h===null)throw Error(r(459));var s=_h;return _h=null,s}function MT(s){if(s===yh||s===Np)throw Error(r(483))}var sa=!1;function k_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function M_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function aa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function oa(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(at&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Ip(s),ET(s,null,l),a}return Ap(s,c,a,l),Ip(s)}function vh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Kc(s,l)}}function V_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?m=_=I:_=_.next=I,l=l.next}while(l!==null);_===null?m=_=a:_=_.next=a}else m=_=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var L_=!1;function bh(){if(L_){var s=tu;if(s!==null)throw s}}function Eh(s,a,l,c){L_=!1;var m=s.updateQueue;sa=!1;var _=m.firstBaseUpdate,I=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var z=N,ee=z.next;z.next=null,I===null?_=ee:I.next=ee,I=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==I&&(N===null?ce.firstBaseUpdate=ee:N.next=ee,ce.lastBaseUpdate=z))}if(_!==null){var de=m.baseState;I=0,ce=ee=z=null,N=_;do{var te=N.lane&-536870913,ne=te!==N.lane;if(ne?(Ye&te)===te:(c&te)===te){te!==0&&te===eu&&(L_=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ne=s,Pe=N;te=a;var ft=l;switch(Pe.tag){case 1:if(Ne=Pe.payload,typeof Ne=="function"){de=Ne.call(ft,de,te);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Pe.payload,te=typeof Ne=="function"?Ne.call(ft,de,te):Ne,te==null)break e;de=g({},de,te);break e;case 2:sa=!0}}te=N.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(ee=ce=ne,z=de):ce=ce.next=ne,I|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ce===null&&(z=de),m.baseState=z,m.firstBaseUpdate=ee,m.lastBaseUpdate=ce,_===null&&(m.shared.lanes=0),ma|=I,s.lanes=I,s.memoizedState=de}}function VT(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function LT(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)VT(l[s],a)}var nu=re(null),Mp=re(0);function UT(s,a){s=As,me(Mp,s),me(nu,a),As=s|a.baseLanes}function U_(){me(Mp,As),me(nu,nu.current)}function B_(){As=Mp.current,ge(nu),ge(Mp)}var la=0,Be=null,ht=null,rn=null,Vp=!1,ru=!1,zo=!1,Lp=0,wh=0,iu=null,Ck=0;function Wt(){throw Error(r(321))}function F_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!mr(s[l],a[l]))return!1;return!0}function z_(s,a,l,c,m,_){return la=_,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=s===null||s.memoizedState===null?ES:wS,zo=!1,_=l(c,m),zo=!1,ru&&(_=FT(a,l,c,m)),BT(s),_}function BT(s){G.H=qp;var a=ht!==null&&ht.next!==null;if(la=0,rn=ht=Be=null,Vp=!1,wh=0,iu=null,a)throw Error(r(300));s===null||En||(s=s.dependencies,s!==null&&Pp(s)&&(En=!0))}function FT(s,a,l,c){Be=s;var m=0;do{if(ru&&(iu=null),wh=0,ru=!1,25<=m)throw Error(r(301));if(m+=1,rn=ht=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}G.H=Mk,_=a(l,c)}while(ru);return _}function xk(){var s=G.H,a=s.useState()[0];return a=typeof a.then=="function"?Th(a):a,s=s.useState()[0],(ht!==null?ht.memoizedState:null)!==s&&(Be.flags|=1024),a}function j_(){var s=Lp!==0;return Lp=0,s}function q_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function H_(s){if(Vp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Vp=!1}la=0,rn=ht=Be=null,ru=!1,wh=Lp=0,iu=null}function nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Be.memoizedState=rn=s:rn=rn.next=s,rn}function sn(){if(ht===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var a=rn===null?Be.memoizedState:rn.next;if(a!==null)rn=a,ht=s;else{if(s===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},rn===null?Be.memoizedState=rn=s:rn=rn.next=s}return rn}function $_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Th(s){var a=wh;return wh+=1,iu===null&&(iu=[]),s=NT(iu,s,a),a=Be,(rn===null?a.memoizedState:rn.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?ES:wS),s}function Up(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Th(s);if(s.$$typeof===V)return Un(s)}throw Error(r(438,String(s)))}function G_(s){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=$_(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=T;return a.index++,l}function vs(s,a){return typeof a=="function"?a(s):a}function Bp(s){var a=sn();return K_(a,ht,s)}function K_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,_=c.pending;if(_!==null){if(m!==null){var I=m.next;m.next=_.next,_.next=I}a.baseQueue=m=_,c.pending=null}if(_=s.baseState,m===null)s.memoizedState=_;else{a=m.next;var N=I=null,z=null,ee=a,ce=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(Ye&de)===de:(la&de)===de){var te=ee.revertLane;if(te===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===eu&&(ce=!0);else if((la&te)===te){ee=ee.next,te===eu&&(ce=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(N=z=de,I=_):z=z.next=de,Be.lanes|=te,ma|=te;de=ee.action,zo&&l(_,de),_=ee.hasEagerState?ee.eagerState:l(_,de)}else te={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(N=z=te,I=_):z=z.next=te,Be.lanes|=de,ma|=de;ee=ee.next}while(ee!==null&&ee!==a);if(z===null?I=_:z.next=N,!mr(_,s.memoizedState)&&(En=!0,ce&&(l=tu,l!==null)))throw l;s.memoizedState=_,s.baseState=I,s.baseQueue=z,c.lastRenderedState=_}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function W_(s){var a=sn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,_=a.memoizedState;if(m!==null){l.pending=null;var I=m=m.next;do _=s(_,I.action),I=I.next;while(I!==m);mr(_,a.memoizedState)||(En=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,c]}function zT(s,a,l){var c=Be,m=sn(),_=et;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=a();var I=!mr((ht||m).memoizedState,l);I&&(m.memoizedState=l,En=!0),m=m.queue;var N=HT.bind(null,c,m,s);if(Sh(2048,8,N,[s]),m.getSnapshot!==a||I||rn!==null&&rn.memoizedState.tag&1){if(c.flags|=2048,su(9,Fp(),qT.bind(null,c,m,l,a),null),vt===null)throw Error(r(349));_||(la&124)!==0||jT(c,a,l)}return l}function jT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=$_(),Be.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function qT(s,a,l,c){a.value=l,a.getSnapshot=c,$T(a)&&GT(s)}function HT(s,a,l){return l(function(){$T(a)&&GT(s)})}function $T(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!mr(s,l)}catch{return!0}}function GT(s){var a=Yl(s,2);a!==null&&Er(a,s,2)}function Q_(s){var a=nr();if(typeof s=="function"){var l=s;if(s=l(),zo){Gt(!0);try{l()}finally{Gt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:s},a}function KT(s,a,l,c){return s.baseState=l,K_(s,ht,typeof c=="function"?c:vs)}function Pk(s,a,l,c,m){if(jp(s))throw Error(r(485));if(s=a.action,s!==null){var _={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};G.T!==null?l(!0):_.isTransition=!1,c(_),l=a.pending,l===null?(_.next=a.pending=_,WT(a,_)):(_.next=l.next,a.pending=l.next=_)}}function WT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var _=G.T,I={};G.T=I;try{var N=l(m,c),z=G.S;z!==null&&z(I,N),QT(s,a,N)}catch(ee){Y_(s,a,ee)}finally{G.T=_}}else try{_=l(m,c),QT(s,a,_)}catch(ee){Y_(s,a,ee)}}function QT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){YT(s,a,c)},function(c){return Y_(s,a,c)}):YT(s,a,l)}function YT(s,a,l){a.status="fulfilled",a.value=l,XT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,WT(s,l)))}function Y_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,XT(a),a=a.next;while(a!==c)}s.action=null}function XT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function JT(s,a){return a}function ZT(s,a){if(et){var l=vt.formState;if(l!==null){e:{var c=Be;if(et){if(Ut){t:{for(var m=Ut,_=Ai;m.nodeType!==8;){if(!_){m=null;break t}if(m=ii(m.nextSibling),m===null){m=null;break t}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){Ut=ii(m.nextSibling),c=m.data==="F!";break e}}Lo(c)}c=!1}c&&(a=l[0])}}return l=nr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JT,lastRenderedState:a},l.queue=c,l=_S.bind(null,Be,c),c.dispatch=l,c=Q_(!1),_=tv.bind(null,Be,!1,c.queue),c=nr(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=Pk.bind(null,Be,m,_,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function eS(s){var a=sn();return tS(a,ht,s)}function tS(s,a,l){if(a=K_(s,a,JT)[0],s=Bp(vs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Th(a)}catch(I){throw I===yh?Np:I}else c=a;a=sn();var m=a.queue,_=m.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,su(9,Fp(),Ok.bind(null,m,l),null)),[c,_,s]}function Ok(s,a){s.action=a}function nS(s){var a=sn(),l=ht;if(l!==null)return tS(a,l,s);sn(),a=a.memoizedState,l=sn();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function su(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=$_(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function Fp(){return{destroy:void 0,resource:void 0}}function rS(){return sn().memoizedState}function zp(s,a,l,c){var m=nr();c=c===void 0?null:c,Be.flags|=s,m.memoizedState=su(1|a,Fp(),l,c)}function Sh(s,a,l,c){var m=sn();c=c===void 0?null:c;var _=m.memoizedState.inst;ht!==null&&c!==null&&F_(c,ht.memoizedState.deps)?m.memoizedState=su(a,_,l,c):(Be.flags|=s,m.memoizedState=su(1|a,_,l,c))}function iS(s,a){zp(8390656,8,s,a)}function sS(s,a){Sh(2048,8,s,a)}function aS(s,a){return Sh(4,2,s,a)}function oS(s,a){return Sh(4,4,s,a)}function lS(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function uS(s,a,l){l=l!=null?l.concat([s]):null,Sh(4,4,lS.bind(null,a,s),l)}function X_(){}function cS(s,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&F_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function hS(s,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&F_(a,c[1]))return c[0];if(c=s(),zo){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[c,a],c}function J_(s,a,l){return l===void 0||(la&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=pA(),Be.lanes|=s,ma|=s,l)}function dS(s,a,l,c){return mr(l,a)?l:nu.current!==null?(s=J_(s,l,c),mr(s,a)||(En=!0),s):(la&42)===0?(En=!0,s.memoizedState=l):(s=pA(),Be.lanes|=s,ma|=s,a)}function fS(s,a,l,c,m){var _=J.p;J.p=_!==0&&8>_?_:8;var I=G.T,N={};G.T=N,tv(s,!1,a,l);try{var z=m(),ee=G.S;if(ee!==null&&ee(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=Rk(z,c);Ah(s,a,ce,br(s))}else Ah(s,a,c,br(s))}catch(de){Ah(s,a,{then:function(){},status:"rejected",reason:de},br())}finally{J.p=_,G.T=I}}function Dk(){}function Z_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=pS(s).queue;fS(s,m,a,le,l===null?Dk:function(){return mS(s),l(c)})}function pS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:le},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function mS(s){var a=pS(s).next.queue;Ah(s,a,{},br())}function ev(){return Un(qh)}function gS(){return sn().memoizedState}function yS(){return sn().memoizedState}function Nk(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=br();s=aa(l);var c=oa(a,s,l);c!==null&&(Er(c,a,l),vh(c,a,l)),a={cache:P_()},s.payload=a;return}a=a.return}}function kk(s,a,l){var c=br();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jp(s)?vS(a,l):(l=b_(s,a,l,c),l!==null&&(Er(l,s,c),bS(l,a,c)))}function _S(s,a,l){var c=br();Ah(s,a,l,c)}function Ah(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jp(s))vS(a,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var I=a.lastRenderedState,N=_(I,l);if(m.hasEagerState=!0,m.eagerState=N,mr(N,I))return Ap(s,a,m,0),vt===null&&Sp(),!1}catch{}finally{}if(l=b_(s,a,m,c),l!==null)return Er(l,s,c),bS(l,a,c),!0}return!1}function tv(s,a,l,c){if(c={lane:2,revertLane:Nv(),action:c,hasEagerState:!1,eagerState:null,next:null},jp(s)){if(a)throw Error(r(479))}else a=b_(s,l,c,2),a!==null&&Er(a,s,2)}function jp(s){var a=s.alternate;return s===Be||a!==null&&a===Be}function vS(s,a){ru=Vp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function bS(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Kc(s,l)}}var qp={readContext:Un,use:Up,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},ES={readContext:Un,use:Up,useCallback:function(s,a){return nr().memoizedState=[s,a===void 0?null:a],s},useContext:Un,useEffect:iS,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,zp(4194308,4,lS.bind(null,a,s),l)},useLayoutEffect:function(s,a){return zp(4194308,4,s,a)},useInsertionEffect:function(s,a){zp(4,2,s,a)},useMemo:function(s,a){var l=nr();a=a===void 0?null:a;var c=s();if(zo){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=nr();if(l!==void 0){var m=l(a);if(zo){Gt(!0);try{l(a)}finally{Gt(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=kk.bind(null,Be,s),[c.memoizedState,s]},useRef:function(s){var a=nr();return s={current:s},a.memoizedState=s},useState:function(s){s=Q_(s);var a=s.queue,l=_S.bind(null,Be,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:X_,useDeferredValue:function(s,a){var l=nr();return J_(l,s,a)},useTransition:function(){var s=Q_(!1);return s=fS.bind(null,Be,s.queue,!0,!1),nr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Be,m=nr();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),vt===null)throw Error(r(349));(Ye&124)!==0||jT(c,a,l)}m.memoizedState=l;var _={value:l,getSnapshot:a};return m.queue=_,iS(HT.bind(null,c,_,s),[s]),c.flags|=2048,su(9,Fp(),qT.bind(null,c,_,l,a),null),l},useId:function(){var s=nr(),a=vt.identifierPrefix;if(et){var l=gs,c=ms;l=(c&~(1<<32-en(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=Lp++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Ck++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:ev,useFormState:ZT,useActionState:ZT,useOptimistic:function(s){var a=nr();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=tv.bind(null,Be,!0,l),l.dispatch=a,[s,a]},useMemoCache:G_,useCacheRefresh:function(){return nr().memoizedState=Nk.bind(null,Be)}},wS={readContext:Un,use:Up,useCallback:cS,useContext:Un,useEffect:sS,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:hS,useReducer:Bp,useRef:rS,useState:function(){return Bp(vs)},useDebugValue:X_,useDeferredValue:function(s,a){var l=sn();return dS(l,ht.memoizedState,s,a)},useTransition:function(){var s=Bp(vs)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:Th(s),a]},useSyncExternalStore:zT,useId:gS,useHostTransitionStatus:ev,useFormState:eS,useActionState:eS,useOptimistic:function(s,a){var l=sn();return KT(l,ht,s,a)},useMemoCache:G_,useCacheRefresh:yS},Mk={readContext:Un,use:Up,useCallback:cS,useContext:Un,useEffect:sS,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:hS,useReducer:W_,useRef:rS,useState:function(){return W_(vs)},useDebugValue:X_,useDeferredValue:function(s,a){var l=sn();return ht===null?J_(l,s,a):dS(l,ht.memoizedState,s,a)},useTransition:function(){var s=W_(vs)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:Th(s),a]},useSyncExternalStore:zT,useId:gS,useHostTransitionStatus:ev,useFormState:nS,useActionState:nS,useOptimistic:function(s,a){var l=sn();return ht!==null?KT(l,ht,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:G_,useCacheRefresh:yS},au=null,Ih=0;function Hp(s){var a=Ih;return Ih+=1,au===null&&(au=[]),NT(au,s,a)}function Rh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function $p(s,a){throw a.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function TS(s){var a=s._init;return a(s._payload)}function SS(s){function a(Q,K){if(s){var Z=Q.deletions;Z===null?(Q.deletions=[K],Q.flags|=16):Z.push(K)}}function l(Q,K){if(!s)return null;for(;K!==null;)a(Q,K),K=K.sibling;return null}function c(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function m(Q,K){return Q=ps(Q,K),Q.index=0,Q.sibling=null,Q}function _(Q,K,Z){return Q.index=Z,s?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<K?(Q.flags|=67108866,K):Z):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function I(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,K,Z,he){return K===null||K.tag!==6?(K=w_(Z,Q.mode,he),K.return=Q,K):(K=m(K,Z),K.return=Q,K)}function z(Q,K,Z,he){var Se=Z.type;return Se===E?ce(Q,K,Z.props.children,he,Z.key):K!==null&&(K.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&TS(Se)===K.type)?(K=m(K,Z.props),Rh(K,Z),K.return=Q,K):(K=Rp(Z.type,Z.key,Z.props,null,Q.mode,he),Rh(K,Z),K.return=Q,K)}function ee(Q,K,Z,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=T_(Z,Q.mode,he),K.return=Q,K):(K=m(K,Z.children||[]),K.return=Q,K)}function ce(Q,K,Z,he,Se){return K===null||K.tag!==7?(K=No(Z,Q.mode,he,Se),K.return=Q,K):(K=m(K,Z),K.return=Q,K)}function de(Q,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=w_(""+K,Q.mode,Z),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return Z=Rp(K.type,K.key,K.props,null,Q.mode,Z),Rh(Z,K),Z.return=Q,Z;case w:return K=T_(K,Q.mode,Z),K.return=Q,K;case R:var he=K._init;return K=he(K._payload),de(Q,K,Z)}if(B(K)||C(K))return K=No(K,Q.mode,Z,null),K.return=Q,K;if(typeof K.then=="function")return de(Q,Hp(K),Z);if(K.$$typeof===V)return de(Q,Op(Q,K),Z);$p(Q,K)}return null}function te(Q,K,Z,he){var Se=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:N(Q,K,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Se?z(Q,K,Z,he):null;case w:return Z.key===Se?ee(Q,K,Z,he):null;case R:return Se=Z._init,Z=Se(Z._payload),te(Q,K,Z,he)}if(B(Z)||C(Z))return Se!==null?null:ce(Q,K,Z,he,null);if(typeof Z.then=="function")return te(Q,K,Hp(Z),he);if(Z.$$typeof===V)return te(Q,K,Op(Q,Z),he);$p(Q,Z)}return null}function ne(Q,K,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(Z)||null,N(K,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return Q=Q.get(he.key===null?Z:he.key)||null,z(K,Q,he,Se);case w:return Q=Q.get(he.key===null?Z:he.key)||null,ee(K,Q,he,Se);case R:var ze=he._init;return he=ze(he._payload),ne(Q,K,Z,he,Se)}if(B(he)||C(he))return Q=Q.get(Z)||null,ce(K,Q,he,Se,null);if(typeof he.then=="function")return ne(Q,K,Z,Hp(he),Se);if(he.$$typeof===V)return ne(Q,K,Z,Op(K,he),Se);$p(K,he)}return null}function Ne(Q,K,Z,he){for(var Se=null,ze=null,Re=K,Oe=K=0,Tn=null;Re!==null&&Oe<Z.length;Oe++){Re.index>Oe?(Tn=Re,Re=null):Tn=Re.sibling;var Je=te(Q,Re,Z[Oe],he);if(Je===null){Re===null&&(Re=Tn);break}s&&Re&&Je.alternate===null&&a(Q,Re),K=_(Je,K,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je,Re=Tn}if(Oe===Z.length)return l(Q,Re),et&&Mo(Q,Oe),Se;if(Re===null){for(;Oe<Z.length;Oe++)Re=de(Q,Z[Oe],he),Re!==null&&(K=_(Re,K,Oe),ze===null?Se=Re:ze.sibling=Re,ze=Re);return et&&Mo(Q,Oe),Se}for(Re=c(Re);Oe<Z.length;Oe++)Tn=ne(Re,Q,Oe,Z[Oe],he),Tn!==null&&(s&&Tn.alternate!==null&&Re.delete(Tn.key===null?Oe:Tn.key),K=_(Tn,K,Oe),ze===null?Se=Tn:ze.sibling=Tn,ze=Tn);return s&&Re.forEach(function(Sa){return a(Q,Sa)}),et&&Mo(Q,Oe),Se}function Pe(Q,K,Z,he){if(Z==null)throw Error(r(151));for(var Se=null,ze=null,Re=K,Oe=K=0,Tn=null,Je=Z.next();Re!==null&&!Je.done;Oe++,Je=Z.next()){Re.index>Oe?(Tn=Re,Re=null):Tn=Re.sibling;var Sa=te(Q,Re,Je.value,he);if(Sa===null){Re===null&&(Re=Tn);break}s&&Re&&Sa.alternate===null&&a(Q,Re),K=_(Sa,K,Oe),ze===null?Se=Sa:ze.sibling=Sa,ze=Sa,Re=Tn}if(Je.done)return l(Q,Re),et&&Mo(Q,Oe),Se;if(Re===null){for(;!Je.done;Oe++,Je=Z.next())Je=de(Q,Je.value,he),Je!==null&&(K=_(Je,K,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je);return et&&Mo(Q,Oe),Se}for(Re=c(Re);!Je.done;Oe++,Je=Z.next())Je=ne(Re,Q,Oe,Je.value,he),Je!==null&&(s&&Je.alternate!==null&&Re.delete(Je.key===null?Oe:Je.key),K=_(Je,K,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je);return s&&Re.forEach(function(VM){return a(Q,VM)}),et&&Mo(Q,Oe),Se}function ft(Q,K,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Se=Z.key;K!==null;){if(K.key===Se){if(Se=Z.type,Se===E){if(K.tag===7){l(Q,K.sibling),he=m(K,Z.props.children),he.return=Q,Q=he;break e}}else if(K.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&TS(Se)===K.type){l(Q,K.sibling),he=m(K,Z.props),Rh(he,Z),he.return=Q,Q=he;break e}l(Q,K);break}else a(Q,K);K=K.sibling}Z.type===E?(he=No(Z.props.children,Q.mode,he,Z.key),he.return=Q,Q=he):(he=Rp(Z.type,Z.key,Z.props,null,Q.mode,he),Rh(he,Z),he.return=Q,Q=he)}return I(Q);case w:e:{for(Se=Z.key;K!==null;){if(K.key===Se)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){l(Q,K.sibling),he=m(K,Z.children||[]),he.return=Q,Q=he;break e}else{l(Q,K);break}else a(Q,K);K=K.sibling}he=T_(Z,Q.mode,he),he.return=Q,Q=he}return I(Q);case R:return Se=Z._init,Z=Se(Z._payload),ft(Q,K,Z,he)}if(B(Z))return Ne(Q,K,Z,he);if(C(Z)){if(Se=C(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Pe(Q,K,Z,he)}if(typeof Z.then=="function")return ft(Q,K,Hp(Z),he);if(Z.$$typeof===V)return ft(Q,K,Op(Q,Z),he);$p(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(l(Q,K.sibling),he=m(K,Z),he.return=Q,Q=he):(l(Q,K),he=w_(Z,Q.mode,he),he.return=Q,Q=he),I(Q)):l(Q,K)}return function(Q,K,Z,he){try{Ih=0;var Se=ft(Q,K,Z,he);return au=null,Se}catch(Re){if(Re===yh||Re===Np)throw Re;var ze=gr(29,Re,null,Q.mode);return ze.lanes=he,ze.return=Q,ze}finally{}}}var ou=SS(!0),AS=SS(!1),jr=re(null),Ii=null;function ua(s){var a=s.alternate;me(gn,gn.current&1),me(jr,s),Ii===null&&(a===null||nu.current!==null||a.memoizedState!==null)&&(Ii=s)}function IS(s){if(s.tag===22){if(me(gn,gn.current),me(jr,s),Ii===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ii=s)}}else ca()}function ca(){me(gn,gn.current),me(jr,jr.current)}function bs(s){ge(jr),Ii===s&&(Ii=null),ge(gn)}var gn=re(0);function Gp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||$v(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function nv(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var rv={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=br(),m=aa(c);m.payload=a,l!=null&&(m.callback=l),a=oa(s,m,c),a!==null&&(Er(a,s,c),vh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=br(),m=aa(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=oa(s,m,c),a!==null&&(Er(a,s,c),vh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=br(),c=aa(l);c.tag=2,a!=null&&(c.callback=a),a=oa(s,c,l),a!==null&&(Er(a,s,l),vh(a,s,l))}};function RS(s,a,l,c,m,_,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,_,I):a.prototype&&a.prototype.isPureReactComponent?!uh(l,c)||!uh(m,_):!0}function CS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&rv.enqueueReplaceState(a,a.state,null)}function jo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=g({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Kp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function xS(s){Kp(s)}function PS(s){console.error(s)}function OS(s){Kp(s)}function Wp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function DS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function iv(s,a,l){return l=aa(l),l.tag=3,l.payload={element:null},l.callback=function(){Wp(s,a)},l}function NS(s){return s=aa(s),s.tag=3,s}function kS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var _=c.value;s.payload=function(){return m(_)},s.callback=function(){DS(a,l,c)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){DS(a,l,c),typeof m!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function Vk(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&ph(a,l,m,!0),l=jr.current,l!==null){switch(l.tag){case 13:return Ii===null?Cv():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===N_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Pv(s,c,m)),!1;case 22:return l.flags|=65536,c===N_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Pv(s,c,m)),!1}throw Error(r(435,l.tag))}return Pv(s,c,m),Cv(),!1}if(et)return a=jr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==I_&&(s=Error(r(422),{cause:c}),fh(Ur(s,l)))):(c!==I_&&(a=Error(r(423),{cause:c}),fh(Ur(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Ur(c,l),m=iv(s.stateNode,c,m),V_(s,m),Bt!==4&&(Bt=2)),!1;var _=Error(r(520),{cause:c});if(_=Ur(_,l),kh===null?kh=[_]:kh.push(_),Bt!==4&&(Bt=2),a===null)return!0;c=Ur(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=iv(l.stateNode,c,s),V_(l,s),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ga===null||!ga.has(_))))return l.flags|=65536,m&=-m,l.lanes|=m,m=NS(m),kS(m,s,l,c),V_(l,m),!1}l=l.return}while(l!==null);return!1}var MS=Error(r(461)),En=!1;function Pn(s,a,l,c){a.child=s===null?AS(a,null,l,c):ou(a,s.child,l,c)}function VS(s,a,l,c,m){l=l.render;var _=a.ref;if("ref"in c){var I={};for(var N in c)N!=="ref"&&(I[N]=c[N])}else I=c;return Bo(a),c=z_(s,a,l,I,_,m),N=j_(),s!==null&&!En?(q_(s,a,m),Es(s,a,m)):(et&&N&&S_(a),a.flags|=1,Pn(s,a,c,m),a.child)}function LS(s,a,l,c,m){if(s===null){var _=l.type;return typeof _=="function"&&!E_(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,US(s,a,_,c,m)):(s=Rp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!dv(s,m)){var I=_.memoizedProps;if(l=l.compare,l=l!==null?l:uh,l(I,c)&&s.ref===a.ref)return Es(s,a,m)}return a.flags|=1,s=ps(_,c),s.ref=a.ref,s.return=a,a.child=s}function US(s,a,l,c,m){if(s!==null){var _=s.memoizedProps;if(uh(_,c)&&s.ref===a.ref)if(En=!1,a.pendingProps=c=_,dv(s,m))(s.flags&131072)!==0&&(En=!0);else return a.lanes=s.lanes,Es(s,a,m)}return sv(s,a,l,c,m)}function BS(s,a,l){var c=a.pendingProps,m=c.children,_=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=_!==null?_.baseLanes|l:l,s!==null){for(m=a.child=s.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;a.childLanes=_&~c}else a.childLanes=0,a.child=null;return FS(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Dp(a,_!==null?_.cachePool:null),_!==null?UT(a,_):U_(),IS(a);else return a.lanes=a.childLanes=536870912,FS(s,a,_!==null?_.baseLanes|l:l,l)}else _!==null?(Dp(a,_.cachePool),UT(a,_),ca(),a.memoizedState=null):(s!==null&&Dp(a,null),U_(),ca());return Pn(s,a,m,l),a.child}function FS(s,a,l,c){var m=D_();return m=m===null?null:{parent:mn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Dp(a,null),U_(),IS(a),s!==null&&ph(s,a,c,!0),null}function Qp(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function sv(s,a,l,c,m){return Bo(a),l=z_(s,a,l,c,void 0,m),c=j_(),s!==null&&!En?(q_(s,a,m),Es(s,a,m)):(et&&c&&S_(a),a.flags|=1,Pn(s,a,l,m),a.child)}function zS(s,a,l,c,m,_){return Bo(a),a.updateQueue=null,l=FT(a,c,l,m),BT(s),c=j_(),s!==null&&!En?(q_(s,a,_),Es(s,a,_)):(et&&c&&S_(a),a.flags|=1,Pn(s,a,l,_),a.child)}function jS(s,a,l,c,m){if(Bo(a),a.stateNode===null){var _=Xl,I=l.contextType;typeof I=="object"&&I!==null&&(_=Un(I)),_=new l(c,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=rv,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=c,_.state=a.memoizedState,_.refs={},k_(a),I=l.contextType,_.context=typeof I=="object"&&I!==null?Un(I):Xl,_.state=a.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(nv(a,l,I,c),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&rv.enqueueReplaceState(_,_.state,null),Eh(a,c,_,m),bh(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){_=a.stateNode;var N=a.memoizedProps,z=jo(l,N);_.props=z;var ee=_.context,ce=l.contextType;I=Xl,typeof ce=="object"&&ce!==null&&(I=Un(ce));var de=l.getDerivedStateFromProps;ce=typeof de=="function"||typeof _.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ce||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N||ee!==I)&&CS(a,_,c,I),sa=!1;var te=a.memoizedState;_.state=te,Eh(a,c,_,m),bh(),ee=a.memoizedState,N||te!==ee||sa?(typeof de=="function"&&(nv(a,l,de,c),ee=a.memoizedState),(z=sa||RS(a,l,z,c,te,ee,I))?(ce||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=ee),_.props=c,_.state=ee,_.context=I,c=z):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{_=a.stateNode,M_(s,a),I=a.memoizedProps,ce=jo(l,I),_.props=ce,de=a.pendingProps,te=_.context,ee=l.contextType,z=Xl,typeof ee=="object"&&ee!==null&&(z=Un(ee)),N=l.getDerivedStateFromProps,(ee=typeof N=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==de||te!==z)&&CS(a,_,c,z),sa=!1,te=a.memoizedState,_.state=te,Eh(a,c,_,m),bh();var ne=a.memoizedState;I!==de||te!==ne||sa||s!==null&&s.dependencies!==null&&Pp(s.dependencies)?(typeof N=="function"&&(nv(a,l,N,c),ne=a.memoizedState),(ce=sa||RS(a,l,ce,c,te,ne,z)||s!==null&&s.dependencies!==null&&Pp(s.dependencies))?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ne,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ne,z)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),_.props=c,_.state=ne,_.context=z,c=ce):(typeof _.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),c=!1)}return _=c,Qp(s,a),c=(a.flags&128)!==0,_||c?(_=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,s!==null&&c?(a.child=ou(a,s.child,null,m),a.child=ou(a,null,l,m)):Pn(s,a,l,m),a.memoizedState=_.state,s=a.child):s=Es(s,a,m),s}function qS(s,a,l,c){return dh(),a.flags|=256,Pn(s,a,l,c),a.child}var av={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ov(s){return{baseLanes:s,cachePool:PT()}}function lv(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=qr),s}function HS(s,a,l){var c=a.pendingProps,m=!1,_=(a.flags&128)!==0,I;if((I=_)||(I=s!==null&&s.memoizedState===null?!1:(gn.current&2)!==0),I&&(m=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?ua(a):ca(),et){var N=Ut,z;if(z=N){e:{for(z=N,N=Ai;z.nodeType!==8;){if(!N){N=null;break e}if(z=ii(z.nextSibling),z===null){N=null;break e}}N=z}N!==null?(a.memoizedState={dehydrated:N,treeContext:ko!==null?{id:ms,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},z=gr(18,null,null,0),z.stateNode=N,z.return=a,a.child=z,Qn=a,Ut=null,z=!0):z=!1}z||Lo(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return $v(N)?a.lanes=32:a.lanes=536870912,null;bs(a)}return N=c.children,c=c.fallback,m?(ca(),m=a.mode,N=Yp({mode:"hidden",children:N},m),c=No(c,m,l,null),N.return=a,c.return=a,N.sibling=c,a.child=N,m=a.child,m.memoizedState=ov(l),m.childLanes=lv(s,I,l),a.memoizedState=av,c):(ua(a),uv(a,N))}if(z=s.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(_)a.flags&256?(ua(a),a.flags&=-257,a=cv(s,a,l)):a.memoizedState!==null?(ca(),a.child=s.child,a.flags|=128,a=null):(ca(),m=c.fallback,N=a.mode,c=Yp({mode:"visible",children:c.children},N),m=No(m,N,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,ou(a,s.child,null,l),c=a.child,c.memoizedState=ov(l),c.childLanes=lv(s,I,l),a.memoizedState=av,a=m);else if(ua(a),$v(N)){if(I=N.nextSibling&&N.nextSibling.dataset,I)var ee=I.dgst;I=ee,c=Error(r(419)),c.stack="",c.digest=I,fh({value:c,source:null,stack:null}),a=cv(s,a,l)}else if(En||ph(s,a,l,!1),I=(l&s.childLanes)!==0,En||I){if(I=vt,I!==null&&(c=l&-l,c=(c&42)!==0?1:Xs(c),c=(c&(I.suspendedLanes|l))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,Yl(s,c),Er(I,s,c),MS;N.data==="$?"||Cv(),a=cv(s,a,l)}else N.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=z.treeContext,Ut=ii(N.nextSibling),Qn=a,et=!0,Vo=null,Ai=!1,s!==null&&(Fr[zr++]=ms,Fr[zr++]=gs,Fr[zr++]=ko,ms=s.id,gs=s.overflow,ko=a),a=uv(a,c.children),a.flags|=4096);return a}return m?(ca(),m=c.fallback,N=a.mode,z=s.child,ee=z.sibling,c=ps(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,ee!==null?m=ps(ee,m):(m=No(m,N,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,N=s.child.memoizedState,N===null?N=ov(l):(z=N.cachePool,z!==null?(ee=mn._currentValue,z=z.parent!==ee?{parent:ee,pool:ee}:z):z=PT(),N={baseLanes:N.baseLanes|l,cachePool:z}),m.memoizedState=N,m.childLanes=lv(s,I,l),a.memoizedState=av,c):(ua(a),l=s.child,s=l.sibling,l=ps(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(I=a.deletions,I===null?(a.deletions=[s],a.flags|=16):I.push(s)),a.child=l,a.memoizedState=null,l)}function uv(s,a){return a=Yp({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Yp(s,a){return s=gr(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function cv(s,a,l){return ou(a,s.child,null,l),s=uv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function $S(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),C_(s.return,a,l)}function hv(s,a,l,c,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=m)}function GS(s,a,l){var c=a.pendingProps,m=c.revealOrder,_=c.tail;if(Pn(s,a,c.children,l),c=gn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$S(s,l,a);else if(s.tag===19)$S(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(me(gn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Gp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),hv(a,!1,m,l,_);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Gp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}hv(a,!0,l,null,_);break;case"together":hv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Es(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ma|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(ph(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=ps(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=ps(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function dv(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Pp(s)))}function Lk(s,a,l){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),ia(a,mn,s.memoizedState.cache),dh();break;case 27:case 5:di(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:ia(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ua(a),a.flags|=128,null):(l&a.child.childLanes)!==0?HS(s,a,l):(ua(a),s=Es(s,a,l),s!==null?s.sibling:null);ua(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(ph(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return GS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(gn,gn.current),c)break;return null;case 22:case 23:return a.lanes=0,BS(s,a,l);case 24:ia(a,mn,s.memoizedState.cache)}return Es(s,a,l)}function KS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)En=!0;else{if(!dv(s,l)&&(a.flags&128)===0)return En=!1,Lk(s,a,l);En=(s.flags&131072)!==0}else En=!1,et&&(a.flags&1048576)!==0&&TT(a,xp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")E_(c)?(s=jo(c,s),a.tag=1,a=jS(null,a,c,s,l)):(a.tag=0,a=sv(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===H){a.tag=11,a=VS(null,a,c,s,l);break e}else if(m===M){a.tag=14,a=LS(null,a,c,s,l);break e}}throw a=se(c)||c,Error(r(306,a,""))}}return a;case 0:return sv(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=jo(c,a.pendingProps),jS(s,a,c,m,l);case 3:e:{if(rt(a,a.stateNode.containerInfo),s===null)throw Error(r(387));c=a.pendingProps;var _=a.memoizedState;m=_.element,M_(s,a),Eh(a,c,null,l);var I=a.memoizedState;if(c=I.cache,ia(a,mn,c),c!==_.cache&&x_(a,[mn],l,!0),bh(),c=I.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=qS(s,a,c,l);break e}else if(c!==m){m=Ur(Error(r(424)),a),fh(m),a=qS(s,a,c,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ut=ii(s.firstChild),Qn=a,et=!0,Vo=null,Ai=!0,l=AS(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(dh(),c===m){a=Es(s,a,l);break e}Pn(s,a,c,l)}a=a.child}return a;case 26:return Qp(s,a),s===null?(l=XA(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=cm(xe.current).createElement(l),c[dn]=a,c[tn]=s,Dn(c,l,s),Kt(c),a.stateNode=c):a.memoizedState=XA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return di(a),s===null&&et&&(c=a.stateNode=WA(a.type,a.pendingProps,xe.current),Qn=a,Ai=!0,m=Ut,va(a.type)?(Gv=m,Ut=ii(c.firstChild)):Ut=m),Pn(s,a,a.pendingProps.children,l),Qp(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&et&&((m=c=Ut)&&(c=hM(c,a.type,a.pendingProps,Ai),c!==null?(a.stateNode=c,Qn=a,Ut=ii(c.firstChild),Ai=!1,m=!0):m=!1),m||Lo(a)),di(a),m=a.type,_=a.pendingProps,I=s!==null?s.memoizedProps:null,c=_.children,jv(m,_)?c=null:I!==null&&jv(m,I)&&(a.flags|=32),a.memoizedState!==null&&(m=z_(s,a,xk,null,null,l),qh._currentValue=m),Qp(s,a),Pn(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Ut)&&(l=dM(l,a.pendingProps,Ai),l!==null?(a.stateNode=l,Qn=a,Ut=null,s=!0):s=!1),s||Lo(a)),null;case 13:return HS(s,a,l);case 4:return rt(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=ou(a,null,c,l):Pn(s,a,c,l),a.child;case 11:return VS(s,a,a.type,a.pendingProps,l);case 7:return Pn(s,a,a.pendingProps,l),a.child;case 8:return Pn(s,a,a.pendingProps.children,l),a.child;case 12:return Pn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ia(a,a.type,c.value),Pn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Bo(a),m=Un(m),c=c(m),a.flags|=1,Pn(s,a,c,l),a.child;case 14:return LS(s,a,a.type,a.pendingProps,l);case 15:return US(s,a,a.type,a.pendingProps,l);case 19:return GS(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=Yp(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=ps(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return BS(s,a,l);case 24:return Bo(a),c=Un(mn),s===null?(m=D_(),m===null&&(m=vt,_=P_(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=l),m=_),a.memoizedState={parent:c,cache:m},k_(a),ia(a,mn,m)):((s.lanes&l)!==0&&(M_(s,a),Eh(a,null,null,l),bh()),m=s.memoizedState,_=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ia(a,mn,c)):(c=_.cache,ia(a,mn,c),c!==m.cache&&x_(a,[mn],l,!0))),Pn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ws(s){s.flags|=4}function WS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!nI(a)){if(a=jr.current,a!==null&&((Ye&4194048)===Ye?Ii!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||a!==Ii))throw _h=N_,OT;s.flags|=8192}}function Xp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?$c():536870912,s.lanes|=a,hu|=a)}function Ch(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Dt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function Uk(s,a,l){var c=a.pendingProps;switch(A_(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return Dt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),_s(mn),Or(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(hh(a)?ws(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,IT())),Dt(a),null;case 26:return l=a.memoizedState,s===null?(ws(a),l!==null?(Dt(a),WS(a,l)):(Dt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ws(a),Dt(a),WS(a,l)):(Dt(a),a.flags&=-16777217):(s.memoizedProps!==c&&ws(a),Dt(a),a.flags&=-16777217),null;case 27:Dr(a),l=xe.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ws(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}s=Te.current,hh(a)?ST(a):(s=WA(m,c,l),a.stateNode=s,ws(a))}return Dt(a),null;case 5:if(Dr(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ws(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}if(s=Te.current,hh(a))ST(a);else{switch(m=cm(xe.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[dn]=a,s[tn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(Dn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ws(a)}}return Dt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&ws(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=xe.current,hh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Qn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[dn]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||zA(s.nodeValue,l)),s||Lo(a)}else s=cm(s).createTextNode(c),s[dn]=a,a.stateNode=s}return Dt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=hh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[dn]=a}else dh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),m=!1}else m=IT(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(bs(a),a):(bs(a),null)}if(bs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var _=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Xp(a,a.updateQueue),Dt(a),null;case 4:return Or(),s===null&&Lv(a.stateNode.containerInfo),Dt(a),null;case 10:return _s(a.type),Dt(a),null;case 19:if(ge(gn),m=a.memoizedState,m===null)return Dt(a),null;if(c=(a.flags&128)!==0,_=m.rendering,_===null)if(c)Ch(m,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=Gp(s),_!==null){for(a.flags|=128,Ch(m,!1),s=_.updateQueue,a.updateQueue=s,Xp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)wT(l,s),l=l.sibling;return me(gn,gn.current&1|2),a.child}s=s.sibling}m.tail!==null&&tr()>em&&(a.flags|=128,c=!0,Ch(m,!1),a.lanes=4194304)}else{if(!c)if(s=Gp(_),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Xp(a,s),Ch(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!et)return Dt(a),null}else 2*tr()-m.renderingStartTime>em&&l!==536870912&&(a.flags|=128,c=!0,Ch(m,!1),a.lanes=4194304);m.isBackwards?(_.sibling=a.child,a.child=_):(s=m.last,s!==null?s.sibling=_:a.child=_,m.last=_)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=tr(),a.sibling=null,s=gn.current,me(gn,c?s&1|2:s&1),a):(Dt(a),null);case 22:case 23:return bs(a),B_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),l=a.updateQueue,l!==null&&Xp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ge(Fo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),_s(mn),Dt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Bk(s,a){switch(A_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return _s(mn),Or(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Dr(a),null;case 13:if(bs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));dh()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ge(gn),null;case 4:return Or(),null;case 10:return _s(a.type),null;case 22:case 23:return bs(a),B_(),s!==null&&ge(Fo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return _s(mn),null;case 25:return null;default:return null}}function QS(s,a){switch(A_(a),a.tag){case 3:_s(mn),Or();break;case 26:case 27:case 5:Dr(a);break;case 4:Or();break;case 13:bs(a);break;case 19:ge(gn);break;case 10:_s(a.type);break;case 22:case 23:bs(a),B_(),s!==null&&ge(Fo);break;case 24:_s(mn)}}function xh(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var _=l.create,I=l.inst;c=_(),I.destroy=c}l=l.next}while(l!==m)}}catch(N){mt(a,a.return,N)}}function ha(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var _=m.next;c=_;do{if((c.tag&s)===s){var I=c.inst,N=I.destroy;if(N!==void 0){I.destroy=void 0,m=a;var z=l,ee=N;try{ee()}catch(ce){mt(m,z,ce)}}}c=c.next}while(c!==_)}}catch(ce){mt(a,a.return,ce)}}function YS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{LT(a,l)}catch(c){mt(s,s.return,c)}}}function XS(s,a,l){l.props=jo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){mt(s,a,c)}}function Ph(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){mt(s,a,m)}}function Ri(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){mt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){mt(s,a,m)}else l.current=null}function JS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){mt(s,s.return,m)}}function fv(s,a,l){try{var c=s.stateNode;aM(c,s.type,l,a),c[tn]=a}catch(m){mt(s,s.return,m)}}function ZS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&va(s.type)||s.tag===4}function pv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ZS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&va(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mv(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=um));else if(c!==4&&(c===27&&va(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(mv(s,a,l),s=s.sibling;s!==null;)mv(s,a,l),s=s.sibling}function Jp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&va(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Jp(s,a,l),s=s.sibling;s!==null;)Jp(s,a,l),s=s.sibling}function eA(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Dn(a,c,l),a[dn]=s,a[tn]=l}catch(_){mt(s,s.return,_)}}var Ts=!1,Qt=!1,gv=!1,tA=typeof WeakSet=="function"?WeakSet:Set,wn=null;function Fk(s,a){if(s=s.containerInfo,Fv=gm,s=dT(s),p_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var I=0,N=-1,z=-1,ee=0,ce=0,de=s,te=null;t:for(;;){for(var ne;de!==l||m!==0&&de.nodeType!==3||(N=I+m),de!==_||c!==0&&de.nodeType!==3||(z=I+c),de.nodeType===3&&(I+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===s)break t;if(te===l&&++ee===m&&(N=I),te===_&&++ce===c&&(z=I),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}l=N===-1||z===-1?null:{start:N,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(zv={focusedElem:s,selectionRange:l},gm=!1,wn=a;wn!==null;)if(a=wn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,wn=s;else for(;wn!==null;){switch(a=wn,_=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,l=a,m=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var Ne=jo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ne,_),c.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){mt(l,l.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Hv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Hv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,wn=s;break}wn=a.return}}function nA(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:da(s,l),c&4&&xh(5,l);break;case 1:if(da(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(I){mt(l,l.return,I)}else{var m=jo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(I){mt(l,l.return,I)}}c&64&&YS(l),c&512&&Ph(l,l.return);break;case 3:if(da(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{LT(s,a)}catch(I){mt(l,l.return,I)}}break;case 27:a===null&&c&4&&eA(l);case 26:case 5:da(s,l),a===null&&c&4&&JS(l),c&512&&Ph(l,l.return);break;case 12:da(s,l);break;case 13:da(s,l),c&4&&sA(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Qk.bind(null,l),fM(s,l))));break;case 22:if(c=l.memoizedState!==null||Ts,!c){a=a!==null&&a.memoizedState!==null||Qt,m=Ts;var _=Qt;Ts=c,(Qt=a)&&!_?fa(s,l,(l.subtreeFlags&8772)!==0):da(s,l),Ts=m,Qt=_}break;case 30:break;default:da(s,l)}}function rA(s){var a=s.alternate;a!==null&&(s.alternate=null,rA(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ea(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var St=null,rr=!1;function Ss(s,a,l){for(l=l.child;l!==null;)iA(s,a,l),l=l.sibling}function iA(s,a,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(st,l)}catch{}switch(l.tag){case 26:Qt||Ri(l,a),Ss(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qt||Ri(l,a);var c=St,m=rr;va(l.type)&&(St=l.stateNode,rr=!1),Ss(s,a,l),Bh(l.stateNode),St=c,rr=m;break;case 5:Qt||Ri(l,a);case 6:if(c=St,m=rr,St=null,Ss(s,a,l),St=c,rr=m,St!==null)if(rr)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(l.stateNode)}catch(_){mt(l,a,_)}else try{St.removeChild(l.stateNode)}catch(_){mt(l,a,_)}break;case 18:St!==null&&(rr?(s=St,GA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Kh(s)):GA(St,l.stateNode));break;case 4:c=St,m=rr,St=l.stateNode.containerInfo,rr=!0,Ss(s,a,l),St=c,rr=m;break;case 0:case 11:case 14:case 15:Qt||ha(2,l,a),Qt||ha(4,l,a),Ss(s,a,l);break;case 1:Qt||(Ri(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&XS(l,a,c)),Ss(s,a,l);break;case 21:Ss(s,a,l);break;case 22:Qt=(c=Qt)||l.memoizedState!==null,Ss(s,a,l),Qt=c;break;default:Ss(s,a,l)}}function sA(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Kh(s)}catch(l){mt(a,a.return,l)}}function zk(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new tA),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new tA),a;default:throw Error(r(435,s.tag))}}function yv(s,a){var l=zk(s);a.forEach(function(c){var m=Yk.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function yr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],_=s,I=a,N=I;e:for(;N!==null;){switch(N.tag){case 27:if(va(N.type)){St=N.stateNode,rr=!1;break e}break;case 5:St=N.stateNode,rr=!1;break e;case 3:case 4:St=N.stateNode.containerInfo,rr=!0;break e}N=N.return}if(St===null)throw Error(r(160));iA(_,I,m),St=null,rr=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)aA(a,s),a=a.sibling}var ri=null;function aA(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:yr(a,s),_r(s),c&4&&(ha(3,s,s.return),xh(3,s),ha(5,s,s.return));break;case 1:yr(a,s),_r(s),c&512&&(Qt||l===null||Ri(l,l.return)),c&64&&Ts&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ri;if(yr(a,s),_r(s),c&512&&(Qt||l===null||Ri(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":_=m.getElementsByTagName("title")[0],(!_||_[yo]||_[dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(c),m.head.insertBefore(_,m.querySelector("head > title"))),Dn(_,c,l),_[dn]=s,Kt(_),c=_;break e;case"link":var I=eI("link","href",m).get(c+(l.href||""));if(I){for(var N=0;N<I.length;N++)if(_=I[N],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(N,1);break t}}_=m.createElement(c),Dn(_,c,l),m.head.appendChild(_);break;case"meta":if(I=eI("meta","content",m).get(c+(l.content||""))){for(N=0;N<I.length;N++)if(_=I[N],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(N,1);break t}}_=m.createElement(c),Dn(_,c,l),m.head.appendChild(_);break;default:throw Error(r(468,c))}_[dn]=s,Kt(_),c=_}s.stateNode=c}else tI(m,s.type,s.stateNode);else s.stateNode=ZA(m,c,s.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?tI(m,s.type,s.stateNode):ZA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&fv(s,s.memoizedProps,l.memoizedProps)}break;case 27:yr(a,s),_r(s),c&512&&(Qt||l===null||Ri(l,l.return)),l!==null&&c&4&&fv(s,s.memoizedProps,l.memoizedProps);break;case 5:if(yr(a,s),_r(s),c&512&&(Qt||l===null||Ri(l,l.return)),s.flags&32){m=s.stateNode;try{kr(m,"")}catch(ne){mt(s,s.return,ne)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,fv(s,m,l!==null?l.memoizedProps:m)),c&1024&&(gv=!0);break;case 6:if(yr(a,s),_r(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ne){mt(s,s.return,ne)}}break;case 3:if(fm=null,m=ri,ri=hm(a.containerInfo),yr(a,s),ri=m,_r(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Kh(a.containerInfo)}catch(ne){mt(s,s.return,ne)}gv&&(gv=!1,oA(s));break;case 4:c=ri,ri=hm(s.stateNode.containerInfo),yr(a,s),_r(s),ri=c;break;case 12:yr(a,s),_r(s);break;case 13:yr(a,s),_r(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Tv=tr()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,yv(s,c)));break;case 22:m=s.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,ee=Ts,ce=Qt;if(Ts=ee||m,Qt=ce||z,yr(a,s),Qt=ce,Ts=ee,_r(s),c&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||z||Ts||Qt||qo(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){z=l=a;try{if(_=z.stateNode,m)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{N=z.stateNode;var de=z.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){mt(z,z.return,ne)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(ne){mt(z,z.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,yv(s,l))));break;case 19:yr(a,s),_r(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,yv(s,c)));break;case 30:break;case 21:break;default:yr(a,s),_r(s)}}function _r(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(ZS(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,_=pv(s);Jp(s,_,m);break;case 5:var I=l.stateNode;l.flags&32&&(kr(I,""),l.flags&=-33);var N=pv(s);Jp(s,N,I);break;case 3:case 4:var z=l.stateNode.containerInfo,ee=pv(s);mv(s,ee,z);break;default:throw Error(r(161))}}catch(ce){mt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function oA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;oA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function da(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nA(s,a.alternate,a),a=a.sibling}function qo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ha(4,a,a.return),qo(a);break;case 1:Ri(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&XS(a,a.return,l),qo(a);break;case 27:Bh(a.stateNode);case 26:case 5:Ri(a,a.return),qo(a);break;case 22:a.memoizedState===null&&qo(a);break;case 30:qo(a);break;default:qo(a)}s=s.sibling}}function fa(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,_=a,I=_.flags;switch(_.tag){case 0:case 11:case 15:fa(m,_,l),xh(4,_);break;case 1:if(fa(m,_,l),c=_,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){mt(c,c.return,ee)}if(c=_,m=c.updateQueue,m!==null){var N=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)VT(z[m],N)}catch(ee){mt(c,c.return,ee)}}l&&I&64&&YS(_),Ph(_,_.return);break;case 27:eA(_);case 26:case 5:fa(m,_,l),l&&c===null&&I&4&&JS(_),Ph(_,_.return);break;case 12:fa(m,_,l);break;case 13:fa(m,_,l),l&&I&4&&sA(m,_);break;case 22:_.memoizedState===null&&fa(m,_,l),Ph(_,_.return);break;case 30:break;default:fa(m,_,l)}a=a.sibling}}function _v(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&mh(l))}function vv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&mh(s))}function Ci(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lA(s,a,l,c),a=a.sibling}function lA(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ci(s,a,l,c),m&2048&&xh(9,a);break;case 1:Ci(s,a,l,c);break;case 3:Ci(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&mh(s)));break;case 12:if(m&2048){Ci(s,a,l,c),s=a.stateNode;try{var _=a.memoizedProps,I=_.id,N=_.onPostCommit;typeof N=="function"&&N(I,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){mt(a,a.return,z)}}else Ci(s,a,l,c);break;case 13:Ci(s,a,l,c);break;case 23:break;case 22:_=a.stateNode,I=a.alternate,a.memoizedState!==null?_._visibility&2?Ci(s,a,l,c):Oh(s,a):_._visibility&2?Ci(s,a,l,c):(_._visibility|=2,lu(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&_v(I,a);break;case 24:Ci(s,a,l,c),m&2048&&vv(a.alternate,a);break;default:Ci(s,a,l,c)}}function lu(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var _=s,I=a,N=l,z=c,ee=I.flags;switch(I.tag){case 0:case 11:case 15:lu(_,I,N,z,m),xh(8,I);break;case 23:break;case 22:var ce=I.stateNode;I.memoizedState!==null?ce._visibility&2?lu(_,I,N,z,m):Oh(_,I):(ce._visibility|=2,lu(_,I,N,z,m)),m&&ee&2048&&_v(I.alternate,I);break;case 24:lu(_,I,N,z,m),m&&ee&2048&&vv(I.alternate,I);break;default:lu(_,I,N,z,m)}a=a.sibling}}function Oh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Oh(l,c),m&2048&&_v(c.alternate,c);break;case 24:Oh(l,c),m&2048&&vv(c.alternate,c);break;default:Oh(l,c)}a=a.sibling}}var Dh=8192;function uu(s){if(s.subtreeFlags&Dh)for(s=s.child;s!==null;)uA(s),s=s.sibling}function uA(s){switch(s.tag){case 26:uu(s),s.flags&Dh&&s.memoizedState!==null&&IM(ri,s.memoizedState,s.memoizedProps);break;case 5:uu(s);break;case 3:case 4:var a=ri;ri=hm(s.stateNode.containerInfo),uu(s),ri=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Dh,Dh=16777216,uu(s),Dh=a):uu(s));break;default:uu(s)}}function cA(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Nh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,dA(c,s)}cA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hA(s),s=s.sibling}function hA(s){switch(s.tag){case 0:case 11:case 15:Nh(s),s.flags&2048&&ha(9,s,s.return);break;case 3:Nh(s);break;case 12:Nh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Zp(s)):Nh(s);break;default:Nh(s)}}function Zp(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,dA(c,s)}cA(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ha(8,a,a.return),Zp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Zp(a));break;default:Zp(a)}s=s.sibling}}function dA(s,a){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:ha(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:mh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=s;wn!==null;){c=wn;var m=c.sibling,_=c.return;if(rA(c),c===l){wn=null;break e}if(m!==null){m.return=_,wn=m;break e}wn=_}}}var jk={getCacheForType:function(s){var a=Un(mn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},qk=typeof WeakMap=="function"?WeakMap:Map,at=0,vt=null,je=null,Ye=0,ot=0,vr=null,pa=!1,cu=!1,bv=!1,As=0,Bt=0,ma=0,Ho=0,Ev=0,qr=0,hu=0,kh=null,ir=null,wv=!1,Tv=0,em=1/0,tm=null,ga=null,On=0,ya=null,du=null,fu=0,Sv=0,Av=null,fA=null,Mh=0,Iv=null;function br(){if((at&2)!==0&&Ye!==0)return Ye&-Ye;if(G.T!==null){var s=eu;return s!==0?s:Nv()}return Js()}function pA(){qr===0&&(qr=(Ye&536870912)===0||et?Hc():536870912);var s=jr.current;return s!==null&&(s.flags|=32),qr}function Er(s,a,l){(s===vt&&(ot===2||ot===9)||s.cancelPendingCommit!==null)&&(pu(s,0),_a(s,Ye,qr,!1)),rs(s,l),((at&2)===0||s!==vt)&&(s===vt&&((at&2)===0&&(Ho|=l),Bt===4&&_a(s,Ye,qr,!1)),xi(s))}function mA(s,a,l){if((at&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||go(s,a),m=c?Gk(s,a):xv(s,a,!0),_=c;do{if(m===0){cu&&!c&&_a(s,a,0,!1);break}else{if(l=s.current.alternate,_&&!Hk(l)){m=xv(s,a,!1),_=!1;continue}if(m===2){if(_=a,s.errorRecoveryDisabledLanes&_)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var N=s;m=kh;var z=N.current.memoizedState.isDehydrated;if(z&&(pu(N,I).flags|=256),I=xv(N,I,!1),I!==2){if(bv&&!z){N.errorRecoveryDisabledLanes|=_,Ho|=_,m=4;break e}_=ir,ir=m,_!==null&&(ir===null?ir=_:ir.push.apply(ir,_))}m=I}if(_=!1,m!==2)continue}}if(m===1){pu(s,0),_a(s,a,0,!0);break}e:{switch(c=s,_=m,_){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:_a(c,a,qr,!pa);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=Tv+300-tr(),10<m)){if(_a(c,a,qr,!pa),Ol(c,0,!0)!==0)break e;c.timeoutHandle=HA(gA.bind(null,c,l,ir,tm,wv,a,qr,Ho,hu,pa,_,2,-0,0),m);break e}gA(c,l,ir,tm,wv,a,qr,Ho,hu,pa,_,0,-0,0)}}break}while(!0);xi(s)}function gA(s,a,l,c,m,_,I,N,z,ee,ce,de,te,ne){if(s.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(jh={stylesheets:null,count:0,unsuspend:AM},uA(a),de=RM(),de!==null)){s.cancelPendingCommit=de(TA.bind(null,s,a,_,l,c,m,I,N,z,ce,1,te,ne)),_a(s,_,I,!ee);return}TA(s,a,_,l,c,m,I,N,z)}function Hk(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],_=m.getSnapshot;m=m.value;try{if(!mr(_(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _a(s,a,l,c){a&=~Ev,a&=~Ho,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var _=31-en(m),I=1<<_;c[_]=-1,m&=~I}l!==0&&pi(s,l,a)}function nm(){return(at&6)===0?(Vh(0),!1):!0}function Rv(){if(je!==null){if(ot===0)var s=je.return;else s=je,ys=Uo=null,H_(s),au=null,Ih=0,s=je;for(;s!==null;)QS(s.alternate,s),s=s.return;je=null}}function pu(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,lM(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Rv(),vt=s,je=l=ps(s.current,null),Ye=a,ot=0,vr=null,pa=!1,cu=go(s,a),bv=!1,hu=qr=Ev=Ho=ma=Bt=0,ir=kh=null,wv=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-en(c),_=1<<m;a|=s[m],c&=~_}return As=a,Sp(),l}function yA(s,a){Be=null,G.H=qp,a===yh||a===Np?(a=kT(),ot=3):a===OT?(a=kT(),ot=4):ot=a===MS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,vr=a,je===null&&(Bt=1,Wp(s,Ur(a,s.current)))}function _A(){var s=G.H;return G.H=qp,s===null?qp:s}function vA(){var s=G.A;return G.A=jk,s}function Cv(){Bt=4,pa||(Ye&4194048)!==Ye&&jr.current!==null||(cu=!0),(ma&134217727)===0&&(Ho&134217727)===0||vt===null||_a(vt,Ye,qr,!1)}function xv(s,a,l){var c=at;at|=2;var m=_A(),_=vA();(vt!==s||Ye!==a)&&(tm=null,pu(s,a)),a=!1;var I=Bt;e:do try{if(ot!==0&&je!==null){var N=je,z=vr;switch(ot){case 8:Rv(),I=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(a=!0);var ee=ot;if(ot=0,vr=null,mu(s,N,z,ee),l&&cu){I=0;break e}break;default:ee=ot,ot=0,vr=null,mu(s,N,z,ee)}}$k(),I=Bt;break}catch(ce){yA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ys=Uo=null,at=c,G.H=m,G.A=_,je===null&&(vt=null,Ye=0,Sp()),I}function $k(){for(;je!==null;)bA(je)}function Gk(s,a){var l=at;at|=2;var c=_A(),m=vA();vt!==s||Ye!==a?(tm=null,em=tr()+500,pu(s,a)):cu=go(s,a);e:do try{if(ot!==0&&je!==null){a=je;var _=vr;t:switch(ot){case 1:ot=0,vr=null,mu(s,a,_,1);break;case 2:case 9:if(DT(_)){ot=0,vr=null,EA(a);break}a=function(){ot!==2&&ot!==9||vt!==s||(ot=7),xi(s)},_.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:DT(_)?(ot=0,vr=null,EA(a)):(ot=0,vr=null,mu(s,a,_,7));break;case 5:var I=null;switch(je.tag){case 26:I=je.memoizedState;case 5:case 27:var N=je;if(!I||nI(I)){ot=0,vr=null;var z=N.sibling;if(z!==null)je=z;else{var ee=N.return;ee!==null?(je=ee,rm(ee)):je=null}break t}}ot=0,vr=null,mu(s,a,_,5);break;case 6:ot=0,vr=null,mu(s,a,_,6);break;case 8:Rv(),Bt=6;break e;default:throw Error(r(462))}}Kk();break}catch(ce){yA(s,ce)}while(!0);return ys=Uo=null,G.H=c,G.A=m,at=l,je!==null?0:(vt=null,Ye=0,Sp(),Bt)}function Kk(){for(;je!==null&&!co();)bA(je)}function bA(s){var a=KS(s.alternate,s,As);s.memoizedProps=s.pendingProps,a===null?rm(s):je=a}function EA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=zS(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=zS(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:H_(a);default:QS(l,a),a=je=wT(a,As),a=KS(l,a,As)}s.memoizedProps=s.pendingProps,a===null?rm(s):je=a}function mu(s,a,l,c){ys=Uo=null,H_(a),au=null,Ih=0;var m=a.return;try{if(Vk(s,m,a,l,Ye)){Bt=1,Wp(s,Ur(l,s.current)),je=null;return}}catch(_){if(m!==null)throw je=m,_;Bt=1,Wp(s,Ur(l,s.current)),je=null;return}a.flags&32768?(et||c===1?s=!0:cu||(Ye&536870912)!==0?s=!1:(pa=s=!0,(c===2||c===9||c===3||c===6)&&(c=jr.current,c!==null&&c.tag===13&&(c.flags|=16384))),wA(a,s)):rm(a)}function rm(s){var a=s;do{if((a.flags&32768)!==0){wA(a,pa);return}s=a.return;var l=Uk(a.alternate,a,As);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=s}while(a!==null);Bt===0&&(Bt=5)}function wA(s,a){do{var l=Bk(s.alternate,s);if(l!==null){l.flags&=32767,je=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){je=s;return}je=s=l}while(s!==null);Bt=6,je=null}function TA(s,a,l,c,m,_,I,N,z){s.cancelPendingCommit=null;do im();while(On!==0);if((at&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(_=a.lanes|a.childLanes,_|=v_,Gc(s,l,_,I,N,z),s===vt&&(je=vt=null,Ye=0),du=a,ya=s,fu=l,Sv=_,Av=m,fA=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Xk(Fe,function(){return CA(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,m=J.p,J.p=2,I=at,at|=4;try{Fk(s,a,l)}finally{at=I,J.p=m,G.T=c}}On=1,SA(),AA(),IA()}}function SA(){if(On===1){On=0;var s=ya,a=du,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{aA(a,s);var _=zv,I=dT(s.containerInfo),N=_.focusedElem,z=_.selectionRange;if(I!==N&&N&&N.ownerDocument&&hT(N.ownerDocument.documentElement,N)){if(z!==null&&p_(N)){var ee=z.start,ce=z.end;if(ce===void 0&&(ce=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(ce,N.value.length);else{var de=N.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ne=N.textContent.length,Pe=Math.min(z.start,Ne),ft=z.end===void 0?Pe:Math.min(z.end,Ne);!ne.extend&&Pe>ft&&(I=ft,ft=Pe,Pe=I);var Q=cT(N,Pe),K=cT(N,ft);if(Q&&K&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var Z=de.createRange();Z.setStart(Q.node,Q.offset),ne.removeAllRanges(),Pe>ft?(ne.addRange(Z),ne.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ne.addRange(Z))}}}}for(de=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var he=de[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}gm=!!Fv,zv=Fv=null}finally{at=m,J.p=c,G.T=l}}s.current=a,On=2}}function AA(){if(On===2){On=0;var s=ya,a=du,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{nA(s,a.alternate,a)}finally{at=m,J.p=c,G.T=l}}On=3}}function IA(){if(On===4||On===3){On=0,Pl();var s=ya,a=du,l=fu,c=fA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?On=5:(On=0,du=ya=null,RA(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(ga=null),Dl(l),a=a.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(st,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=G.T,m=J.p,J.p=2,G.T=null;try{for(var _=s.onRecoverableError,I=0;I<c.length;I++){var N=c[I];_(N.value,{componentStack:N.stack})}}finally{G.T=a,J.p=m}}(fu&3)!==0&&im(),xi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===Iv?Mh++:(Mh=0,Iv=s):Mh=0,Vh(0)}}function RA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,mh(a)))}function im(s){return SA(),AA(),IA(),CA()}function CA(){if(On!==5)return!1;var s=ya,a=Sv;Sv=0;var l=Dl(fu),c=G.T,m=J.p;try{J.p=32>l?32:l,G.T=null,l=Av,Av=null;var _=ya,I=fu;if(On=0,du=ya=null,fu=0,(at&6)!==0)throw Error(r(331));var N=at;if(at|=4,hA(_.current),lA(_,_.current,I,l),at=N,Vh(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(st,_)}catch{}return!0}finally{J.p=m,G.T=c,RA(s,a)}}function xA(s,a,l){a=Ur(l,a),a=iv(s.stateNode,a,2),s=oa(s,a,2),s!==null&&(rs(s,2),xi(s))}function mt(s,a,l){if(s.tag===3)xA(s,s,l);else for(;a!==null;){if(a.tag===3){xA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ga===null||!ga.has(c))){s=Ur(l,s),l=NS(2),c=oa(a,l,2),c!==null&&(kS(l,c,a,s),rs(c,2),xi(c));break}}a=a.return}}function Pv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new qk;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(bv=!0,m.add(l),s=Wk.bind(null,s,a,l),a.then(s,s))}function Wk(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,vt===s&&(Ye&l)===l&&(Bt===4||Bt===3&&(Ye&62914560)===Ye&&300>tr()-Tv?(at&2)===0&&pu(s,0):Ev|=l,hu===Ye&&(hu=0)),xi(s)}function PA(s,a){a===0&&(a=$c()),s=Yl(s,a),s!==null&&(rs(s,a),xi(s))}function Qk(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),PA(s,l)}function Yk(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),PA(s,l)}function Xk(s,a){return Ln(s,a)}var sm=null,gu=null,Ov=!1,am=!1,Dv=!1,$o=0;function xi(s){s!==gu&&s.next===null&&(gu===null?sm=gu=s:gu=gu.next=s),am=!0,Ov||(Ov=!0,Zk())}function Vh(s,a){if(!Dv&&am){Dv=!0;do for(var l=!1,c=sm;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var _=0;else{var I=c.suspendedLanes,N=c.pingedLanes;_=(1<<31-en(42|s)+1)-1,_&=m&~(I&~N),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,kA(c,_))}else _=Ye,_=Ol(c,c===vt?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||go(c,_)||(l=!0,kA(c,_));c=c.next}while(l);Dv=!1}}function Jk(){OA()}function OA(){am=Ov=!1;var s=0;$o!==0&&(oM()&&(s=$o),$o=0);for(var a=tr(),l=null,c=sm;c!==null;){var m=c.next,_=DA(c,a);_===0?(c.next=null,l===null?sm=m:l.next=m,m===null&&(gu=l)):(l=c,(s!==0||(_&3)!==0)&&(am=!0)),c=m}Vh(s)}function DA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var I=31-en(_),N=1<<I,z=m[I];z===-1?((N&l)===0||(N&c)!==0)&&(m[I]=qc(N,a)):z<=a&&(s.expiredLanes|=N),_&=~N}if(a=vt,l=Ye,l=Ol(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(ot===2||ot===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Xr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||go(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Xr(c),Dl(l)){case 2:case 8:l=ts;break;case 32:l=Fe;break;case 268435456:l=wt;break;default:l=Fe}return c=NA.bind(null,s),l=Ln(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Xr(c),s.callbackPriority=2,s.callbackNode=null,2}function NA(s,a){if(On!==0&&On!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(im()&&s.callbackNode!==l)return null;var c=Ye;return c=Ol(s,s===vt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(mA(s,c,a),DA(s,tr()),s.callbackNode!=null&&s.callbackNode===l?NA.bind(null,s):null)}function kA(s,a){if(im())return null;mA(s,a,!0)}function Zk(){uM(function(){(at&6)!==0?Ln(ho,Jk):OA()})}function Nv(){return $o===0&&($o=Hc()),$o}function MA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ul(""+s)}function VA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function eM(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var _=MA((m[tn]||null).action),I=c.submitter;I&&(a=(a=I[tn]||null)?MA(a.formAction):I.getAttribute("formAction"),a!==null&&(_=a,I=null));var N=new Bl("action","action",null,c,m);s.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if($o!==0){var z=I?VA(m,I):new FormData(m);Z_(l,{pending:!0,data:z,method:m.method,action:_},null,z)}}else typeof _=="function"&&(N.preventDefault(),z=I?VA(m,I):new FormData(m),Z_(l,{pending:!0,data:z,method:m.method,action:_},_,z))},currentTarget:m}]})}}for(var kv=0;kv<__.length;kv++){var Mv=__[kv],tM=Mv.toLowerCase(),nM=Mv[0].toUpperCase()+Mv.slice(1);ni(tM,"on"+nM)}ni(mT,"onAnimationEnd"),ni(gT,"onAnimationIteration"),ni(yT,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(vk,"onTransitionRun"),ni(bk,"onTransitionStart"),ni(Ek,"onTransitionCancel"),ni(_T,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lh));function LA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var _=void 0;if(a)for(var I=c.length-1;0<=I;I--){var N=c[I],z=N.instance,ee=N.currentTarget;if(N=N.listener,z!==_&&m.isPropagationStopped())break e;_=N,m.currentTarget=ee;try{_(m)}catch(ce){Kp(ce)}m.currentTarget=null,_=z}else for(I=0;I<c.length;I++){if(N=c[I],z=N.instance,ee=N.currentTarget,N=N.listener,z!==_&&m.isPropagationStopped())break e;_=N,m.currentTarget=ee;try{_(m)}catch(ce){Kp(ce)}m.currentTarget=null,_=z}}}}function qe(s,a){var l=a[Wc];l===void 0&&(l=a[Wc]=new Set);var c=s+"__bubble";l.has(c)||(UA(a,s,2,!1),l.add(c))}function Vv(s,a,l){var c=0;a&&(c|=4),UA(l,s,c,a)}var om="_reactListening"+Math.random().toString(36).slice(2);function Lv(s){if(!s[om]){s[om]=!0,Qc.forEach(function(l){l!=="selectionchange"&&(rM.has(l)||Vv(l,!1,s),Vv(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[om]||(a[om]=!0,Vv("selectionchange",!1,a))}}function UA(s,a,l,c){switch(lI(a)){case 2:var m=PM;break;case 8:m=OM;break;default:m=Xv}l=m.bind(null,a,l,s),m=void 0,!Vr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Uv(s,a,l,c,m){var _=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var I=c.tag;if(I===3||I===4){var N=c.stateNode.containerInfo;if(N===m)break;if(I===4)for(I=c.return;I!==null;){var z=I.tag;if((z===3||z===4)&&I.stateNode.containerInfo===m)return;I=I.return}for(;N!==null;){if(I=is(N),I===null)return;if(z=I.tag,z===5||z===6||z===26||z===27){c=_=I;continue e}N=N.parentNode}}c=c.return}up(function(){var ee=_,ce=Mr(l),de=[];e:{var te=vT.get(s);if(te!==void 0){var ne=Bl,Ne=s;switch(s){case"keypress":if(bi(l)===0)break e;case"keydown":case"keyup":ne=$l;break;case"focusin":Ne="focus",ne=jl;break;case"focusout":Ne="blur",ne=jl;break;case"beforeblur":case"afterblur":ne=jl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=c_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=yp;break;case mT:case gT:case yT:ne=ql;break;case _T:ne=vp;break;case"scroll":case"scrollend":ne=cp;break;case"wheel":ne=Gl;break;case"copy":case"cut":case"paste":ne=Hl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=oh;break;case"toggle":case"beforetoggle":ne=Ep}var Pe=(a&4)!==0,ft=!Pe&&(s==="scroll"||s==="scrollend"),Q=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var K=ee,Z;K!==null;){var he=K;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Q===null||(he=So(K,Q),he!=null&&Pe.push(Uh(K,he,Z))),ft)break;K=K.return}0<Pe.length&&(te=new ne(te,Ne,null,l,ce),de.push({event:te,listeners:Pe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&l!==ls&&(Ne=l.relatedTarget||l.fromElement)&&(is(Ne)||Ne[Nr]))break e;if((ne||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ne=l.relatedTarget||l.toElement,ne=ee,Ne=Ne?is(Ne):null,Ne!==null&&(ft=o(Ne),Pe=Ne.tag,Ne!==ft||Pe!==5&&Pe!==27&&Pe!==6)&&(Ne=null)):(ne=null,Ne=ee),ne!==Ne)){if(Pe=Lr,he="onMouseLeave",Q="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=oh,he="onPointerLeave",Q="onPointerEnter",K="pointer"),ft=ne==null?te:gi(ne),Z=Ne==null?te:gi(Ne),te=new Pe(he,K+"leave",ne,l,ce),te.target=ft,te.relatedTarget=Z,he=null,is(ce)===ee&&(Pe=new Pe(Q,K+"enter",Ne,l,ce),Pe.target=Z,Pe.relatedTarget=ft,he=Pe),ft=he,ne&&Ne)t:{for(Pe=ne,Q=Ne,K=0,Z=Pe;Z;Z=yu(Z))K++;for(Z=0,he=Q;he;he=yu(he))Z++;for(;0<K-Z;)Pe=yu(Pe),K--;for(;0<Z-K;)Q=yu(Q),Z--;for(;K--;){if(Pe===Q||Q!==null&&Pe===Q.alternate)break t;Pe=yu(Pe),Q=yu(Q)}Pe=null}else Pe=null;ne!==null&&BA(de,te,ne,Pe,!1),Ne!==null&&ft!==null&&BA(de,ft,Ne,Pe,!0)}}e:{if(te=ee?gi(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Se=iT;else if(pn(te))if(sT)Se=gk;else{Se=pk;var ze=fk}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&eh(ee.elementType)&&(Se=iT):Se=mk;if(Se&&(Se=Se(s,ee))){fs(de,Se,l,ce);break e}ze&&ze(s,te,ee),s==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&na(te,"number",te.value)}switch(ze=ee?gi(ee):window,s){case"focusin":(pn(ze)||ze.contentEditable==="true")&&(Kl=ze,m_=ee,ch=null);break;case"focusout":ch=m_=Kl=null;break;case"mousedown":g_=!0;break;case"contextmenu":case"mouseup":case"dragend":g_=!1,fT(de,l,ce);break;case"selectionchange":if(_k)break;case"keydown":case"keyup":fT(de,l,ce)}var Re;if(Ti)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else We?ae(s,l)&&(Oe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(S&&l.locale!=="ko"&&(We||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&We&&(Re=nh()):(vi=ce,ra="value"in vi?vi.value:vi.textContent,We=!0)),ze=lm(ee,Oe),0<ze.length&&(Oe=new sh(Oe,s,null,l,ce),de.push({event:Oe,listeners:ze}),Re?Oe.data=Re:(Re=_e(l),Re!==null&&(Oe.data=Re)))),(Re=b?fn(s,l):Qe(s,l))&&(Oe=lm(ee,"onBeforeInput"),0<Oe.length&&(ze=new sh("onBeforeInput","beforeinput",null,l,ce),de.push({event:ze,listeners:Oe}),ze.data=Re)),eM(de,s,ee,l,ce)}LA(de,a)})}function Uh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function lm(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=So(s,l),m!=null&&c.unshift(Uh(s,m,_)),m=So(s,a),m!=null&&c.push(Uh(s,m,_))),s.tag===3)return c;s=s.return}return[]}function yu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function BA(s,a,l,c,m){for(var _=a._reactName,I=[];l!==null&&l!==c;){var N=l,z=N.alternate,ee=N.stateNode;if(N=N.tag,z!==null&&z===c)break;N!==5&&N!==26&&N!==27||ee===null||(z=ee,m?(ee=So(l,_),ee!=null&&I.unshift(Uh(l,ee,z))):m||(ee=So(l,_),ee!=null&&I.push(Uh(l,ee,z)))),l=l.return}I.length!==0&&s.push({event:a,listeners:I})}var iM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function FA(s){return(typeof s=="string"?s:""+s).replace(iM,`
`).replace(sM,"")}function zA(s,a){return a=FA(a),FA(s)===a}function um(){}function dt(s,a,l,c,m,_){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||kr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&kr(s,""+c);break;case"className":yi(s,"class",c);break;case"tabIndex":yi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(s,l,c);break;case"style":Zc(s,c,_);break;case"data":if(a!=="object"){yi(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ul(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&dt(s,a,"name",m.name,m,null),dt(s,a,"formEncType",m.formEncType,m,null),dt(s,a,"formMethod",m.formMethod,m,null),dt(s,a,"formTarget",m.formTarget,m,null)):(dt(s,a,"encType",m.encType,m,null),dt(s,a,"method",m.method,m,null),dt(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ul(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=um);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ul(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":qe("beforetoggle",s),qe("toggle",s),ta(s,"popover",c);break;case"xlinkActuate":Cn(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Cn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Cn(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Cn(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Cn(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Cn(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Cn(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Cn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Cn(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ta(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=l_.get(l)||l,ta(s,l,c))}}function Bv(s,a,l,c,m,_){switch(l){case"style":Zc(s,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?kr(s,c):(typeof c=="number"||typeof c=="bigint")&&kr(s,""+c);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=um);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),_=s[tn]||null,_=_!=null?_[l]:null,typeof _=="function"&&s.removeEventListener(a,_,m),typeof c=="function")){typeof _!="function"&&_!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):ta(s,l,c)}}}function Dn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var c=!1,m=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var I=l[_];if(I!=null)switch(_){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,_,I,l,null)}}m&&dt(s,a,"srcSet",l.srcSet,l,null),c&&dt(s,a,"src",l.src,l,null);return;case"input":qe("invalid",s);var N=_=I=m=null,z=null,ee=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":I=ce;break;case"checked":z=ce;break;case"defaultChecked":ee=ce;break;case"value":_=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:dt(s,a,c,ce,l,null)}}Eo(s,_,N,z,ee,I,m,!1),Ll(s);return;case"select":qe("invalid",s),c=I=_=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":_=N;break;case"defaultValue":I=N;break;case"multiple":c=N;default:dt(s,a,m,N,l,null)}a=_,l=I,s.multiple=!!c,a!=null?os(s,!!c,a,!1):l!=null&&os(s,!!c,l,!0);return;case"textarea":qe("invalid",s),_=m=c=null;for(I in l)if(l.hasOwnProperty(I)&&(N=l[I],N!=null))switch(I){case"value":c=N;break;case"defaultValue":m=N;break;case"children":_=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:dt(s,a,I,N,l,null)}wo(s,c,m,_),Ll(s);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:dt(s,a,z,c,l,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(c=0;c<Lh.length;c++)qe(Lh[c],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(c=l[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,ee,c,l,null)}return;default:if(eh(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Bv(s,a,ce,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&dt(s,a,N,c,l,null))}function aM(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,I=null,N=null,z=null,ee=null,ce=null;for(ne in l){var de=l[ne];if(l.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=de;default:c.hasOwnProperty(ne)||dt(s,a,ne,null,c,de)}}for(var te in c){var ne=c[te];if(de=l[te],c.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":_=ne;break;case"name":m=ne;break;case"checked":ee=ne;break;case"defaultChecked":ce=ne;break;case"value":I=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==de&&dt(s,a,te,ne,c,de)}}pr(s,I,N,z,ee,ce,_,m);return;case"select":ne=I=N=te=null;for(_ in l)if(z=l[_],l.hasOwnProperty(_)&&z!=null)switch(_){case"value":break;case"multiple":ne=z;default:c.hasOwnProperty(_)||dt(s,a,_,null,c,z)}for(m in c)if(_=c[m],z=l[m],c.hasOwnProperty(m)&&(_!=null||z!=null))switch(m){case"value":te=_;break;case"defaultValue":N=_;break;case"multiple":I=_;default:_!==z&&dt(s,a,m,_,c,z)}a=N,l=I,c=ne,te!=null?os(s,!!l,te,!1):!!c!=!!l&&(a!=null?os(s,!!l,a,!0):os(s,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:dt(s,a,N,null,c,m)}for(I in c)if(m=c[I],_=l[I],c.hasOwnProperty(I)&&(m!=null||_!=null))switch(I){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==_&&dt(s,a,I,m,c,_)}ct(s,te,ne);return;case"option":for(var Ne in l)if(te=l[Ne],l.hasOwnProperty(Ne)&&te!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:dt(s,a,Ne,null,c,te)}for(z in c)if(te=c[z],ne=l[z],c.hasOwnProperty(z)&&te!==ne&&(te!=null||ne!=null))switch(z){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:dt(s,a,z,te,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in l)te=l[Pe],l.hasOwnProperty(Pe)&&te!=null&&!c.hasOwnProperty(Pe)&&dt(s,a,Pe,null,c,te);for(ee in c)if(te=c[ee],ne=l[ee],c.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:dt(s,a,ee,te,c,ne)}return;default:if(eh(a)){for(var ft in l)te=l[ft],l.hasOwnProperty(ft)&&te!==void 0&&!c.hasOwnProperty(ft)&&Bv(s,a,ft,void 0,c,te);for(ce in c)te=c[ce],ne=l[ce],!c.hasOwnProperty(ce)||te===ne||te===void 0&&ne===void 0||Bv(s,a,ce,te,c,ne);return}}for(var Q in l)te=l[Q],l.hasOwnProperty(Q)&&te!=null&&!c.hasOwnProperty(Q)&&dt(s,a,Q,null,c,te);for(de in c)te=c[de],ne=l[de],!c.hasOwnProperty(de)||te===ne||te==null&&ne==null||dt(s,a,de,te,c,ne)}var Fv=null,zv=null;function cm(s){return s.nodeType===9?s:s.ownerDocument}function jA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function jv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var qv=null;function oM(){var s=window.event;return s&&s.type==="popstate"?s===qv?!1:(qv=s,!0):(qv=null,!1)}var HA=typeof setTimeout=="function"?setTimeout:void 0,lM=typeof clearTimeout=="function"?clearTimeout:void 0,$A=typeof Promise=="function"?Promise:void 0,uM=typeof queueMicrotask=="function"?queueMicrotask:typeof $A<"u"?function(s){return $A.resolve(null).then(s).catch(cM)}:HA;function cM(s){setTimeout(function(){throw s})}function va(s){return s==="head"}function GA(s,a){var l=a,c=0,m=0;do{var _=l.nextSibling;if(s.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<c&&8>c){l=c;var I=s.ownerDocument;if(l&1&&Bh(I.documentElement),l&2&&Bh(I.body),l&4)for(l=I.head,Bh(l),I=l.firstChild;I;){var N=I.nextSibling,z=I.nodeName;I[yo]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=N}}if(m===0){s.removeChild(_),Kh(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=_}while(l);Kh(a)}function Hv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hv(l),ea(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function hM(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[yo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=ii(s.nextSibling),s===null)break}return null}function dM(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ii(s.nextSibling),s===null))return null;return s}function $v(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function fM(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ii(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Gv=null;function KA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function WA(s,a,l){switch(a=cm(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Bh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ea(s)}var Hr=new Map,QA=new Set;function hm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Is=J.d;J.d={f:pM,r:mM,D:gM,C:yM,L:_M,m:vM,X:EM,S:bM,M:wM};function pM(){var s=Is.f(),a=nm();return s||a}function mM(s){var a=mi(s);a!==null&&a.tag===5&&a.type==="form"?mS(a):Is.r(s)}var _u=typeof document>"u"?null:document;function YA(s,a,l){var c=_u;if(c&&typeof a=="string"&&a){var m=nn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),QA.has(m)||(QA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Dn(a,"link",s),Kt(a),c.head.appendChild(a)))}}function gM(s){Is.D(s),YA("dns-prefetch",s,null)}function yM(s,a){Is.C(s,a),YA("preconnect",s,a)}function _M(s,a,l){Is.L(s,a,l);var c=_u;if(c&&s&&a){var m='link[rel="preload"][as="'+nn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+nn(l.imageSizes)+'"]')):m+='[href="'+nn(s)+'"]';var _=m;switch(a){case"style":_=vu(s);break;case"script":_=bu(s)}Hr.has(_)||(s=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Hr.set(_,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Fh(_))||a==="script"&&c.querySelector(zh(_))||(a=c.createElement("link"),Dn(a,"link",s),Kt(a),c.head.appendChild(a)))}}function vM(s,a){Is.m(s,a);var l=_u;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+nn(c)+'"][href="'+nn(s)+'"]',_=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=bu(s)}if(!Hr.has(_)&&(s=g({rel:"modulepreload",href:s},a),Hr.set(_,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(zh(_)))return}c=l.createElement("link"),Dn(c,"link",s),Kt(c),l.head.appendChild(c)}}}function bM(s,a,l){Is.S(s,a,l);var c=_u;if(c&&s){var m=Gn(c).hoistableStyles,_=vu(s);a=a||"default";var I=m.get(_);if(!I){var N={loading:0,preload:null};if(I=c.querySelector(Fh(_)))N.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Hr.get(_))&&Kv(s,l);var z=I=c.createElement("link");Kt(z),Dn(z,"link",s),z._p=new Promise(function(ee,ce){z.onload=ee,z.onerror=ce}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,dm(I,a,c)}I={type:"stylesheet",instance:I,count:1,state:N},m.set(_,I)}}}function EM(s,a){Is.X(s,a);var l=_u;if(l&&s){var c=Gn(l).hoistableScripts,m=bu(s),_=c.get(m);_||(_=l.querySelector(zh(m)),_||(s=g({src:s,async:!0},a),(a=Hr.get(m))&&Wv(s,a),_=l.createElement("script"),Kt(_),Dn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function wM(s,a){Is.M(s,a);var l=_u;if(l&&s){var c=Gn(l).hoistableScripts,m=bu(s),_=c.get(m);_||(_=l.querySelector(zh(m)),_||(s=g({src:s,async:!0,type:"module"},a),(a=Hr.get(m))&&Wv(s,a),_=l.createElement("script"),Kt(_),Dn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function XA(s,a,l,c){var m=(m=xe.current)?hm(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=vu(l.href),l=Gn(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=vu(l.href);var _=Gn(m).hoistableStyles,I=_.get(s);if(I||(m=m.ownerDocument||m,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,I),(_=m.querySelector(Fh(s)))&&!_._p&&(I.instance=_,I.state.loading=5),Hr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Hr.set(s,l),_||TM(m,s,l,I.state))),a&&c===null)throw Error(r(528,""));return I}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=bu(l),l=Gn(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function vu(s){return'href="'+nn(s)+'"'}function Fh(s){return'link[rel="stylesheet"]['+s+"]"}function JA(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function TM(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Dn(a,"link",l),Kt(a),s.head.appendChild(a))}function bu(s){return'[src="'+nn(s)+'"]'}function zh(s){return"script[async]"+s}function ZA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+nn(l.href)+'"]');if(c)return a.instance=c,Kt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Kt(c),Dn(c,"style",m),dm(c,l.precedence,s),a.instance=c;case"stylesheet":m=vu(l.href);var _=s.querySelector(Fh(m));if(_)return a.state.loading|=4,a.instance=_,Kt(_),_;c=JA(l),(m=Hr.get(m))&&Kv(c,m),_=(s.ownerDocument||s).createElement("link"),Kt(_);var I=_;return I._p=new Promise(function(N,z){I.onload=N,I.onerror=z}),Dn(_,"link",c),a.state.loading|=4,dm(_,l.precedence,s),a.instance=_;case"script":return _=bu(l.src),(m=s.querySelector(zh(_)))?(a.instance=m,Kt(m),m):(c=l,(m=Hr.get(_))&&(c=g({},l),Wv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Kt(m),Dn(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,dm(c,l.precedence,s));return a.instance}function dm(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,_=m,I=0;I<c.length;I++){var N=c[I];if(N.dataset.precedence===a)_=N;else if(_!==m)break}_?_.parentNode.insertBefore(s,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Kv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Wv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var fm=null;function eI(s,a,l){if(fm===null){var c=new Map,m=fm=new Map;m.set(l,c)}else m=fm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var _=l[m];if(!(_[yo]||_[dn]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(a)||"";I=s+I;var N=c.get(I);N?N.push(_):c.set(I,[_])}}return c}function tI(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function SM(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function nI(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var jh=null;function AM(){}function IM(s,a,l){if(jh===null)throw Error(r(475));var c=jh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=vu(l.href),_=s.querySelector(Fh(m));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=pm.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=_,Kt(_);return}_=s.ownerDocument||s,l=JA(l),(m=Hr.get(m))&&Kv(l,m),_=_.createElement("link"),Kt(_);var I=_;I._p=new Promise(function(N,z){I.onload=N,I.onerror=z}),Dn(_,"link",l),a.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=pm.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function RM(){if(jh===null)throw Error(r(475));var s=jh;return s.stylesheets&&s.count===0&&Qv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Qv(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function pm(){if(this.count--,this.count===0){if(this.stylesheets)Qv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mm=null;function Qv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mm=new Map,a.forEach(CM,s),mm=null,pm.call(s))}function CM(s,a){if(!(a.state.loading&4)){var l=mm.get(s);if(l)var c=l.get(null);else{l=new Map,mm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var I=m[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),c=I)}c&&l.set(null,c)}m=a.instance,I=m.getAttribute("data-precedence"),_=l.get(I)||c,_===c&&l.set(null,m),l.set(I,m),this.count++,c=pm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),_?_.parentNode.insertBefore(m,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var qh={$$typeof:V,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function xM(s,a,l,c,m,_,I,N){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function rI(s,a,l,c,m,_,I,N,z,ee,ce,de){return s=new xM(s,a,l,I,N,z,ee,de),a=1,_===!0&&(a|=24),_=gr(3,null,null,a),s.current=_,_.stateNode=s,a=P_(),a.refCount++,s.pooledCache=a,a.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:a},k_(_),s}function iI(s){return s?(s=Xl,s):Xl}function sI(s,a,l,c,m,_){m=iI(m),c.context===null?c.context=m:c.pendingContext=m,c=aa(a),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=oa(s,c,a),l!==null&&(Er(l,s,a),vh(l,s,a))}function aI(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Yv(s,a){aI(s,a),(s=s.alternate)&&aI(s,a)}function oI(s){if(s.tag===13){var a=Yl(s,67108864);a!==null&&Er(a,s,67108864),Yv(s,67108864)}}var gm=!0;function PM(s,a,l,c){var m=G.T;G.T=null;var _=J.p;try{J.p=2,Xv(s,a,l,c)}finally{J.p=_,G.T=m}}function OM(s,a,l,c){var m=G.T;G.T=null;var _=J.p;try{J.p=8,Xv(s,a,l,c)}finally{J.p=_,G.T=m}}function Xv(s,a,l,c){if(gm){var m=Jv(c);if(m===null)Uv(s,a,c,ym,l),uI(s,c);else if(NM(m,s,a,l,c))c.stopPropagation();else if(uI(s,c),a&4&&-1<DM.indexOf(s)){for(;m!==null;){var _=mi(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=Zr(_.pendingLanes);if(I!==0){var N=_;for(N.pendingLanes|=2,N.entangledLanes|=2;I;){var z=1<<31-en(I);N.entanglements[1]|=z,I&=~z}xi(_),(at&6)===0&&(em=tr()+500,Vh(0))}}break;case 13:N=Yl(_,2),N!==null&&Er(N,_,2),nm(),Yv(_,2)}if(_=Jv(c),_===null&&Uv(s,a,c,ym,l),_===m)break;m=_}m!==null&&c.stopPropagation()}else Uv(s,a,c,null,l)}}function Jv(s){return s=Mr(s),Zv(s)}var ym=null;function Zv(s){if(ym=null,s=is(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return ym=s,null}function lI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jc()){case ho:return 2;case ts:return 8;case Fe:case _t:return 32;case wt:return 268435456;default:return 32}default:return 32}}var e0=!1,ba=null,Ea=null,wa=null,Hh=new Map,$h=new Map,Ta=[],DM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uI(s,a){switch(s){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Hh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$h.delete(a.pointerId)}}function Gh(s,a,l,c,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[m]},a!==null&&(a=mi(a),a!==null&&oI(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function NM(s,a,l,c,m){switch(a){case"focusin":return ba=Gh(ba,s,a,l,c,m),!0;case"dragenter":return Ea=Gh(Ea,s,a,l,c,m),!0;case"mouseover":return wa=Gh(wa,s,a,l,c,m),!0;case"pointerover":var _=m.pointerId;return Hh.set(_,Gh(Hh.get(_)||null,s,a,l,c,m)),!0;case"gotpointercapture":return _=m.pointerId,$h.set(_,Gh($h.get(_)||null,s,a,l,c,m)),!0}return!1}function cI(s){var a=is(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,np(s.priority,function(){if(l.tag===13){var c=br();c=Xs(c);var m=Yl(l,c);m!==null&&Er(m,l,c),Yv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _m(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Jv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ls=c,l.target.dispatchEvent(c),ls=null}else return a=mi(l),a!==null&&oI(a),s.blockedOn=l,!1;a.shift()}return!0}function hI(s,a,l){_m(s)&&l.delete(a)}function kM(){e0=!1,ba!==null&&_m(ba)&&(ba=null),Ea!==null&&_m(Ea)&&(Ea=null),wa!==null&&_m(wa)&&(wa=null),Hh.forEach(hI),$h.forEach(hI)}function vm(s,a){s.blockedOn===a&&(s.blockedOn=null,e0||(e0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kM)))}var bm=null;function dI(s){bm!==s&&(bm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bm===s&&(bm=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Zv(c||l)===null)continue;break}var _=mi(l);_!==null&&(s.splice(a,3),a-=3,Z_(_,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Kh(s){function a(z){return vm(z,s)}ba!==null&&vm(ba,s),Ea!==null&&vm(Ea,s),wa!==null&&vm(wa,s),Hh.forEach(a),$h.forEach(a);for(var l=0;l<Ta.length;l++){var c=Ta[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ta.length&&(l=Ta[0],l.blockedOn===null);)cI(l),l.blockedOn===null&&Ta.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],_=l[c+1],I=m[tn]||null;if(typeof _=="function")I||dI(l);else if(I){var N=null;if(_&&_.hasAttribute("formAction")){if(m=_,I=_[tn]||null)N=I.formAction;else if(Zv(m)!==null)continue}else N=I.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),dI(l)}}}function t0(s){this._internalRoot=s}Em.prototype.render=t0.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=br();sI(l,c,s,a,null,null)},Em.prototype.unmount=t0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;sI(s.current,2,null,s,null,null),nm(),a[Nr]=null}};function Em(s){this._internalRoot=s}Em.prototype.unstable_scheduleHydration=function(s){if(s){var a=Js();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ta.length&&a!==0&&a<Ta[l].priority;l++);Ta.splice(l,0,s),l===0&&cI(s)}};var fI=e.version;if(fI!=="19.1.0")throw Error(r(527,fI,"19.1.0"));J.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var MM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wm.isDisabled&&wm.supportsFiber)try{st=wm.inject(MM),Ue=wm}catch{}}return Qh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=xS,_=PS,I=OS,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=rI(s,1,!1,null,null,l,c,m,_,I,N,null),s[Nr]=a.current,Lv(s),new t0(a)},Qh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",_=xS,I=PS,N=OS,z=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),a=rI(s,1,!0,a,l??null,c,m,_,I,N,z,ee),a.context=iI(null),l=a.current,c=br(),c=Xs(c),m=aa(c),m.callback=null,oa(l,m,c),l=c,a.current.lanes=l,rs(a,l),xi(a),s[Nr]=a.current,Lv(s),new Em(a)},Qh.version="19.1.0",Qh}var TI;function GM(){if(TI)return i0.exports;TI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),i0.exports=$M(),i0.exports}var KM=GM(),Yh={},SI;function WM(){if(SI)return Yh;SI=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.parse=u,Yh.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,w){const E=new o,A=v.length;if(A<2)return E;const P=(w==null?void 0:w.decode)||g;let U=0;do{const L=v.indexOf("=",U);if(L===-1)break;const V=v.indexOf(";",U),H=V===-1?A:V;if(L>H){U=v.lastIndexOf(";",L-1)+1;continue}const F=h(v,U,L),$=f(v,L,F),M=v.slice(F,$);if(E[M]===void 0){let R=h(v,L+1,H),x=f(v,H,R);const T=P(v.slice(R,x));E[M]=T}U=H+1}while(U<A);return E}function h(v,w,E){do{const A=v.charCodeAt(w);if(A!==32&&A!==9)return w}while(++w<E);return E}function f(v,w,E){for(;w>E;){const A=v.charCodeAt(--w);if(A!==32&&A!==9)return w+1}return E}function d(v,w,E){const A=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const P=A(w);if(!e.test(P))throw new TypeError(`argument val is invalid: ${w}`);let U=v+"="+P;if(!E)return U;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);U+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);U+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);U+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);U+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(U+="; HttpOnly"),E.secure&&(U+="; Secure"),E.partitioned&&(U+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return U}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return i.call(v)==="[object Date]"}return Yh}WM();var AI="popstate";function QM(n={}){function e(r,i){let{pathname:o,search:u,hash:h}=r.location;return H0("",{pathname:o,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Wd(i)}return XM(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YM(){return Math.random().toString(36).substring(2,10)}function II(n,e){return{usr:n.state,key:n.key,idx:e}}function H0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ec(e):e,state:t,key:e&&e.key||r||YM()}}function Wd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ec(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XM(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let P=g(),U=P==null?null:P-d;d=P,f&&f({action:h,location:A.location,delta:U})}function v(P,U){h="PUSH";let L=H0(A.location,P,U);d=g()+1;let V=II(L,d),H=A.createHref(L);try{u.pushState(V,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(H)}o&&f&&f({action:h,location:A.location,delta:1})}function w(P,U){h="REPLACE";let L=H0(A.location,P,U);d=g();let V=II(L,d),H=A.createHref(L);u.replaceState(V,"",H),o&&f&&f({action:h,location:A.location,delta:0})}function E(P){let U=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof P=="string"?P:Wd(P);return L=L.replace(/ $/,"%20"),kt(U,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,U)}let A={get action(){return h},get location(){return n(i,u)},listen(P){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(AI,y),f=P,()=>{i.removeEventListener(AI,y),f=null}},createHref(P){return e(i,P)},createURL:E,encodeLocation(P){let U=E(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:v,replace:w,go(P){return u.go(P)}};return A}function ox(n,e,t="/"){return JM(n,e,t,!1)}function JM(n,e,t,r){let i=typeof e=="string"?Ec(e):e,o=Ms(i.pathname||"/",t);if(o==null)return null;let u=lx(n);ZM(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=cV(o);h=lV(u[f],d,r)}return h}function lx(n,e=[],t=[],r=""){let i=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(kt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Ns([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),lx(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:aV(d,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let f of ux(o.path))i(o,u,f)}),e}function ux(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=ux(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),i&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function ZM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:oV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var eV=/^:[\w-]+$/,tV=3,nV=2,rV=1,iV=10,sV=-2,RI=n=>n==="*";function aV(n,e){let t=n.split("/"),r=t.length;return t.some(RI)&&(r+=sV),e&&(r+=nV),t.filter(i=>!RI(i)).reduce((i,o)=>i+(eV.test(o)?tV:o===""?rV:iV),r)}function oV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function lV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],d=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=cg({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),v=f.route;if(!y&&d&&t&&!r[r.length-1].route.index&&(y=cg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(i,y.params),u.push({params:i,pathname:Ns([o,y.pathname]),pathnameBase:pV(Ns([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Ns([o,y.pathnameBase]))}return u}function cg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=uV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:y},v)=>{if(g==="*"){let E=h[v]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=h[v];return y&&!w?d[g]=void 0:d[g]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function uV(n,e=!1,t=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ms(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function hV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ec(n):n;return{pathname:t?t.startsWith("/")?t:dV(t,e):e,search:mV(r),hash:gV(i)}}function dV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function l0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cx(n){let e=fV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function hx(n,e,t,r=!1){let i;typeof n=="string"?i=Ec(n):(i={...n},kt(!i.pathname||!i.pathname.includes("?"),l0("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),l0("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),l0("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}h=y>=0?e[y]:"/"}let f=hV(i,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Ns=n=>n.join("/").replace(/\/\/+/g,"/"),pV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var dx=["POST","PUT","PATCH","DELETE"];new Set(dx);var _V=["GET",...dx];new Set(_V);var wc=W.createContext(null);wc.displayName="DataRouter";var Kg=W.createContext(null);Kg.displayName="DataRouterState";var fx=W.createContext({isTransitioning:!1});fx.displayName="ViewTransition";var vV=W.createContext(new Map);vV.displayName="Fetchers";var bV=W.createContext(null);bV.displayName="Await";var Zi=W.createContext(null);Zi.displayName="Navigation";var Sf=W.createContext(null);Sf.displayName="Location";var es=W.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var Yb=W.createContext(null);Yb.displayName="RouteError";function EV(n,{relative:e}={}){kt(Af(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Zi),{hash:i,pathname:o,search:u}=If(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ns([t,o])),r.createHref({pathname:h,search:u,hash:i})}function Af(){return W.useContext(Sf)!=null}function no(){return kt(Af(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Sf).location}var px="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mx(n){W.useContext(Zi).static||W.useLayoutEffect(n)}function Wg(){let{isDataRoute:n}=W.useContext(es);return n?kV():wV()}function wV(){kt(Af(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(wc),{basename:e,navigator:t}=W.useContext(Zi),{matches:r}=W.useContext(es),{pathname:i}=no(),o=JSON.stringify(cx(r)),u=W.useRef(!1);return mx(()=>{u.current=!0}),W.useCallback((f,d={})=>{if(Ki(u.current,px),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=hx(f,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ns([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,i,n])}W.createContext(null);function gx(){let{matches:n}=W.useContext(es),e=n[n.length-1];return e?e.params:{}}function If(n,{relative:e}={}){let{matches:t}=W.useContext(es),{pathname:r}=no(),i=JSON.stringify(cx(t));return W.useMemo(()=>hx(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function TV(n,e){return yx(n,e)}function yx(n,e,t,r){var L;kt(Af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(Zi),{matches:u}=W.useContext(es),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let V=y&&y.path||"";_x(d,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let v=no(),w;if(e){let V=typeof e=="string"?Ec(e):e;kt(g==="/"||((L=V.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),w=V}else w=v;let E=w.pathname||"/",A=E;if(g!=="/"){let V=g.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(V.length).join("/")}let P=!o&&t&&t.matches&&t.matches.length>0?t.matches:ox(n,{pathname:A});Ki(y||P!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ki(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=CV(P&&P.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:Ns([g,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:Ns([g,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r);return e&&U?W.createElement(Sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},U):U}function SV(){let n=NV(),e=yV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var AV=W.createElement(SV,null),IV=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(es.Provider,{value:this.props.routeContext},W.createElement(Yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RV({routeContext:n,match:e,children:t}){let r=W.useContext(wc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(es.Provider,{value:n},t)}function CV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);kt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:y}=t,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,d,g)=>{let y,v=!1,w=null,E=null;t&&(y=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||AV,u&&(h<0&&g===0?(_x("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):h===g&&(v=!0,E=d.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,g+1)),P=()=>{let U;return y?U=w:v?U=E:d.route.Component?U=W.createElement(d.route.Component,null):d.route.element?U=d.route.element:U=f,W.createElement(RV,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:U})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?W.createElement(IV,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}function Xb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xV(n){let e=W.useContext(wc);return kt(e,Xb(n)),e}function PV(n){let e=W.useContext(Kg);return kt(e,Xb(n)),e}function OV(n){let e=W.useContext(es);return kt(e,Xb(n)),e}function Jb(n){let e=OV(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function DV(){return Jb("useRouteId")}function NV(){var r;let n=W.useContext(Yb),e=PV("useRouteError"),t=Jb("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function kV(){let{router:n}=xV("useNavigate"),e=Jb("useNavigate"),t=W.useRef(!1);return mx(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{Ki(t.current,px),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var CI={};function _x(n,e,t){!e&&!CI[n]&&(CI[n]=!0,Ki(!1,t))}W.memo(MV);function MV({routes:n,future:e,state:t}){return yx(n,void 0,t,e)}function Oa(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){kt(!Af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=Ec(t));let{pathname:f="/",search:d="",hash:g="",state:y=null,key:v="default"}=t,w=W.useMemo(()=>{let E=Ms(f,u);return E==null?null:{location:{pathname:E,search:d,hash:g,state:y,key:v},navigationType:r}},[u,f,d,g,y,v,r]);return Ki(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:W.createElement(Zi.Provider,{value:h},W.createElement(Sf.Provider,{children:e,value:w}))}function LV({children:n,location:e}){return TV($0(n),e)}function $0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,$0(r.props.children,o));return}kt(r.type===Oa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=$0(r.props.children,o)),t.push(u)}),t}var Bm="get",Fm="application/x-www-form-urlencoded";function Qg(n){return n!=null&&typeof n.tagName=="string"}function UV(n){return Qg(n)&&n.tagName.toLowerCase()==="button"}function BV(n){return Qg(n)&&n.tagName.toLowerCase()==="form"}function FV(n){return Qg(n)&&n.tagName.toLowerCase()==="input"}function zV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jV(n,e){return n.button===0&&(!e||e==="_self")&&!zV(n)}var Tm=null;function qV(){if(Tm===null)try{new FormData(document.createElement("form"),0),Tm=!1}catch{Tm=!0}return Tm}var HV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u0(n){return n!=null&&!HV.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fm}"`),null):n}function $V(n,e){let t,r,i,o,u;if(BV(n)){let h=n.getAttribute("action");r=h?Ms(h,e):null,t=n.getAttribute("method")||Bm,i=u0(n.getAttribute("enctype"))||Fm,o=new FormData(n)}else if(UV(n)||FV(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ms(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Bm,i=u0(n.getAttribute("formenctype"))||u0(h.getAttribute("enctype"))||Fm,o=new FormData(h,n),!qV()){let{name:d,type:g,value:y}=n;if(g==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,y)}}else{if(Qg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bm,r=null,i=Fm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function Zb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function GV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function WV(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await GV(o,t);return u.links?u.links():[]}return[]}));return JV(r.flat(1).filter(KV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function xI(n,e,t,r,i,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{var y;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function QV(n,e,{includeHydrateFallback:t}={}){return YV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function YV(n){return[...new Set(n)]}function XV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function JV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(XV(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}var ZV=new Set([100,101,204,205]);function eL(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ms(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function vx(){let n=W.useContext(wc);return Zb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tL(){let n=W.useContext(Kg);return Zb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var eE=W.createContext(void 0);eE.displayName="FrameworkContext";function bx(){let n=W.useContext(eE);return Zb(n,"You must render this element inside a <HydratedRouter> element"),n}function nL(n,e){let t=W.useContext(eE),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=U=>{U.forEach(L=>{u(L.isIntersecting)})},P=new IntersectionObserver(A,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[n]),W.useEffect(()=>{if(r){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[r]);let w=()=>{i(!0)},E=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Xh(h,w),onBlur:Xh(f,E),onMouseEnter:Xh(d,w),onMouseLeave:Xh(g,E),onTouchStart:Xh(y,w)}]:[!1,v,{}]}function Xh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function rL({page:n,...e}){let{router:t}=vx(),r=W.useMemo(()=>ox(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(sL,{page:n,matches:r,...e}):null}function iL(n){let{manifest:e,routeModules:t}=bx(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return WV(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function sL({page:n,matches:e,...t}){let r=no(),{manifest:i,routeModules:o}=bx(),{basename:u}=vx(),{loaderData:h,matches:f}=tL(),d=W.useMemo(()=>xI(n,e,f,i,r,"data"),[n,e,f,i,r]),g=W.useMemo(()=>xI(n,e,f,i,r,"assets"),[n,e,f,i,r]),y=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(U=>{var V;let L=i.routes[U.route.id];!L||!L.hasLoader||(!d.some(H=>H.route.id===U.route.id)&&U.route.id in h&&((V=o[U.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?A=!0:E.add(U.route.id))}),E.size===0)return[];let P=eL(n,u);return A&&E.size>0&&P.searchParams.set("_routes",e.filter(U=>E.has(U.route.id)).map(U=>U.route.id).join(",")),[P.pathname+P.search]},[u,h,r,i,d,e,n,o]),v=W.useMemo(()=>QV(g,i),[g,i]),w=iL(g);return W.createElement(W.Fragment,null,y.map(E=>W.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>W.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),w.map(({key:E,link:A})=>W.createElement("link",{key:E,...A})))}function aL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ex&&(window.__reactRouterVersion="7.5.3")}catch{}function oL({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=QM({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(f=>{W.startTransition(()=>u(f))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(VV,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oi=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:y,...v},w){let{basename:E}=W.useContext(Zi),A=typeof d=="string"&&wx.test(d),P,U=!1;if(typeof d=="string"&&A&&(P=d,Ex))try{let x=new URL(window.location.href),T=d.startsWith("//")?new URL(x.protocol+d):new URL(d),O=Ms(T.pathname,E);T.origin===x.origin&&O!=null?d=O+T.search+T.hash:U=!0}catch{Ki(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=EV(d,{relative:i}),[V,H,F]=nL(r,v),$=hL(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:y});function M(x){e&&e(x),x.defaultPrevented||$(x)}let R=W.createElement("a",{...v,...F,href:P||L,onClick:U||o?e:M,ref:aL(w,H),target:f,"data-discover":!A&&t==="render"?"true":void 0});return V&&!A?W.createElement(W.Fragment,null,R,W.createElement(rL,{page:L})):R});oi.displayName="Link";var lL=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let y=If(u,{relative:d.relative}),v=no(),w=W.useContext(Kg),{navigator:E,basename:A}=W.useContext(Zi),P=w!=null&&gL(y)&&h===!0,U=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,L=v.pathname,V=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(L=L.toLowerCase(),V=V?V.toLowerCase():null,U=U.toLowerCase()),V&&A&&(V=Ms(V,A)||V);const H=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let F=L===U||!i&&L.startsWith(U)&&L.charAt(H)==="/",$=V!=null&&(V===U||!i&&V.startsWith(U)&&V.charAt(U.length)==="/"),M={isActive:F,isPending:$,isTransitioning:P},R=F?e:void 0,x;typeof r=="function"?x=r(M):x=[r,F?"active":null,$?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(M):o;return W.createElement(oi,{...d,"aria-current":R,className:x,ref:g,style:T,to:u,viewTransition:h},typeof f=="function"?f(M):f)});lL.displayName="NavLink";var uL=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Bm,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:y,...v},w)=>{let E=pL(),A=mL(h,{relative:d}),P=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&wx.test(h),L=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let H=V.nativeEvent.submitter,F=(H==null?void 0:H.getAttribute("formmethod"))||u;E(H||V.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:i,state:o,relative:d,preventScrollReset:g,viewTransition:y})};return W.createElement("form",{ref:w,method:P,action:A,onSubmit:r?f:L,...v,"data-discover":!U&&n==="render"?"true":void 0})});uL.displayName="Form";function cL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tx(n){let e=W.useContext(wc);return kt(e,cL(n)),e}function hL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Wg(),f=no(),d=If(n,{relative:o});return W.useCallback(g=>{if(jV(g,e)){g.preventDefault();let y=t!==void 0?t:Wd(f)===Wd(d);h(n,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[f,h,d,t,r,e,n,i,o,u])}var dL=0,fL=()=>`__${String(++dL)}__`;function pL(){let{router:n}=Tx("useSubmit"),{basename:e}=W.useContext(Zi),t=DV();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=$V(r,e);if(i.navigate===!1){let g=i.fetcherKey||fL();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function mL(n,{relative:e}={}){let{basename:t}=W.useContext(Zi),r=W.useContext(es);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...If(n||".",{relative:e})},u=no();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ns([t,o.pathname])),Wd(o)}function gL(n,e={}){let t=W.useContext(fx);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Tx("useViewTransitionState"),i=If(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ms(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ms(t.nextLocation.pathname,r)||t.nextLocation.pathname;return cg(i.pathname,u)!=null||cg(i.pathname,o)!=null}new TextEncoder;[...ZV];const yL="_carousel_1x4au_1",_L="_hero_img_1x4au_9",PI={carousel:yL,hero_img:_L},vL="/Amazon-in-react/assets/10001-BPlZE7a_.jpg",bL="/Amazon-in-react/assets/10002-Fp0oaH3y.jpg",EL="/Amazon-in-react/assets/10003-CO6XiwvK.jpg",wL="/Amazon-in-react/assets/10004-BPr44Ttk.jpg",TL="/Amazon-in-react/assets/10005-bl35EseN.jpg",SL=[vL,bL,EL,wL,TL];var c0={},Jh={},Sm={},Am={},h0={exports:{}},d0,OI;function AL(){if(OI)return d0;OI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return d0=n,d0}var f0,DI;function IL(){if(DI)return f0;DI=1;var n=AL();function e(){}function t(){}return t.resetWarningCache=e,f0=function(){function r(u,h,f,d,g,y){if(y!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},f0}var NI;function Sx(){return NI||(NI=1,h0.exports=IL()()),h0.exports}var kI;function RL(){return kI||(kI=1,function(n){(function(e,t){t(n,qs(),Sx())})(Am,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=E;var i=u(t),o=u(r);function u(L){return L&&L.__esModule?L:{default:L}}var h=Object.assign||function(L){for(var V=1;V<arguments.length;V++){var H=arguments[V];for(var F in H)Object.prototype.hasOwnProperty.call(H,F)&&(L[F]=H[F])}return L};function f(L,V){var H={};for(var F in L)V.indexOf(F)>=0||Object.prototype.hasOwnProperty.call(L,F)&&(H[F]=L[F]);return H}function d(L,V){if(!(L instanceof V))throw new TypeError("Cannot call a class as a function")}var g=function(){function L(V,H){for(var F=0;F<H.length;F++){var $=H[F];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(V,$.key,$)}}return function(V,H,F){return H&&L(V.prototype,H),F&&L(V,F),V}}();function y(L,V){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:L}function v(L,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);L.prototype=Object.create(V&&V.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(L,V):L.__proto__=V)}var w=!1;function E(L){w=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){E(!0)}}))}catch{}function A(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return w?L:L.capture}function P(L){if("touches"in L){var V=L.touches[0],H=V.pageX,F=V.pageY;return{x:H,y:F}}var $=L.screenX,M=L.screenY;return{x:$,y:M}}var U=function(L){v(V,L);function V(){var H;d(this,V);for(var F=arguments.length,$=Array(F),M=0;M<F;M++)$[M]=arguments[M];var R=y(this,(H=V.__proto__||Object.getPrototypeOf(V)).call.apply(H,[this].concat($)));return R._handleSwipeStart=R._handleSwipeStart.bind(R),R._handleSwipeMove=R._handleSwipeMove.bind(R),R._handleSwipeEnd=R._handleSwipeEnd.bind(R),R._onMouseDown=R._onMouseDown.bind(R),R._onMouseMove=R._onMouseMove.bind(R),R._onMouseUp=R._onMouseUp.bind(R),R._setSwiperRef=R._setSwiperRef.bind(R),R}return g(V,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(F){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(F))}},{key:"_onMouseMove",value:function(F){this.mouseDown&&this._handleSwipeMove(F)}},{key:"_onMouseUp",value:function(F){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(F)}},{key:"_handleSwipeStart",value:function(F){var $=P(F),M=$.x,R=$.y;this.moveStart={x:M,y:R},this.props.onSwipeStart(F)}},{key:"_handleSwipeMove",value:function(F){if(this.moveStart){var $=P(F),M=$.x,R=$.y,x=M-this.moveStart.x,T=R-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x,y:T},F);O&&F.cancelable&&F.preventDefault(),this.movePosition={deltaX:x,deltaY:T}}}},{key:"_handleSwipeEnd",value:function(F){this.props.onSwipeEnd(F);var $=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-$?this.props.onSwipeLeft(1,F):this.movePosition.deltaX>$&&this.props.onSwipeRight(1,F),this.movePosition.deltaY<-$?this.props.onSwipeUp(1,F):this.movePosition.deltaY>$&&this.props.onSwipeDown(1,F)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(F){this.swiper=F,this.props.innerRef(F)}},{key:"render",value:function(){var F=this.props;F.tagName;var $=F.className,M=F.style,R=F.children;F.allowMouseEvents,F.onSwipeUp,F.onSwipeDown,F.onSwipeLeft,F.onSwipeRight,F.onSwipeStart,F.onSwipeMove,F.onSwipeEnd,F.innerRef,F.tolerance;var x=f(F,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:$,style:M},x),R)}}]),V}(t.Component);U.displayName="ReactSwipe",U.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},U.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=U})}(Am)),Am}var MI;function Ax(){return MI||(MI=1,function(n){(function(e,t){t(n,RL())})(Sm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Sm)),Sm}var Zh={},p0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var VI;function CL(){return VI||(VI=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(p0)),p0.exports}var LI;function Ix(){if(LI)return Zh;LI=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.default=void 0;var n=e(CL());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return Zh.default=r,Zh}var ed={},td={},UI;function xL(){if(UI)return td;UI=1,Object.defineProperty(td,"__esModule",{value:!0}),td.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return td.outerWidth=n,td}var nd={},BI;function tE(){if(BI)return nd;BI=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",f="("+u.join(",")+")";return h+f};return nd.default=n,nd}var rd={},FI;function Rx(){if(FI)return rd;FI=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.default=void 0;var n=function(){return window};return rd.default=n,rd}var zI;function Cx(){if(zI)return ed;zI=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.default=void 0;var n=f(qs()),e=u(Ix()),t=xL(),r=u(tE()),i=u(Ax()),o=u(Rx());function u(R){return R&&R.__esModule?R:{default:R}}function h(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return h=function(){return R},R}function f(R){if(R&&R.__esModule)return R;if(R===null||d(R)!=="object"&&typeof R!="function")return{default:R};var x=h();if(x&&x.has(R))return x.get(R);var T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in R)if(Object.prototype.hasOwnProperty.call(R,C)){var D=O?Object.getOwnPropertyDescriptor(R,C):null;D&&(D.get||D.set)?Object.defineProperty(T,C,D):T[C]=R[C]}return T.default=R,x&&x.set(R,T),T}function d(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(T){return typeof T}:d=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},d(R)}function g(){return g=Object.assign||function(R){for(var x=1;x<arguments.length;x++){var T=arguments[x];for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(R[O]=T[O])}return R},g.apply(this,arguments)}function y(R,x){if(!(R instanceof x))throw new TypeError("Cannot call a class as a function")}function v(R,x){for(var T=0;T<x.length;T++){var O=x[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}function w(R,x,T){return x&&v(R.prototype,x),R}function E(R,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(x&&x.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),x&&A(R,x)}function A(R,x){return A=Object.setPrototypeOf||function(O,C){return O.__proto__=C,O},A(R,x)}function P(R){var x=V();return function(){var O=H(R),C;if(x){var D=H(this).constructor;C=Reflect.construct(O,arguments,D)}else C=O.apply(this,arguments);return U(this,C)}}function U(R,x){return x&&(d(x)==="object"||typeof x=="function")?x:L(R)}function L(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(R){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},H(R)}function F(R,x,T){return x in R?Object.defineProperty(R,x,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[x]=T,R}var $=function(x){return x.hasOwnProperty("key")},M=function(R){E(T,R);var x=P(T);function T(O){var C;return y(this,T),C=x.call(this,O),F(L(C),"itemsWrapperRef",void 0),F(L(C),"itemsListRef",void 0),F(L(C),"thumbsRef",void 0),F(L(C),"setItemsWrapperRef",function(D){C.itemsWrapperRef=D}),F(L(C),"setItemsListRef",function(D){C.itemsListRef=D}),F(L(C),"setThumbsRef",function(D,se){C.thumbsRef||(C.thumbsRef=[]),C.thumbsRef[se]=D}),F(L(C),"updateSizes",function(){if(!(!C.props.children||!C.itemsWrapperRef||!C.thumbsRef)){var D=n.Children.count(C.props.children),se=C.itemsWrapperRef.clientWidth,B=C.props.thumbWidth?C.props.thumbWidth:(0,t.outerWidth)(C.thumbsRef[0]),G=Math.floor(se/B),J=G<D,le=J?D-G:0;C.setState(function(Ee,j){return{itemSize:B,visibleItems:G,firstItem:J?C.getFirstItem(j.selectedItem):0,lastPosition:le,showArrows:J}})}}),F(L(C),"handleClickItem",function(D,se,B){if(!$(B)||B.key==="Enter"){var G=C.props.onSelectItem;typeof G=="function"&&G(D,se)}}),F(L(C),"onSwipeStart",function(){C.setState({swiping:!0})}),F(L(C),"onSwipeEnd",function(){C.setState({swiping:!1})}),F(L(C),"onSwipeMove",function(D){var se=D.x;if(!C.state.itemSize||!C.itemsWrapperRef||!C.state.visibleItems)return!1;var B=0,G=n.Children.count(C.props.children),J=-(C.state.firstItem*100)/C.state.visibleItems,le=Math.max(G-C.state.visibleItems,0),Ee=-le*100/C.state.visibleItems;J===B&&se>0&&(se=0),J===Ee&&se<0&&(se=0);var j=C.itemsWrapperRef.clientWidth,re=J+100/(j/se);return C.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ge){C.itemsListRef.style[ge]=(0,r.default)(re,"%",C.props.axis)}),!0}),F(L(C),"slideRight",function(D){C.moveTo(C.state.firstItem-(typeof D=="number"?D:1))}),F(L(C),"slideLeft",function(D){C.moveTo(C.state.firstItem+(typeof D=="number"?D:1))}),F(L(C),"moveTo",function(D){D=D<0?0:D,D=D>=C.state.lastPosition?C.state.lastPosition:D,C.setState({firstItem:D})}),C.state={selectedItem:O.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},C}return w(T,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(C){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==C.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(C){var D=C;return C>=this.state.lastPosition&&(D=this.state.lastPosition),C<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),C<this.state.firstItem&&(D=C),D}},{key:"renderItems",value:function(){var C=this;return this.props.children.map(function(D,se){var B=e.default.ITEM(!1,se===C.state.selectedItem),G={key:se,ref:function(le){return C.setThumbsRef(le,se)},className:B,onClick:C.handleClickItem.bind(C,se,C.props.children[se]),onKeyDown:C.handleClickItem.bind(C,se,C.props.children[se]),"aria-label":"".concat(C.props.labels.item," ").concat(se+1),style:{width:C.props.thumbWidth}};return n.default.createElement("li",g({},G,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var C=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,se=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,G={},J=-this.state.firstItem*(this.state.itemSize||0),le=(0,r.default)(J,"px",this.props.axis),Ee=this.props.transitionTime+"ms";return G={WebkitTransform:le,MozTransform:le,MsTransform:le,OTransform:le,transform:le,msTransform:le,WebkitTransitionDuration:Ee,MozTransitionDuration:Ee,MsTransitionDuration:Ee,OTransitionDuration:Ee,transitionDuration:Ee,msTransitionDuration:Ee},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!se),onClick:function(){return C.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:G,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(re){return C.setItemsListRef(re)},style:G},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return C.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),T}(n.Component);return ed.default=M,F(M,"displayName","Thumbs"),F(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),ed}var id={},jI;function PL(){if(jI)return id;jI=1,Object.defineProperty(id,"__esModule",{value:!0}),id.default=void 0;var n=function(){return document};return id.default=n,id}var wr={},qI;function xx(){if(qI)return wr;qI=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.setPosition=wr.getPosition=wr.isKeyboardEvent=wr.defaultStatusFormatter=wr.noop=void 0;var n=qs(),e=t(tE());function t(f){return f&&f.__esModule?f:{default:f}}var r=function(){};wr.noop=r;var i=function(d,g){return"".concat(d," of ").concat(g)};wr.defaultStatusFormatter=i;var o=function(d){return d?d.hasOwnProperty("key"):!1};wr.isKeyboardEvent=o;var u=function(d,g){if(g.infiniteLoop&&++d,d===0)return 0;var y=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-d*g.centerSlidePercentage,w=y-1;return d&&(d!==w||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:d===w&&(v+=100-g.centerSlidePercentage),v}return-d*100};wr.getPosition=u;var h=function(d,g){var y={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){y[v]=(0,e.default)(d,"%",g)}),y};return wr.setPosition=h,wr}var si={},HI;function OL(){if(HI)return si;HI=1,Object.defineProperty(si,"__esModule",{value:!0}),si.fadeAnimationHandler=si.slideStopSwipingHandler=si.slideSwipeAnimationHandler=si.slideAnimationHandler=void 0;var n=qs(),e=r(tE()),t=xx();function r(y){return y&&y.__esModule?y:{default:y}}function i(y,v){var w=Object.keys(y);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(y);v&&(E=E.filter(function(A){return Object.getOwnPropertyDescriptor(y,A).enumerable})),w.push.apply(w,E)}return w}function o(y){for(var v=1;v<arguments.length;v++){var w=arguments[v]!=null?arguments[v]:{};v%2?i(Object(w),!0).forEach(function(E){u(y,E,w[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(w)):i(Object(w)).forEach(function(E){Object.defineProperty(y,E,Object.getOwnPropertyDescriptor(w,E))})}return y}function u(y,v,w){return v in y?Object.defineProperty(y,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[v]=w,y}var h=function(v,w){var E={},A=w.selectedItem,P=A,U=n.Children.count(v.children)-1,L=v.infiniteLoop&&(A<0||A>U);if(L)return P<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?E.itemListStyle=(0,t.setPosition)(-(U+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):E.itemListStyle=(0,t.setPosition)(-(U+2)*100,v.axis):P>U&&(E.itemListStyle=(0,t.setPosition)(0,v.axis)),E;var V=(0,t.getPosition)(A,v),H=(0,e.default)(V,"%",v.axis),F=v.transitionTime+"ms";return E.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},w.swiping||(E.itemListStyle=o(o({},E.itemListStyle),{},{WebkitTransitionDuration:F,MozTransitionDuration:F,OTransitionDuration:F,transitionDuration:F,msTransitionDuration:F})),E};si.slideAnimationHandler=h;var f=function(v,w,E,A){var P={},U=w.axis==="horizontal",L=n.Children.count(w.children),V=0,H=(0,t.getPosition)(E.selectedItem,w),F=w.infiniteLoop?(0,t.getPosition)(L-1,w)-100:(0,t.getPosition)(L-1,w),$=U?v.x:v.y,M=$;H===V&&$>0&&(M=0),H===F&&$<0&&(M=0);var R=H+100/(E.itemSize/M),x=Math.abs($)>w.swipeScrollTolerance;return w.infiniteLoop&&x&&(E.selectedItem===0&&R>-100?R-=L*100:E.selectedItem===L-1&&R<-L*100&&(R+=L*100)),(!w.preventMovementUntilSwipeScrollTolerance||x||E.swipeMovementStarted)&&(E.swipeMovementStarted||A({swipeMovementStarted:!0}),P.itemListStyle=(0,t.setPosition)(R,w.axis)),x&&!E.cancelClick&&A({cancelClick:!0}),P};si.slideSwipeAnimationHandler=f;var d=function(v,w){var E=(0,t.getPosition)(w.selectedItem,v),A=(0,t.setPosition)(E,v.axis);return{itemListStyle:A}};si.slideStopSwipingHandler=d;var g=function(v,w){var E=v.transitionTime+"ms",A="ease-in-out",P={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:A,msTransitionTimingFunction:A,MozTransitionTimingFunction:A,WebkitTransitionTimingFunction:A,OTransitionTimingFunction:A};return w.swiping||(P=o(o({},P),{},{WebkitTransitionDuration:E,MozTransitionDuration:E,OTransitionDuration:E,transitionDuration:E,msTransitionDuration:E})),{slideStyle:P,selectedStyle:o(o({},P),{},{opacity:1,position:"relative"}),prevStyle:o({},P)}};return si.fadeAnimationHandler=g,si}var $I;function DL(){if($I)return Jh;$I=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.default=void 0;var n=g(qs()),e=f(Ax()),t=f(Ix()),r=f(Cx()),i=f(PL()),o=f(Rx()),u=xx(),h=OL();function f(O){return O&&O.__esModule?O:{default:O}}function d(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return d=function(){return O},O}function g(O){if(O&&O.__esModule)return O;if(O===null||y(O)!=="object"&&typeof O!="function")return{default:O};var C=d();if(C&&C.has(O))return C.get(O);var D={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in O)if(Object.prototype.hasOwnProperty.call(O,B)){var G=se?Object.getOwnPropertyDescriptor(O,B):null;G&&(G.get||G.set)?Object.defineProperty(D,B,G):D[B]=O[B]}return D.default=O,C&&C.set(O,D),D}function y(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(D){return typeof D}:y=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},y(O)}function v(){return v=Object.assign||function(O){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var se in D)Object.prototype.hasOwnProperty.call(D,se)&&(O[se]=D[se])}return O},v.apply(this,arguments)}function w(O,C){var D=Object.keys(O);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(O);C&&(se=se.filter(function(B){return Object.getOwnPropertyDescriptor(O,B).enumerable})),D.push.apply(D,se)}return D}function E(O){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?w(Object(D),!0).forEach(function(se){x(O,se,D[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(D)):w(Object(D)).forEach(function(se){Object.defineProperty(O,se,Object.getOwnPropertyDescriptor(D,se))})}return O}function A(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function P(O,C){for(var D=0;D<C.length;D++){var se=C[D];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(O,se.key,se)}}function U(O,C,D){return C&&P(O.prototype,C),O}function L(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&V(O,C)}function V(O,C){return V=Object.setPrototypeOf||function(se,B){return se.__proto__=B,se},V(O,C)}function H(O){var C=M();return function(){var se=R(O),B;if(C){var G=R(this).constructor;B=Reflect.construct(se,arguments,G)}else B=se.apply(this,arguments);return F(this,B)}}function F(O,C){return C&&(y(C)==="object"||typeof C=="function")?C:$(O)}function $(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(O){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},R(O)}function x(O,C,D){return C in O?Object.defineProperty(O,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[C]=D,O}var T=function(O){L(D,O);var C=H(D);function D(se){var B;A(this,D),B=C.call(this,se),x($(B),"thumbsRef",void 0),x($(B),"carouselWrapperRef",void 0),x($(B),"listRef",void 0),x($(B),"itemsRef",void 0),x($(B),"timer",void 0),x($(B),"animationHandler",void 0),x($(B),"setThumbsRef",function(J){B.thumbsRef=J}),x($(B),"setCarouselWrapperRef",function(J){B.carouselWrapperRef=J}),x($(B),"setListRef",function(J){B.listRef=J}),x($(B),"setItemsRef",function(J,le){B.itemsRef||(B.itemsRef=[]),B.itemsRef[le]=J}),x($(B),"autoPlay",function(){n.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),x($(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),x($(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),x($(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),x($(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),x($(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,i.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),x($(B),"navigateWithKeyboard",function(J){if(B.isFocusWithinTheCarousel()){var le=B.props.axis,Ee=le==="horizontal",j={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},re=Ee?j.ArrowRight:j.ArrowDown,ge=Ee?j.ArrowLeft:j.ArrowUp;re===J.keyCode?B.increment():ge===J.keyCode&&B.decrement()}}),x($(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var J=B.props.axis==="horizontal",le=B.itemsRef[0];if(le){var Ee=J?le.clientWidth:le.clientHeight;B.setState({itemSize:Ee}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),x($(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),x($(B),"handleClickItem",function(J,le){if(n.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(J,le),J!==B.state.selectedItem&&B.setState({selectedItem:J})}}),x($(B),"handleOnChange",function(J,le){n.Children.count(B.props.children)<=1||B.props.onChange(J,le)}),x($(B),"handleClickThumb",function(J,le){B.props.onClickThumb(J,le),B.moveTo(J)}),x($(B),"onSwipeStart",function(J){B.setState({swiping:!0}),B.props.onSwipeStart(J)}),x($(B),"onSwipeEnd",function(J){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(J),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),x($(B),"onSwipeMove",function(J,le){B.props.onSwipeMove(le);var Ee=B.props.swipeAnimationHandler(J,B.props,B.state,B.setState.bind($(B)));return B.setState(E({},Ee)),!!Object.keys(Ee).length}),x($(B),"decrement",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof J=="number"?J:1))}),x($(B),"increment",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof J=="number"?J:1))}),x($(B),"moveTo",function(J){if(typeof J=="number"){var le=n.Children.count(B.props.children)-1;J<0&&(J=B.props.infiniteLoop?le:0),J>le&&(J=B.props.infiniteLoop?0:le),B.selectItem({selectedItem:J}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),x($(B),"onClickNext",function(){B.increment(1)}),x($(B),"onClickPrev",function(){B.decrement(1)}),x($(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),x($(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),x($(B),"changeItem",function(J){return function(le){(!(0,u.isKeyboardEvent)(le)||le.key==="Enter")&&B.moveTo(J)}}),x($(B),"selectItem",function(J){B.setState(E({previousItem:B.state.selectedItem},J),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(J.selectedItem,n.Children.toArray(B.props.children)[J.selectedItem])}),x($(B),"getInitialImage",function(){var J=B.props.selectedItem,le=B.itemsRef&&B.itemsRef[J],Ee=le&&le.getElementsByTagName("img")||[];return Ee[0]}),x($(B),"getVariableItemHeight",function(J){var le=B.itemsRef&&B.itemsRef[J];if(B.state.hasMount&&le&&le.children.length){var Ee=le.children[0].getElementsByTagName("img")||[];if(Ee.length>0){var j=Ee[0];if(!j.complete){var re=function Te(){B.forceUpdate(),j.removeEventListener("load",Te)};j.addEventListener("load",re)}}var ge=Ee[0]||le.children[0],me=ge.clientHeight;return me>0?me:null}return null});var G={initialized:!1,previousItem:se.selectedItem,selectedItem:se.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:se.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof se.animationHandler=="function"&&se.animationHandler||se.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,B.state=E(E({},G),B.animationHandler(se,G)),B}return U(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,G){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),G.swiping&&!this.state.swiping&&this.setState(E({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var G=B.getInitialImage();G&&!G.complete?G.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var G=this;return this.props.children?n.Children.map(this.props.children,function(J,le){var Ee=le===G.state.selectedItem,j=le===G.state.previousItem,re=Ee&&G.state.selectedStyle||j&&G.state.prevStyle||G.state.slideStyle||{};G.props.centerMode&&G.props.axis==="horizontal"&&(re=E(E({},re),{},{minWidth:G.props.centerSlidePercentage+"%"})),G.state.swiping&&G.state.swipeMovementStarted&&(re=E(E({},re),{},{pointerEvents:"none"}));var ge={ref:function(Te){return G.setItemsRef(Te,le)},key:"itemKey"+le+(B?"clone":""),className:t.default.ITEM(!0,le===G.state.selectedItem,le===G.state.previousItem),onClick:G.handleClickItem.bind(G,le,J),style:re};return n.default.createElement("li",ge,G.props.renderItem(J,{isSelected:le===G.state.selectedItem,isPrevious:le===G.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,G=this.props,J=G.showIndicators,le=G.labels,Ee=G.renderIndicator,j=G.children;return J?n.default.createElement("ul",{className:"control-dots"},n.Children.map(j,function(re,ge){return Ee&&Ee(B.changeItem(ge),ge===B.state.selectedItem,ge,le.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var G=this.props.swipeable&&n.Children.count(this.props.children)>1,J=this.props.axis==="horizontal",le=this.props.showArrows&&n.Children.count(this.props.children)>1,Ee=le&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,j=le&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,re=this.renderItems(!0),ge=re.shift(),me=re.pop(),Te={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},ke={};if(J){if(Te.onSwipeLeft=this.onSwipeForward,Te.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var xe=this.getVariableItemHeight(this.state.selectedItem);ke.height=xe||"auto"}}else Te.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Te.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Te.style=E(E({},Te.style),{},{height:this.state.itemSize}),ke.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Ee,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:ke},G?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},Te,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(rt){return B.setListRef(rt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge)),this.props.renderArrowNext(this.onClickNext,j,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return Jh.default=T,x(T,"displayName","Carousel"),x(T,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(C,D,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_PREV(!D),onClick:C})},renderArrowNext:function(C,D,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_NEXT(!D),onClick:C})},renderIndicator:function(C,D,se,B){return n.default.createElement("li",{className:t.default.DOT(D),onClick:C,onKeyDown:C,value:se,key:se,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(se+1)})},renderItem:function(C){return C},renderThumbs:function(C){var D=n.Children.map(C,function(se){var B=se;if(se.type!=="img"&&(B=n.Children.toArray(se.props.children).find(function(G){return G.type==="img"})),!!B)return B});return D.filter(function(se){return se}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),Jh}var GI={},KI;function NL(){return KI||(KI=1),GI}var WI;function kL(){return WI||(WI=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(DL()),t=NL(),r=i(Cx());function i(o){return o&&o.__esModule?o:{default:o}}}(c0)),c0}var ML=kL();function VL(){return q.jsxs("div",{children:[q.jsx(ML.Carousel,{className:PI.carousel,autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:SL.map(n=>q.jsx("img",{src:n,alt:""}))}),q.jsx("div",{className:PI.hero_img})]})}const LL="_category_kocub_1",UL="_Category_container_kocub_61",Px={category:LL,Category_container:UL};let BL=[{title:"Electronics",name:"electronics",imgLink:"https://m.media-amazon.com/images/I/81El4887iLL._AC_SX466_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/51dwMt45I5L._AC_SY550_.jpg"},{title:"Men's clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/61C+zURu0EL._AC_SX569_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71RTyAgjo7L._AC_SY695_.jpg"}];function FL({data:n}){return q.jsx("section",{children:q.jsx("div",{className:Px.category,children:q.jsxs(oi,{to:`/category/${n.name}`,children:[q.jsx("span",{children:q.jsxs("h2",{children:[n.title," "]})}),q.jsx("img",{src:n.imgLink,alt:""}),q.jsx("p",{children:"shop now"})]})})})}function zL(){return q.jsx("section",{className:Px.Category_container,children:BL.map(n=>q.jsx(FL,{data:n}))})}function Ox(n,e){return function(){return n.apply(e,arguments)}}const{toString:jL}=Object.prototype,{getPrototypeOf:nE}=Object,{iterator:Yg,toStringTag:Dx}=Symbol,Xg=(n=>e=>{const t=jL.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),hi=n=>(n=n.toLowerCase(),e=>Xg(e)===n),Jg=n=>e=>typeof e===n,{isArray:Tc}=Array,Qd=Jg("undefined");function qL(n){return n!==null&&!Qd(n)&&n.constructor!==null&&!Qd(n.constructor)&&cr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Nx=hi("ArrayBuffer");function HL(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Nx(n.buffer),e}const $L=Jg("string"),cr=Jg("function"),kx=Jg("number"),Zg=n=>n!==null&&typeof n=="object",GL=n=>n===!0||n===!1,zm=n=>{if(Xg(n)!=="object")return!1;const e=nE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Dx in n)&&!(Yg in n)},KL=hi("Date"),WL=hi("File"),QL=hi("Blob"),YL=hi("FileList"),XL=n=>Zg(n)&&cr(n.pipe),JL=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||cr(n.append)&&((e=Xg(n))==="formdata"||e==="object"&&cr(n.toString)&&n.toString()==="[object FormData]"))},ZL=hi("URLSearchParams"),[e4,t4,n4,r4]=["ReadableStream","Request","Response","Headers"].map(hi),i4=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Tc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function Mx(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const tl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vx=n=>!Qd(n)&&n!==tl;function G0(){const{caseless:n}=Vx(this)&&this||{},e={},t=(r,i)=>{const o=n&&Mx(e,i)||i;zm(e[o])&&zm(r)?e[o]=G0(e[o],r):zm(r)?e[o]=G0({},r):Tc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Rf(arguments[r],t);return e}const s4=(n,e,t,{allOwnKeys:r}={})=>(Rf(e,(i,o)=>{t&&cr(i)?n[o]=Ox(i,t):n[o]=i},{allOwnKeys:r}),n),a4=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),o4=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},l4=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&nE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},u4=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},c4=n=>{if(!n)return null;if(Tc(n))return n;let e=n.length;if(!kx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},h4=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&nE(Uint8Array)),d4=(n,e)=>{const r=(n&&n[Yg]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},f4=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},p4=hi("HTMLFormElement"),m4=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),QI=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),g4=hi("RegExp"),Lx=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Rf(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},y4=n=>{Lx(n,(e,t)=>{if(cr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(cr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},_4=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Tc(n)?r(n):r(String(n).split(e)),t},v4=()=>{},b4=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function E4(n){return!!(n&&cr(n.append)&&n[Dx]==="FormData"&&n[Yg])}const w4=n=>{const e=new Array(10),t=(r,i)=>{if(Zg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Tc(r)?[]:{};return Rf(r,(u,h)=>{const f=t(u,i+1);!Qd(f)&&(o[h]=f)}),e[i]=void 0,o}}return r};return t(n,0)},T4=hi("AsyncFunction"),S4=n=>n&&(Zg(n)||cr(n))&&cr(n.then)&&cr(n.catch),Ux=((n,e)=>n?setImmediate:e?((t,r)=>(tl.addEventListener("message",({source:i,data:o})=>{i===tl&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),tl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",cr(tl.postMessage)),A4=typeof queueMicrotask<"u"?queueMicrotask.bind(tl):typeof process<"u"&&process.nextTick||Ux,I4=n=>n!=null&&cr(n[Yg]),oe={isArray:Tc,isArrayBuffer:Nx,isBuffer:qL,isFormData:JL,isArrayBufferView:HL,isString:$L,isNumber:kx,isBoolean:GL,isObject:Zg,isPlainObject:zm,isReadableStream:e4,isRequest:t4,isResponse:n4,isHeaders:r4,isUndefined:Qd,isDate:KL,isFile:WL,isBlob:QL,isRegExp:g4,isFunction:cr,isStream:XL,isURLSearchParams:ZL,isTypedArray:h4,isFileList:YL,forEach:Rf,merge:G0,extend:s4,trim:i4,stripBOM:a4,inherits:o4,toFlatObject:l4,kindOf:Xg,kindOfTest:hi,endsWith:u4,toArray:c4,forEachEntry:d4,matchAll:f4,isHTMLForm:p4,hasOwnProperty:QI,hasOwnProp:QI,reduceDescriptors:Lx,freezeMethods:y4,toObjectSet:_4,toCamelCase:m4,noop:v4,toFiniteNumber:b4,findKey:Mx,global:tl,isContextDefined:Vx,isSpecCompliantForm:E4,toJSONObject:w4,isAsyncFn:T4,isThenable:S4,setImmediate:Ux,asap:A4,isIterable:I4};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const Bx=Me.prototype,Fx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Fx[n]={value:n}});Object.defineProperties(Me,Fx);Object.defineProperty(Bx,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,o)=>{const u=Object.create(Bx);return oe.toFlatObject(n,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Me.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const R4=null;function K0(n){return oe.isPlainObject(n)||oe.isArray(n)}function zx(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function YI(n,e,t){return n?n.concat(e).map(function(i,o){return i=zx(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function C4(n){return oe.isArray(n)&&!n.some(K0)}const x4=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function ey(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,P){return!oe.isUndefined(P[A])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(E){if(E===null)return"";if(oe.isDate(E))return E.toISOString();if(!f&&oe.isBlob(E))throw new Me("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(E)||oe.isTypedArray(E)?f&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function g(E,A,P){let U=E;if(E&&!P&&typeof E=="object"){if(oe.endsWith(A,"{}"))A=r?A:A.slice(0,-2),E=JSON.stringify(E);else if(oe.isArray(E)&&C4(E)||(oe.isFileList(E)||oe.endsWith(A,"[]"))&&(U=oe.toArray(E)))return A=zx(A),U.forEach(function(V,H){!(oe.isUndefined(V)||V===null)&&e.append(u===!0?YI([A],H,o):u===null?A:A+"[]",d(V))}),!1}return K0(E)?!0:(e.append(YI(P,A,o),d(E)),!1)}const y=[],v=Object.assign(x4,{defaultVisitor:g,convertValue:d,isVisitable:K0});function w(E,A){if(!oe.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+A.join("."));y.push(E),oe.forEach(E,function(U,L){(!(oe.isUndefined(U)||U===null)&&i.call(e,U,oe.isString(L)?L.trim():L,A,v))===!0&&w(U,A?A.concat(L):[L])}),y.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return w(n),e}function XI(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function rE(n,e){this._pairs=[],n&&ey(n,this,e)}const jx=rE.prototype;jx.append=function(e,t){this._pairs.push([e,t])};jx.toString=function(e){const t=e?function(r){return e.call(this,r,XI)}:XI;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function P4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qx(n,e,t){if(!e)return n;const r=t&&t.encode||P4;oe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=oe.isURLSearchParams(e)?e.toString():new rE(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class JI{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Hx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},O4=typeof URLSearchParams<"u"?URLSearchParams:rE,D4=typeof FormData<"u"?FormData:null,N4=typeof Blob<"u"?Blob:null,k4={isBrowser:!0,classes:{URLSearchParams:O4,FormData:D4,Blob:N4},protocols:["http","https","file","blob","url","data"]},iE=typeof window<"u"&&typeof document<"u",W0=typeof navigator=="object"&&navigator||void 0,M4=iE&&(!W0||["ReactNative","NativeScript","NS"].indexOf(W0.product)<0),V4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L4=iE&&window.location.href||"http://localhost",U4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iE,hasStandardBrowserEnv:M4,hasStandardBrowserWebWorkerEnv:V4,navigator:W0,origin:L4},Symbol.toStringTag,{value:"Module"})),qn={...U4,...k4};function B4(n,e){return ey(n,new qn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return qn.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function F4(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function z4(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function $x(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=o>=t.length;return u=!u&&oe.isArray(i)?i.length:u,f?(oe.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!oe.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&oe.isArray(i[u])&&(i[u]=z4(i[u])),!h)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,i)=>{e(F4(r),i,t,0)}),t}return null}function j4(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Cf={transitional:Hx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify($x(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return B4(e,this.formSerializer).toString();if((h=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ey(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),j4(e)):e}],transformResponse:[function(e){const t=this.transitional||Cf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Me.from(h,Me.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{Cf.headers[n]={}});const q4=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H4=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&q4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},ZI=Symbol("internals");function sd(n){return n&&String(n).trim().toLowerCase()}function jm(n){return n===!1||n==null?n:oe.isArray(n)?n.map(jm):String(n)}function $4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const G4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function m0(n,e,t,r,i){if(oe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function K4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function W4(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let hr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,f,d){const g=sd(f);if(!g)throw new Error("header name must be a non-empty string");const y=oe.findKey(i,g);(!y||i[y]===void 0||d===!0||d===void 0&&i[y]!==!1)&&(i[y||f]=jm(h))}const u=(h,f)=>oe.forEach(h,(d,g)=>o(d,g,f));if(oe.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(oe.isString(e)&&(e=e.trim())&&!G4(e))u(H4(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let h={},f,d;for(const g of e){if(!oe.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[d=g[0]]=(f=h[d])?oe.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}u(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=sd(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return $4(i);if(oe.isFunction(t))return t.call(this,i,r);if(oe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=sd(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||m0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=sd(u),u){const h=oe.findKey(r,u);h&&(!t||m0(r,r[h],h,t))&&(delete r[h],i=!0)}}return oe.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||m0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return oe.forEach(this,(i,o)=>{const u=oe.findKey(r,o);if(u){t[u]=jm(i),delete t[o];return}const h=e?K4(o):String(o).trim();h!==o&&delete t[o],t[h]=jm(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ZI]=this[ZI]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=sd(u);r[h]||(W4(i,u),r[h]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}};hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(hr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(hr);function g0(n,e){const t=this||Cf,r=e||t,i=hr.from(r.headers);let o=r.data;return oe.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Gx(n){return!!(n&&n.__CANCEL__)}function Sc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Sc,Me,{__CANCEL__:!0});function Kx(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Q4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Y4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),g=r[o];u||(u=d),t[i]=f,r[i]=d;let y=o,v=0;for(;y!==i;)v+=t[y++],y=y%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),d-u<e)return;const w=g&&d-g;return w?Math.round(v*1e3/w):void 0}}function X4(n,e){let t=0,r=1e3/e,i,o;const u=(d,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,d)};return[(...d)=>{const g=Date.now(),y=g-t;y>=r?u(d,g):(i=d,o||(o=setTimeout(()=>{o=null,u(i)},r-y)))},()=>i&&u(i)]}const hg=(n,e,t=3)=>{let r=0;const i=Y4(50,250);return X4(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,f=u-r,d=i(f),g=u<=h;r=u;const y={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:d||void 0,estimated:d&&h&&g?(h-u)/d:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(y)},t)},eR=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},tR=n=>(...e)=>oe.asap(()=>n(...e)),J4=qn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,qn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,Z4=qn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&u.push("path="+r),oe.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function e3(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function t3(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Wx(n,e,t){let r=!e3(e);return n&&(r||t==!1)?t3(n,e):e}const nR=n=>n instanceof hr?{...n}:n;function hl(n,e){e=e||{};const t={};function r(d,g,y,v){return oe.isPlainObject(d)&&oe.isPlainObject(g)?oe.merge.call({caseless:v},d,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function i(d,g,y,v){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d,y,v)}else return r(d,g,y,v)}function o(d,g){if(!oe.isUndefined(g))return r(void 0,g)}function u(d,g){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,g)}function h(d,g,y){if(y in e)return r(d,g);if(y in n)return r(void 0,d)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(d,g,y)=>i(nR(d),nR(g),y,!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(g){const y=f[g]||i,v=y(n[g],e[g],g);oe.isUndefined(v)&&y!==h||(t[g]=v)}),t}const Qx=n=>{const e=hl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=hr.from(u),e.url=qx(Wx(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(oe.isFormData(t)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[d,...g]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([d||"multipart/form-data",...g].join("; "))}}if(qn.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&J4(e.url))){const d=i&&o&&Z4.read(o);d&&u.set(i,d)}return e},n3=typeof XMLHttpRequest<"u",r3=n3&&function(n){return new Promise(function(t,r){const i=Qx(n);let o=i.data;const u=hr.from(i.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:d}=i,g,y,v,w,E;function A(){w&&w(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function U(){if(!P)return;const V=hr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),F={data:!h||h==="text"||h==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:V,config:n,request:P};Kx(function(M){t(M),A()},function(M){r(M),A()},F),P=null}"onloadend"in P?P.onloadend=U:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(U)},P.onabort=function(){P&&(r(new Me("Request aborted",Me.ECONNABORTED,n,P)),P=null)},P.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||Hx;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Me(H,F.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,P)),P=null},o===void 0&&u.setContentType(null),"setRequestHeader"in P&&oe.forEach(u.toJSON(),function(H,F){P.setRequestHeader(F,H)}),oe.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),h&&h!=="json"&&(P.responseType=i.responseType),d&&([v,E]=hg(d,!0),P.addEventListener("progress",v)),f&&P.upload&&([y,w]=hg(f),P.upload.addEventListener("progress",y),P.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(g=V=>{P&&(r(!V||V.type?new Sc(null,n,P):V),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const L=Q4(i.url);if(L&&qn.protocols.indexOf(L)===-1){r(new Me("Unsupported protocol "+L+":",Me.ERR_BAD_REQUEST,n));return}P.send(o||null)})},i3=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(d){if(!i){i=!0,h();const g=d instanceof Error?d:this.reason;r.abort(g instanceof Me?g:new Sc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),n=null)};n.forEach(d=>d.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>oe.asap(h),f}},s3=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},a3=async function*(n,e){for await(const t of o3(n))yield*s3(t,e)},o3=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},rR=(n,e,t,r)=>{const i=a3(n,e);let o=0,u,h=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:g}=await i.next();if(d){h(),f.close();return}let y=g.byteLength;if(t){let v=o+=y;t(v)}f.enqueue(new Uint8Array(g))}catch(d){throw h(d),d}},cancel(f){return h(f),i.return()}},{highWaterMark:2})},ty=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Yx=ty&&typeof ReadableStream=="function",l3=ty&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Xx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},u3=Yx&&Xx(()=>{let n=!1;const e=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),iR=64*1024,Q0=Yx&&Xx(()=>oe.isReadableStream(new Response("").body)),dg={stream:Q0&&(n=>n.body)};ty&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!dg[e]&&(dg[e]=oe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const c3=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request(qn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await l3(n)).byteLength},h3=async(n,e)=>{const t=oe.toFiniteNumber(n.getContentLength());return t??c3(e)},d3=ty&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:f,responseType:d,headers:g,withCredentials:y="same-origin",fetchOptions:v}=Qx(n);d=d?(d+"").toLowerCase():"text";let w=i3([i,o&&o.toAbortSignal()],u),E;const A=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let P;try{if(f&&u3&&t!=="get"&&t!=="head"&&(P=await h3(g,r))!==0){let F=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(oe.isFormData(r)&&($=F.headers.get("content-type"))&&g.setContentType($),F.body){const[M,R]=eR(P,hg(tR(f)));r=rR(F.body,iR,M,R)}}oe.isString(y)||(y=y?"include":"omit");const U="credentials"in Request.prototype;E=new Request(e,{...v,signal:w,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:U?y:void 0});let L=await fetch(E);const V=Q0&&(d==="stream"||d==="response");if(Q0&&(h||V&&A)){const F={};["status","statusText","headers"].forEach(x=>{F[x]=L[x]});const $=oe.toFiniteNumber(L.headers.get("content-length")),[M,R]=h&&eR($,hg(tR(h),!0))||[];L=new Response(rR(L.body,iR,M,()=>{R&&R(),A&&A()}),F)}d=d||"text";let H=await dg[oe.findKey(dg,d)||"text"](L,n);return!V&&A&&A(),await new Promise((F,$)=>{Kx(F,$,{data:H,headers:hr.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:E})})}catch(U){throw A&&A(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,E),{cause:U.cause||U}):Me.from(U,U&&U.code,n,E)}}),Y0={http:R4,xhr:r3,fetch:d3};oe.forEach(Y0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const sR=n=>`- ${n}`,f3=n=>oe.isFunction(n)||n===null||n===!1,Jx={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!f3(t)&&(r=Y0[(u=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(sR).join(`
`):" "+sR(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Y0};function y0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Sc(null,n)}function aR(n){return y0(n),n.headers=hr.from(n.headers),n.data=g0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Jx.getAdapter(n.adapter||Cf.adapter)(n).then(function(r){return y0(n),r.data=g0.call(n,n.transformResponse,r),r.headers=hr.from(r.headers),r},function(r){return Gx(r)||(y0(n),r&&r.response&&(r.response.data=g0.call(n,n.transformResponse,r.response),r.response.headers=hr.from(r.response.headers))),Promise.reject(r)})}const Zx="1.9.0",ny={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{ny[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const oR={};ny.transitional=function(e,t,r){function i(o,u){return"[Axios v"+Zx+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Me(i(u," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!oR[u]&&(oR[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};ny.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function p3(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],f=h===void 0||u(h,o,n);if(f!==!0)throw new Me("option "+o+" must be "+f,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const qm={assertOptions:p3,validators:ny},Pi=qm.validators;let al=class{constructor(e){this.defaults=e||{},this.interceptors={request:new JI,response:new JI}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=hl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&qm.assertOptions(r,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(oe.isFunction(i)?t.paramsSerializer={serialize:i}:qm.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),qm.assertOptions(t,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],E=>{delete o[E]}),t.headers=hr.concat(u,o);const h=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(f=f&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const d=[];this.interceptors.response.forEach(function(A){d.push(A.fulfilled,A.rejected)});let g,y=0,v;if(!f){const E=[aR.bind(this),void 0];for(E.unshift.apply(E,h),E.push.apply(E,d),v=E.length,g=Promise.resolve(t);y<v;)g=g.then(E[y++],E[y++]);return g}v=h.length;let w=t;for(y=0;y<v;){const E=h[y++],A=h[y++];try{w=E(w)}catch(P){A.call(this,P);break}}try{g=aR.call(this,w)}catch(E){return Promise.reject(E)}for(y=0,v=d.length;y<v;)g=g.then(d[y++],d[y++]);return g}getUri(e){e=hl(this.defaults,e);const t=Wx(e.baseURL,e.url,e.allowAbsoluteUrls);return qx(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){al.prototype[e]=function(t,r){return this.request(hl(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(hl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}al.prototype[e]=t(),al.prototype[e+"Form"]=t(!0)});let m3=class eP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Sc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new eP(function(i){e=i}),cancel:e}}};function g3(n){return function(t){return n.apply(null,t)}}function y3(n){return oe.isObject(n)&&n.isAxiosError===!0}const X0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(X0).forEach(([n,e])=>{X0[e]=n});function tP(n){const e=new al(n),t=Ox(al.prototype.request,e);return oe.extend(t,al.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return tP(hl(n,i))},t}const Ot=tP(Cf);Ot.Axios=al;Ot.CanceledError=Sc;Ot.CancelToken=m3;Ot.isCancel=Gx;Ot.VERSION=Zx;Ot.toFormData=ey;Ot.AxiosError=Me;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=g3;Ot.isAxiosError=y3;Ot.mergeConfig=hl;Ot.AxiosHeaders=hr;Ot.formToJSON=n=>$x(oe.isHTMLForm(n)?new FormData(n):n);Ot.getAdapter=Jx.getAdapter;Ot.HttpStatusCode=X0;Ot.default=Ot;const{Axios:gW,AxiosError:yW,CanceledError:_W,isCancel:vW,CancelToken:bW,VERSION:EW,all:wW,Cancel:TW,isAxiosError:SW,spread:AW,toFormData:IW,AxiosHeaders:RW,HttpStatusCode:CW,formToJSON:xW,getAdapter:PW,mergeConfig:OW}=Ot;var _3=Sx();const Nt=Gg(_3);function nP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=nP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ol(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=nP(n))&&(r&&(r+=" "),r+=e);return r}function rP(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const v3={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function iP(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let f=0;f<o.length;f+=1){const d=o[f];d&&(u+=(h===!0?"":" ")+e(d),h=!1,t&&t[d]&&(u+=" "+t[d]))}r[i]=u}return r}const b3=W.createContext(),E3=()=>W.useContext(b3)??!1;function lR(n){try{return n.matches(":focus-visible")}catch{}return!1}var _0={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function w3(){if(uR)return pt;uR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(A){if(typeof A=="object"&&A!==null){var P=A.$$typeof;switch(P){case n:switch(A=A.type,A){case t:case i:case r:case f:case d:case v:return A;default:switch(A=A&&A.$$typeof,A){case u:case h:case y:case g:return A;case o:return A;default:return P}}case e:return P}}}return pt.ContextConsumer=o,pt.ContextProvider=u,pt.Element=n,pt.ForwardRef=h,pt.Fragment=t,pt.Lazy=y,pt.Memo=g,pt.Portal=e,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=f,pt.SuspenseList=d,pt.isContextConsumer=function(A){return E(A)===o},pt.isContextProvider=function(A){return E(A)===u},pt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},pt.isForwardRef=function(A){return E(A)===h},pt.isFragment=function(A){return E(A)===t},pt.isLazy=function(A){return E(A)===y},pt.isMemo=function(A){return E(A)===g},pt.isPortal=function(A){return E(A)===e},pt.isProfiler=function(A){return E(A)===i},pt.isStrictMode=function(A){return E(A)===r},pt.isSuspense=function(A){return E(A)===f},pt.isSuspenseList=function(A){return E(A)===d},pt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===f||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===y||A.$$typeof===g||A.$$typeof===u||A.$$typeof===o||A.$$typeof===h||A.$$typeof===w||A.getModuleId!==void 0)},pt.typeOf=E,pt}var cR;function T3(){return cR||(cR=1,_0.exports=w3()),_0.exports}var sP=T3();function xs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function aP(n){if(W.isValidElement(n)||sP.isValidElementType(n)||!xs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=aP(n[t])}),e}function Cr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return xs(n)&&xs(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||sP.isValidElementType(e[i])?r[i]=e[i]:xs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&xs(n[i])?r[i]=Cr(n[i],e[i],t):t.clone?r[i]=xs(e[i])?aP(e[i]):e[i]:r[i]=e[i]}),r}function dl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function za(n){if(typeof n!="string")throw new Error(dl(7));return n.charAt(0).toUpperCase()+n.slice(1)}let hR=0;function S3(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(hR+=1,t(`mui-${hR}`))},[e]),r}const A3={...q0},dR=A3.useId;function oP(n){if(dR!==void 0){const e=dR();return n??e}return S3(n)}function I3({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=W.useRef(n!==void 0),[o,u]=W.useState(e),h=i?n:o,f=W.useCallback(d=>{i||u(d)},[]);return[h,f]}function lP(...n){const e=W.useRef(void 0),t=W.useCallback(r=>{const i=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,h=u(r);return typeof h=="function"?h:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},n);return W.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}function J0(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const f=h;t[i][f]=J0(o[f],u[f])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const fR=n=>n,R3=()=>{let n=fR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=fR}}},C3=R3(),x3={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function sE(n,e,t="Mui"){const r=x3[e];return r?`${t}-${r}`:`${C3.generate(n)}-${e}`}function uP(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=sE(n,i,t)}),r}function P3(n){return typeof n=="string"}function O3(n,e,t){return n===void 0||P3(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function D3(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function pR(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function N3(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const w=ol(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),E={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},A={...t,...i,...r};return w.length>0&&(A.className=w),Object.keys(E).length>0&&(A.style=E),{props:A,internalRef:void 0}}const u=D3({...i,...r}),h=pR(r),f=pR(i),d=e(u),g=ol(d==null?void 0:d.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),y={...d==null?void 0:d.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...d,...t,...f,...h};return g.length>0&&(v.className=g),Object.keys(y).length>0&&(v.style=y),{props:v,internalRef:d.ref}}function k3(n,e,t){return typeof n=="function"?n(e,t):n}function Nd(n,e){return e?Cr(n,e,{clone:!1}):n}function M3(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function V3(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function L3(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function U3(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const f=e(n.breakpoints.not(...h),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const ry={xs:0,sm:600,md:900,lg:1200,xl:1536},mR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${ry[n]}px)`},B3={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:ry[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Vs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||mR;return e.reduce((u,h,f)=>(u[o.up(o.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||mR;return Object.keys(e).reduce((u,h)=>{if(V3(o.keys,h)){const f=L3(r.containerQueries?r:B3,h);f&&(u[f]=t(e[h],h))}else if(Object.keys(o.values||ry).includes(h)){const f=o.up(h);u[f]=t(e[h],h)}else{const f=h;u[f]=e[f]}return u},{})}return t(e)}function F3(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function z3(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function iy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function fg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=iy(n,t)||r,e&&(i=e(i,r,n)),i}function Zt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],f=u.theme,d=iy(f,r)||{};return Vs(u,h,y=>{let v=fg(d,i,y);return y===v&&typeof y=="string"&&(v=fg(d,i,`${e}${y==="default"?"":za(y)}`,y)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function j3(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const q3={m:"margin",p:"padding"},H3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},gR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$3=j3(n=>{if(n.length>2)if(gR[n])n=gR[n];else return[n];const[e,t]=n.split(""),r=q3[e],i=H3[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),aE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],oE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...aE,...oE];function xf(n,e,t,r){const i=iy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof i=="function"?i:()=>{}}function lE(n){return xf(n,"spacing",8)}function Pf(n,e){return typeof e=="string"||e==null?e:n(e)}function G3(n,e){return t=>n.reduce((r,i)=>(r[i]=Pf(e,t),r),{})}function K3(n,e,t,r){if(!e.includes(t))return null;const i=$3(t),o=G3(i,r),u=n[t];return Vs(n,u,o)}function cP(n,e){const t=lE(n.theme);return Object.keys(n).map(r=>K3(n,e,r,t)).reduce(Nd,{})}function Ft(n){return cP(n,aE)}Ft.propTypes={};Ft.filterProps=aE;function zt(n){return cP(n,oE)}zt.propTypes={};zt.filterProps=oE;function sy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Nd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function $r(n){return typeof n!="number"?n:`${n}px solid`}function Yr(n,e){return Zt({prop:n,themeKey:"borders",transform:e})}const W3=Yr("border",$r),Q3=Yr("borderTop",$r),Y3=Yr("borderRight",$r),X3=Yr("borderBottom",$r),J3=Yr("borderLeft",$r),Z3=Yr("borderColor"),e6=Yr("borderTopColor"),t6=Yr("borderRightColor"),n6=Yr("borderBottomColor"),r6=Yr("borderLeftColor"),i6=Yr("outline",$r),s6=Yr("outlineColor"),ay=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=xf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Pf(e,r)});return Vs(n,n.borderRadius,t)}return null};ay.propTypes={};ay.filterProps=["borderRadius"];sy(W3,Q3,Y3,X3,J3,Z3,e6,t6,n6,r6,ay,i6,s6);const oy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=xf(n.theme,"spacing",8),t=r=>({gap:Pf(e,r)});return Vs(n,n.gap,t)}return null};oy.propTypes={};oy.filterProps=["gap"];const ly=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=xf(n.theme,"spacing",8),t=r=>({columnGap:Pf(e,r)});return Vs(n,n.columnGap,t)}return null};ly.propTypes={};ly.filterProps=["columnGap"];const uy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=xf(n.theme,"spacing",8),t=r=>({rowGap:Pf(e,r)});return Vs(n,n.rowGap,t)}return null};uy.propTypes={};uy.filterProps=["rowGap"];const a6=Zt({prop:"gridColumn"}),o6=Zt({prop:"gridRow"}),l6=Zt({prop:"gridAutoFlow"}),u6=Zt({prop:"gridAutoColumns"}),c6=Zt({prop:"gridAutoRows"}),h6=Zt({prop:"gridTemplateColumns"}),d6=Zt({prop:"gridTemplateRows"}),f6=Zt({prop:"gridTemplateAreas"}),p6=Zt({prop:"gridArea"});sy(oy,ly,uy,a6,o6,l6,u6,c6,h6,d6,f6,p6);function Fu(n,e){return e==="grey"?e:n}const m6=Zt({prop:"color",themeKey:"palette",transform:Fu}),g6=Zt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Fu}),y6=Zt({prop:"backgroundColor",themeKey:"palette",transform:Fu});sy(m6,g6,y6);function Ir(n){return n<=1&&n!==0?`${n*100}%`:n}const _6=Zt({prop:"width",transform:Ir}),uE=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,f;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||ry[t];return r?((f=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ir(t)}};return Vs(n,n.maxWidth,e)}return null};uE.filterProps=["maxWidth"];const v6=Zt({prop:"minWidth",transform:Ir}),b6=Zt({prop:"height",transform:Ir}),E6=Zt({prop:"maxHeight",transform:Ir}),w6=Zt({prop:"minHeight",transform:Ir});Zt({prop:"size",cssProperty:"width",transform:Ir});Zt({prop:"size",cssProperty:"height",transform:Ir});const T6=Zt({prop:"boxSizing"});sy(_6,uE,v6,b6,E6,w6,T6);const cy={border:{themeKey:"borders",transform:$r},borderTop:{themeKey:"borders",transform:$r},borderRight:{themeKey:"borders",transform:$r},borderBottom:{themeKey:"borders",transform:$r},borderLeft:{themeKey:"borders",transform:$r},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:$r},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ay},color:{themeKey:"palette",transform:Fu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Fu},backgroundColor:{themeKey:"palette",transform:Fu},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:Ft},mt:{style:Ft},mr:{style:Ft},mb:{style:Ft},ml:{style:Ft},mx:{style:Ft},my:{style:Ft},margin:{style:Ft},marginTop:{style:Ft},marginRight:{style:Ft},marginBottom:{style:Ft},marginLeft:{style:Ft},marginX:{style:Ft},marginY:{style:Ft},marginInline:{style:Ft},marginInlineStart:{style:Ft},marginInlineEnd:{style:Ft},marginBlock:{style:Ft},marginBlockStart:{style:Ft},marginBlockEnd:{style:Ft},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:oy},rowGap:{style:uy},columnGap:{style:ly},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ir},maxWidth:{style:uE},minWidth:{transform:Ir},height:{transform:Ir},maxHeight:{transform:Ir},minHeight:{transform:Ir},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function S6(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function A6(n,e){return typeof n=="function"?n(e):n}function I6(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:f=t,themeKey:d,transform:g,style:y}=h;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const v=iy(i,d)||{};return y?y(u):Vs(u,r,E=>{let A=fg(v,g,E);return E===A&&typeof E=="string"&&(A=fg(v,g,`${t}${E==="default"?"":za(E)}`,E)),f===!1?A:{[f]:A}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??cy;function u(h){let f=h;if(typeof h=="function")f=h(i);else if(typeof h!="object")return h;if(!f)return null;const d=F3(i.breakpoints),g=Object.keys(d);let y=d;return Object.keys(f).forEach(v=>{const w=A6(f[v],i);if(w!=null)if(typeof w=="object")if(o[v])y=Nd(y,n(v,w,i,o));else{const E=Vs({theme:i},w,A=>({[v]:A}));S6(E,w)?y[v]=e({sx:w,theme:i}):y=Nd(y,E)}else y=Nd(y,n(v,w,i,o))}),M3(i,z3(g,y))}return Array.isArray(r)?r.map(u):u(r)}return e}const Wu=I6();Wu.filterProps=["sx"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Z0.apply(null,arguments)}function R6(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function C6(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var x6=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(C6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=R6(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),zn="-ms-",pg="-moz-",tt="-webkit-",hP="comm",cE="rule",hE="decl",P6="@import",dP="@keyframes",O6="@layer",D6=Math.abs,hy=String.fromCharCode,N6=Object.assign;function k6(n,e){return kn(n,0)^45?(((e<<2^kn(n,0))<<2^kn(n,1))<<2^kn(n,2))<<2^kn(n,3):0}function fP(n){return n.trim()}function M6(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function eb(n,e){return n.indexOf(e)}function kn(n,e){return n.charCodeAt(e)|0}function Yd(n,e,t){return n.slice(e,t)}function ki(n){return n.length}function dE(n){return n.length}function Im(n,e){return e.push(n),n}function V6(n,e){return n.map(e).join("")}var dy=1,Qu=1,pP=0,dr=0,un=0,Ac="";function fy(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:dy,column:Qu,length:u,return:""}}function ad(n,e){return N6(fy("",null,null,"",null,null,0),n,{length:-n.length},e)}function L6(){return un}function U6(){return un=dr>0?kn(Ac,--dr):0,Qu--,un===10&&(Qu=1,dy--),un}function xr(){return un=dr<pP?kn(Ac,dr++):0,Qu++,un===10&&(Qu=1,dy++),un}function Hi(){return kn(Ac,dr)}function Hm(){return dr}function Of(n,e){return Yd(Ac,n,e)}function Xd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mP(n){return dy=Qu=1,pP=ki(Ac=n),dr=0,[]}function gP(n){return Ac="",n}function $m(n){return fP(Of(dr-1,tb(n===91?n+2:n===40?n+1:n)))}function B6(n){for(;(un=Hi())&&un<33;)xr();return Xd(n)>2||Xd(un)>3?"":" "}function F6(n,e){for(;--e&&xr()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return Of(n,Hm()+(e<6&&Hi()==32&&xr()==32))}function tb(n){for(;xr();)switch(un){case n:return dr;case 34:case 39:n!==34&&n!==39&&tb(un);break;case 40:n===41&&tb(n);break;case 92:xr();break}return dr}function z6(n,e){for(;xr()&&n+un!==57;)if(n+un===84&&Hi()===47)break;return"/*"+Of(e,dr-1)+"*"+hy(n===47?n:xr())}function j6(n){for(;!Xd(Hi());)xr();return Of(n,dr)}function q6(n){return gP(Gm("",null,null,null,[""],n=mP(n),0,[0],n))}function Gm(n,e,t,r,i,o,u,h,f){for(var d=0,g=0,y=u,v=0,w=0,E=0,A=1,P=1,U=1,L=0,V="",H=i,F=o,$=r,M=V;P;)switch(E=L,L=xr()){case 40:if(E!=108&&kn(M,y-1)==58){eb(M+=nt($m(L),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:M+=$m(L);break;case 9:case 10:case 13:case 32:M+=B6(E);break;case 92:M+=F6(Hm()-1,7);continue;case 47:switch(Hi()){case 42:case 47:Im(H6(z6(xr(),Hm()),e,t),f);break;default:M+="/"}break;case 123*A:h[d++]=ki(M)*U;case 125*A:case 59:case 0:switch(L){case 0:case 125:P=0;case 59+g:U==-1&&(M=nt(M,/\f/g,"")),w>0&&ki(M)-y&&Im(w>32?_R(M+";",r,t,y-1):_R(nt(M," ","")+";",r,t,y-2),f);break;case 59:M+=";";default:if(Im($=yR(M,e,t,d,g,i,h,V,H=[],F=[],y),o),L===123)if(g===0)Gm(M,e,$,$,H,o,y,h,F);else switch(v===99&&kn(M,3)===110?100:v){case 100:case 108:case 109:case 115:Gm(n,$,$,r&&Im(yR(n,$,$,0,0,i,h,V,i,H=[],y),F),i,F,y,h,r?H:F);break;default:Gm(M,$,$,$,[""],F,0,h,F)}}d=g=w=0,A=U=1,V=M="",y=u;break;case 58:y=1+ki(M),w=E;default:if(A<1){if(L==123)--A;else if(L==125&&A++==0&&U6()==125)continue}switch(M+=hy(L),L*A){case 38:U=g>0?1:(M+="\f",-1);break;case 44:h[d++]=(ki(M)-1)*U,U=1;break;case 64:Hi()===45&&(M+=$m(xr())),v=Hi(),g=y=ki(V=M+=j6(Hm())),L++;break;case 45:E===45&&ki(M)==2&&(A=0)}}return o}function yR(n,e,t,r,i,o,u,h,f,d,g){for(var y=i-1,v=i===0?o:[""],w=dE(v),E=0,A=0,P=0;E<r;++E)for(var U=0,L=Yd(n,y+1,y=D6(A=u[E])),V=n;U<w;++U)(V=fP(A>0?v[U]+" "+L:nt(L,/&\f/g,v[U])))&&(f[P++]=V);return fy(n,e,t,i===0?cE:h,f,d,g)}function H6(n,e,t){return fy(n,e,t,hP,hy(L6()),Yd(n,2,-2),0)}function _R(n,e,t,r){return fy(n,e,t,hE,Yd(n,0,r),Yd(n,r+1,-1),r)}function zu(n,e){for(var t="",r=dE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function $6(n,e,t,r){switch(n.type){case O6:if(n.children.length)break;case P6:case hE:return n.return=n.return||n.value;case hP:return"";case dP:return n.return=n.value+"{"+zu(n.children,r)+"}";case cE:n.value=n.props.join(",")}return ki(t=zu(n.children,r))?n.return=n.value+"{"+t+"}":""}function G6(n){var e=dE(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function K6(n){return function(e){e.root||(e=e.return)&&n(e)}}function yP(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var W6=function(e,t,r){for(var i=0,o=0;i=o,o=Hi(),i===38&&o===12&&(t[r]=1),!Xd(o);)xr();return Of(e,dr)},Q6=function(e,t){var r=-1,i=44;do switch(Xd(i)){case 0:i===38&&Hi()===12&&(t[r]=1),e[r]+=W6(dr-1,t,r);break;case 2:e[r]+=$m(i);break;case 4:if(i===44){e[++r]=Hi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=hy(i)}while(i=xr());return e},Y6=function(e,t){return gP(Q6(mP(e),t))},vR=new WeakMap,X6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!vR.get(r))&&!i){vR.set(e,!0);for(var o=[],u=Y6(t,o),h=r.props,f=0,d=0;f<u.length;f++)for(var g=0;g<h.length;g++,d++)e.props[d]=o[f]?u[f].replace(/&\f/g,h[g]):h[g]+" "+u[f]}}},J6=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function _P(n,e){switch(k6(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+pg+n+zn+n+n;case 6828:case 4268:return tt+n+zn+n+n;case 6165:return tt+n+zn+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+zn+"flex-$1$2")+n;case 5443:return tt+n+zn+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+zn+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+zn+nt(n,"shrink","negative")+n;case 5292:return tt+n+zn+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+zn+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ki(n)-1-e>6)switch(kn(n,e+1)){case 109:if(kn(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+pg+(kn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~eb(n,"stretch")?_P(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(kn(n,e+1)!==115)break;case 6444:switch(kn(n,ki(n)-3-(~eb(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(kn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+zn+"$2box$3")+n}break;case 5936:switch(kn(n,e+11)){case 114:return tt+n+zn+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+zn+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+zn+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+zn+n+n}return n}var Z6=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case hE:e.return=_P(e.value,e.length);break;case dP:return zu([ad(e,{value:nt(e.value,"@","@"+tt)})],i);case cE:if(e.length)return V6(e.props,function(o){switch(M6(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zu([ad(e,{props:[nt(o,/:(read-\w+)/,":"+pg+"$1")]})],i);case"::placeholder":return zu([ad(e,{props:[nt(o,/:(plac\w+)/,":"+tt+"input-$1")]}),ad(e,{props:[nt(o,/:(plac\w+)/,":"+pg+"$1")]}),ad(e,{props:[nt(o,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},e5=[Z6],t5=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var P=A.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var i=e.stylisPlugins||e5,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(A){for(var P=A.getAttribute("data-emotion").split(" "),U=1;U<P.length;U++)o[P[U]]=!0;h.push(A)});var f,d=[X6,J6];{var g,y=[$6,K6(function(A){g.insert(A)})],v=G6(d.concat(i,y)),w=function(P){return zu(q6(P),v)};f=function(P,U,L,V){g=L,w(P?P+"{"+U.styles+"}":U.styles),V&&(E.inserted[U.name]=!0)}}var E={key:t,sheet:new x6({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return E.sheet.hydrate(h),E},n5=!0;function r5(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var vP=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||n5===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},i5=function(e,t,r){vP(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function s5(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var a5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o5=/[A-Z]|^ms/g,l5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bP=function(e){return e.charCodeAt(1)===45},bR=function(e){return e!=null&&typeof e!="boolean"},v0=yP(function(n){return bP(n)?n:n.replace(o5,"-$&").toLowerCase()}),ER=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(l5,function(r,i,o){return Mi={name:i,styles:o,next:Mi},i})}return a5[e]!==1&&!bP(e)&&typeof t=="number"&&t!==0?t+"px":t};function Jd(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Mi={name:i.name,styles:i.styles,next:Mi},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Mi={name:u.name,styles:u.styles,next:Mi},u=u.next;var h=o.styles+";";return h}return u5(n,e,t)}case"function":{if(n!==void 0){var f=Mi,d=t(n);return Mi=f,Jd(n,e,d)}break}}var g=t;if(e==null)return g;var y=e[g];return y!==void 0?y:g}function u5(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Jd(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":bR(h)&&(r+=v0(o)+":"+ER(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)bR(u[f])&&(r+=v0(o)+":"+ER(o,u[f])+";");else{var d=Jd(n,e,u);switch(o){case"animation":case"animationName":{r+=v0(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var wR=/label:\s*([^\s;{]+)\s*(;|$)/g,Mi;function EP(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Mi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=Jd(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=Jd(t,e,n[h]),r){var f=o;i+=f[h]}wR.lastIndex=0;for(var d="",g;(g=wR.exec(i))!==null;)d+="-"+g[1];var y=s5(i)+d;return{name:y,styles:i,next:Mi}}var c5=function(e){return e()},h5=q0.useInsertionEffect?q0.useInsertionEffect:!1,d5=h5||c5,wP=W.createContext(typeof HTMLElement<"u"?t5({key:"css"}):null);wP.Provider;var f5=function(e){return W.forwardRef(function(t,r){var i=W.useContext(wP);return e(t,i,r)})},p5=W.createContext({}),m5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,g5=yP(function(n){return m5.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),y5=g5,_5=function(e){return e!=="theme"},TR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?y5:_5},SR=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},v5=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return vP(t,r,i),d5(function(){return i5(t,r,i)}),null},b5=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=SR(e,t,r),f=h||TR(i),d=!f("as");return function(){var g=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&y.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{var v=g[0];y.push(v[0]);for(var w=g.length,E=1;E<w;E++)y.push(g[E],v[E])}var A=f5(function(P,U,L){var V=d&&P.as||i,H="",F=[],$=P;if(P.theme==null){$={};for(var M in P)$[M]=P[M];$.theme=W.useContext(p5)}typeof P.className=="string"?H=r5(U.registered,F,P.className):P.className!=null&&(H=P.className+" ");var R=EP(y.concat(F),U.registered,$);H+=U.key+"-"+R.name,u!==void 0&&(H+=" "+u);var x=d&&h===void 0?TR(V):f,T={};for(var O in P)d&&O==="as"||x(O)&&(T[O]=P[O]);return T.className=H,L&&(T.ref=L),W.createElement(W.Fragment,null,W.createElement(v5,{cache:U,serialized:R,isStringTag:typeof V=="string"}),W.createElement(V,T))});return A.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=y,A.__emotion_forwardProp=h,Object.defineProperty(A,"toString",{value:function(){return"."+u}}),A.withComponent=function(P,U){var L=n(P,Z0({},t,U,{shouldForwardProp:SR(A,U,!0)}));return L.apply(void 0,y)},A}},E5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nb=b5.bind(null);E5.forEach(function(n){nb[n]=nb(n)});function w5(n,e){return nb(n,e)}function T5(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const AR=[];function IR(n){return AR[0]=n,EP(AR)}const S5=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function A5(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=S5(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function f(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function d(v,w){const E=u.indexOf(w);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(E!==-1&&typeof e[u[E]]=="number"?e[u[E]]:w)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?d(v,u[u.indexOf(v)+1]):h(v)}function y(v){const w=u.indexOf(v);return w===0?h(u[1]):w===u.length-1?f(u[w]):d(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:f,between:d,only:g,not:y,unit:t,...i}}const I5={borderRadius:4};function TP(n=8,e=lE({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function R5(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function SP(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=A5(t),f=TP(i);let d=Cr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...I5,...o}},u);return d=U3(d),d.applyStyles=R5,d=e.reduce((g,y)=>Cr(g,y),d),d.unstable_sxConfig={...cy,...u==null?void 0:u.unstable_sxConfig},d.unstable_sx=function(y){return Wu({sx:y,theme:this})},d}function AP(n){const{variants:e,...t}=n,r={variants:e,style:IR(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=IR(i.style))}),r}const C5=SP();function b0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function x5(n){return n?(e,t)=>t[n]:null}function P5(n,e,t){n.theme=N5(n.theme)?t:n.theme[e]||n.theme}function Km(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Km(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return IP(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function IP(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function O5(n={}){const{themeId:e,defaultTheme:t=C5,rootShouldForwardProp:r=b0,slotShouldForwardProp:i=b0}=n;function o(h){P5(h,e,t)}return(h,f={})=>{T5(h,F=>F.filter($=>$!==Wu));const{name:d,slot:g,skipVariantsResolver:y,skipSx:v,overridesResolver:w=x5(M5(g)),...E}=f,A=y!==void 0?y:g&&g!=="Root"&&g!=="root"||!1,P=v||!1;let U=b0;g==="Root"||g==="root"?U=r:g?U=i:k5(h)&&(U=void 0);const L=w5(h,{shouldForwardProp:U,label:D5(),...E}),V=F=>{if(typeof F=="function"&&F.__emotion_real!==F)return function(M){return Km(M,F)};if(xs(F)){const $=AP(F);return $.variants?function(R){return Km(R,$)}:$.style}return F},H=(...F)=>{const $=[],M=F.map(V),R=[];if($.push(o),d&&w&&R.push(function(C){var G,J;const se=(J=(G=C.theme.components)==null?void 0:G[d])==null?void 0:J.styleOverrides;if(!se)return null;const B={};for(const le in se)B[le]=Km(C,se[le]);return w(C,B)}),d&&!A&&R.push(function(C){var B,G;const D=C.theme,se=(G=(B=D==null?void 0:D.components)==null?void 0:B[d])==null?void 0:G.variants;return se?IP(C,se):null}),P||R.push(Wu),Array.isArray(M[0])){const O=M.shift(),C=new Array($.length).fill(""),D=new Array(R.length).fill("");let se;se=[...C,...O,...D],se.raw=[...C,...O.raw,...D],$.unshift(se)}const x=[...$,...M,...R],T=L(...x);return h.muiName&&(T.muiName=h.muiName),T};return L.withConfig&&(H.withConfig=L.withConfig),H}}function D5(n,e){return void 0}function N5(n){for(const e in n)return!1;return!0}function k5(n){return typeof n=="string"&&n.charCodeAt(0)>96}function M5(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function fE(n,e=0,t=1){return rP(n,e,t)}function V5(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ja(n){if(n.type)return n;if(n.charAt(0)==="#")return ja(V5(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(dl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(dl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const L5=n=>{const e=ja(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Sd=(n,e)=>{try{return L5(n)}catch{return n}};function py(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function RP(n){n=ja(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(d,g=(d+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",f.push(e[3])),py({type:h,values:f})}function rb(n){n=ja(n);let e=n.type==="hsl"||n.type==="hsla"?ja(RP(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function U5(n,e){const t=rb(n),r=rb(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function B5(n,e){return n=ja(n),e=fE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,py(n)}function Rm(n,e,t){try{return B5(n,e)}catch{return n}}function pE(n,e){if(n=ja(n),e=fE(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return py(n)}function gt(n,e,t){try{return pE(n,e)}catch{return n}}function mE(n,e){if(n=ja(n),e=fE(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return py(n)}function yt(n,e,t){try{return mE(n,e)}catch{return n}}function F5(n,e=.15){return rb(n)>.5?pE(n,e):mE(n,e)}function Cm(n,e,t){try{return F5(n,e)}catch{return n}}const z5=W.createContext(void 0);function j5(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?J0(i.defaultProps,r):!i.styleOverrides&&!i.variants?J0(i,r):r}function q5({props:n,name:e}){const t=W.useContext(z5);return j5({props:n,name:e,theme:{components:t}})}const RR={theme:void 0};function H5(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(RR.theme=i.theme,o=AP(n(RR)),e=o,t=i.theme),o}}function $5(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const CR=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},G5=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,f])=>{(!t||t&&!t([...o,h]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,h],Array.isArray(f)?[...u,h]:u):e([...o,h],f,u))})}r(n)},K5=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function E0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return G5(n,(h,f,d)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(h,f))){const g=`--${t?`${t}-`:""}${h.join("-")}`,y=K5(h,f);Object.assign(i,{[g]:y}),CR(o,h,`var(${g})`,d),CR(u,h,`var(${g}, ${y})`,d)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function W5(n,e={}){const{getSelector:t=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...f}=n,{vars:d,css:g,varsWithDefaults:y}=E0(f,e);let v=y;const w={},{[h]:E,...A}=o;if(Object.entries(A||{}).forEach(([V,H])=>{const{vars:F,css:$,varsWithDefaults:M}=E0(H,e);v=Cr(v,M),w[V]={css:$,vars:F}}),E){const{css:V,vars:H,varsWithDefaults:F}=E0(E,e);v=Cr(v,F),w[h]={css:V,vars:H}}function P(V,H){var $,M;let F=i;if(i==="class"&&(F=".%s"),i==="data"&&(F="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(F=`[${i}="%s"]`),V){if(F==="media")return n.defaultColorScheme===V?":root":{[`@media (prefers-color-scheme: ${((M=($=o[V])==null?void 0:$.palette)==null?void 0:M.mode)||V})`]:{":root":H}};if(F)return n.defaultColorScheme===V?`:root, ${F.replace("%s",String(V))}`:F.replace("%s",String(V))}return":root"}return{vars:v,generateThemeVars:()=>{let V={...d};return Object.entries(w).forEach(([,{vars:H}])=>{V=Cr(V,H)}),V},generateStyleSheets:()=>{var R,x;const V=[],H=n.defaultColorScheme||"light";function F(T,O){Object.keys(O).length&&V.push(typeof T=="string"?{[T]:{...O}}:T)}F(t(void 0,{...g}),g);const{[H]:$,...M}=w;if($){const{css:T}=$,O=(x=(R=o[H])==null?void 0:R.palette)==null?void 0:x.mode,C=!r&&O?{colorScheme:O,...T}:{...T};F(t(H,{...C}),C)}return Object.entries(M).forEach(([T,{css:O}])=>{var se,B;const C=(B=(se=o[T])==null?void 0:se.palette)==null?void 0:B.mode,D=!r&&C?{colorScheme:C,...O}:{...O};F(t(T,{...D}),D)}),V}}}function Q5(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Zd={black:"#000",white:"#fff"},Y5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Eu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},wu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},od={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Tu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Su={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Au={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function CP(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Zd.white,default:Zd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const X5=CP();function xP(){return{text:{primary:Zd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Zd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const xR=xP();function PR(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=mE(n.main,i):e==="dark"&&(n.dark=pE(n.main,o)))}function J5(n="light"){return n==="dark"?{main:Tu[200],light:Tu[50],dark:Tu[400]}:{main:Tu[700],light:Tu[400],dark:Tu[800]}}function Z5(n="light"){return n==="dark"?{main:Eu[200],light:Eu[50],dark:Eu[400]}:{main:Eu[500],light:Eu[300],dark:Eu[700]}}function eU(n="light"){return n==="dark"?{main:wu[500],light:wu[300],dark:wu[700]}:{main:wu[700],light:wu[400],dark:wu[800]}}function tU(n="light"){return n==="dark"?{main:Su[400],light:Su[300],dark:Su[700]}:{main:Su[700],light:Su[500],dark:Su[900]}}function nU(n="light"){return n==="dark"?{main:Au[400],light:Au[300],dark:Au[700]}:{main:Au[800],light:Au[500],dark:Au[900]}}function rU(n="light"){return n==="dark"?{main:od[400],light:od[300],dark:od[700]}:{main:"#ed6c02",light:od[500],dark:od[900]}}function gE(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||J5(e),u=n.secondary||Z5(e),h=n.error||eU(e),f=n.info||tU(e),d=n.success||nU(e),g=n.warning||rU(e);function y(A){return U5(A,xR.text.primary)>=t?xR.text.primary:X5.text.primary}const v=({color:A,name:P,mainShade:U=500,lightShade:L=300,darkShade:V=700})=>{if(A={...A},!A.main&&A[U]&&(A.main=A[U]),!A.hasOwnProperty("main"))throw new Error(dl(11,P?` (${P})`:"",U));if(typeof A.main!="string")throw new Error(dl(12,P?` (${P})`:"",JSON.stringify(A.main)));return PR(A,"light",L,r),PR(A,"dark",V,r),A.contrastText||(A.contrastText=y(A.main)),A};let w;return e==="light"?w=CP():e==="dark"&&(w=xP()),Cr({common:{...Zd},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:Y5,contrastThreshold:t,getContrastText:y,augmentColor:v,tonalOffset:r,...w},i)}function iU(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function sU(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function aU(n){return Math.round(n*1e5)/1e5}const OR={textTransform:"uppercase"},DR='"Roboto", "Helvetica", "Arial", sans-serif';function oU(n,e){const{fontFamily:t=DR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:d,pxToRem:g,...y}=typeof e=="function"?e(n):e,v=r/14,w=g||(P=>`${P/f*v}rem`),E=(P,U,L,V,H)=>({fontFamily:t,fontWeight:P,fontSize:w(U),lineHeight:L,...t===DR?{letterSpacing:`${aU(V/U)}em`}:{},...H,...d}),A={h1:E(i,96,1.167,-1.5),h2:E(i,60,1.2,-.5),h3:E(o,48,1.167,0),h4:E(o,34,1.235,.25),h5:E(o,24,1.334,0),h6:E(u,20,1.6,.15),subtitle1:E(o,16,1.75,.15),subtitle2:E(u,14,1.57,.1),body1:E(o,16,1.5,.15),body2:E(o,14,1.43,.15),button:E(u,14,1.75,.4,OR),caption:E(o,12,1.66,.4),overline:E(o,12,2.66,1,OR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:f,pxToRem:w,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...A},y,{clone:!1})}const lU=.2,uU=.14,cU=.12;function At(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${lU})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${uU})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${cU})`].join(",")}const hU=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],dU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},fU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function NR(n){return`${Math.round(n)}ms`}function pU(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function mU(n){const e={...dU,...n.easing},t={...fU,...n.duration};return{getAutoHeightDuration:pU,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:f=0,...d}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:NR(u)} ${h} ${typeof f=="string"?f:NR(f)}`).join(",")},...n,easing:e,duration:t}}const gU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function yU(n){return xs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function PP(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!yU(h)||u.startsWith("unstable_")?delete r[u]:xs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function ib(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:f,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(dl(20));const g=gE(o),y=SP(n);let v=Cr(y,{mixins:sU(y.breakpoints,r),palette:g,shadows:hU.slice(),typography:oU(g,h),transitions:mU(u),zIndex:{...gU}});return v=Cr(v,d),v=e.reduce((w,E)=>Cr(w,E),v),v.unstable_sxConfig={...cy,...d==null?void 0:d.unstable_sxConfig},v.unstable_sx=function(E){return Wu({sx:E,theme:this})},v.toRuntimeSource=PP,v}function _U(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const vU=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=_U(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function OP(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function DP(n){return n==="dark"?vU:[]}function bU(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=gE(e);return{palette:o,opacity:{...OP(o.mode),...t},overlays:r||DP(o.mode),...i}}function EU(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const wU=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],TU=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return wU(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function SU(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ue(n,e,t){!n[e]&&t&&(n[e]=t)}function Ad(n){return typeof n!="string"||!n.startsWith("hsl")?n:RP(n)}function Rs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Sd(Ad(n[e])))}function AU(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Oi=n=>{try{return n()}catch{}},IU=(n="mui")=>$5(n);function w0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=bU({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=ib({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...OP(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||DP(i)},u}function RU(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=EU,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...d}=n,g=Object.keys(t)[0],y=r||(t.light&&g!=="light"?"light":g),v=IU(o),{[y]:w,light:E,dark:A,...P}=t,U={...P};let L=w;if((y==="dark"&&!("dark"in t)||y==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(dl(21,y));const V=w0(U,L,d,y);E&&!U.light&&w0(U,E,void 0,"light"),A&&!U.dark&&w0(U,A,void 0,"dark");let H={defaultColorScheme:y,...V,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:f,getCssVar:v,colorSchemes:U,font:{...iU(V.typography),...V.font},spacing:AU(d.spacing)};Object.keys(H.colorSchemes).forEach(x=>{const T=H.colorSchemes[x].palette,O=C=>{const D=C.split("-"),se=D[1],B=D[2];return v(C,T[se][B])};if(T.mode==="light"&&(ue(T.common,"background","#fff"),ue(T.common,"onBackground","#000")),T.mode==="dark"&&(ue(T.common,"background","#000"),ue(T.common,"onBackground","#fff")),SU(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){ue(T.Alert,"errorColor",gt(T.error.light,.6)),ue(T.Alert,"infoColor",gt(T.info.light,.6)),ue(T.Alert,"successColor",gt(T.success.light,.6)),ue(T.Alert,"warningColor",gt(T.warning.light,.6)),ue(T.Alert,"errorFilledBg",O("palette-error-main")),ue(T.Alert,"infoFilledBg",O("palette-info-main")),ue(T.Alert,"successFilledBg",O("palette-success-main")),ue(T.Alert,"warningFilledBg",O("palette-warning-main")),ue(T.Alert,"errorFilledColor",Oi(()=>T.getContrastText(T.error.main))),ue(T.Alert,"infoFilledColor",Oi(()=>T.getContrastText(T.info.main))),ue(T.Alert,"successFilledColor",Oi(()=>T.getContrastText(T.success.main))),ue(T.Alert,"warningFilledColor",Oi(()=>T.getContrastText(T.warning.main))),ue(T.Alert,"errorStandardBg",yt(T.error.light,.9)),ue(T.Alert,"infoStandardBg",yt(T.info.light,.9)),ue(T.Alert,"successStandardBg",yt(T.success.light,.9)),ue(T.Alert,"warningStandardBg",yt(T.warning.light,.9)),ue(T.Alert,"errorIconColor",O("palette-error-main")),ue(T.Alert,"infoIconColor",O("palette-info-main")),ue(T.Alert,"successIconColor",O("palette-success-main")),ue(T.Alert,"warningIconColor",O("palette-warning-main")),ue(T.AppBar,"defaultBg",O("palette-grey-100")),ue(T.Avatar,"defaultBg",O("palette-grey-400")),ue(T.Button,"inheritContainedBg",O("palette-grey-300")),ue(T.Button,"inheritContainedHoverBg",O("palette-grey-A100")),ue(T.Chip,"defaultBorder",O("palette-grey-400")),ue(T.Chip,"defaultAvatarColor",O("palette-grey-700")),ue(T.Chip,"defaultIconColor",O("palette-grey-700")),ue(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ue(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ue(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ue(T.LinearProgress,"primaryBg",yt(T.primary.main,.62)),ue(T.LinearProgress,"secondaryBg",yt(T.secondary.main,.62)),ue(T.LinearProgress,"errorBg",yt(T.error.main,.62)),ue(T.LinearProgress,"infoBg",yt(T.info.main,.62)),ue(T.LinearProgress,"successBg",yt(T.success.main,.62)),ue(T.LinearProgress,"warningBg",yt(T.warning.main,.62)),ue(T.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),ue(T.Slider,"primaryTrack",yt(T.primary.main,.62)),ue(T.Slider,"secondaryTrack",yt(T.secondary.main,.62)),ue(T.Slider,"errorTrack",yt(T.error.main,.62)),ue(T.Slider,"infoTrack",yt(T.info.main,.62)),ue(T.Slider,"successTrack",yt(T.success.main,.62)),ue(T.Slider,"warningTrack",yt(T.warning.main,.62));const C=Cm(T.background.default,.8);ue(T.SnackbarContent,"bg",C),ue(T.SnackbarContent,"color",Oi(()=>T.getContrastText(C))),ue(T.SpeedDialAction,"fabHoverBg",Cm(T.background.paper,.15)),ue(T.StepConnector,"border",O("palette-grey-400")),ue(T.StepContent,"border",O("palette-grey-400")),ue(T.Switch,"defaultColor",O("palette-common-white")),ue(T.Switch,"defaultDisabledColor",O("palette-grey-100")),ue(T.Switch,"primaryDisabledColor",yt(T.primary.main,.62)),ue(T.Switch,"secondaryDisabledColor",yt(T.secondary.main,.62)),ue(T.Switch,"errorDisabledColor",yt(T.error.main,.62)),ue(T.Switch,"infoDisabledColor",yt(T.info.main,.62)),ue(T.Switch,"successDisabledColor",yt(T.success.main,.62)),ue(T.Switch,"warningDisabledColor",yt(T.warning.main,.62)),ue(T.TableCell,"border",yt(Rm(T.divider,1),.88)),ue(T.Tooltip,"bg",Rm(T.grey[700],.92))}if(T.mode==="dark"){ue(T.Alert,"errorColor",yt(T.error.light,.6)),ue(T.Alert,"infoColor",yt(T.info.light,.6)),ue(T.Alert,"successColor",yt(T.success.light,.6)),ue(T.Alert,"warningColor",yt(T.warning.light,.6)),ue(T.Alert,"errorFilledBg",O("palette-error-dark")),ue(T.Alert,"infoFilledBg",O("palette-info-dark")),ue(T.Alert,"successFilledBg",O("palette-success-dark")),ue(T.Alert,"warningFilledBg",O("palette-warning-dark")),ue(T.Alert,"errorFilledColor",Oi(()=>T.getContrastText(T.error.dark))),ue(T.Alert,"infoFilledColor",Oi(()=>T.getContrastText(T.info.dark))),ue(T.Alert,"successFilledColor",Oi(()=>T.getContrastText(T.success.dark))),ue(T.Alert,"warningFilledColor",Oi(()=>T.getContrastText(T.warning.dark))),ue(T.Alert,"errorStandardBg",gt(T.error.light,.9)),ue(T.Alert,"infoStandardBg",gt(T.info.light,.9)),ue(T.Alert,"successStandardBg",gt(T.success.light,.9)),ue(T.Alert,"warningStandardBg",gt(T.warning.light,.9)),ue(T.Alert,"errorIconColor",O("palette-error-main")),ue(T.Alert,"infoIconColor",O("palette-info-main")),ue(T.Alert,"successIconColor",O("palette-success-main")),ue(T.Alert,"warningIconColor",O("palette-warning-main")),ue(T.AppBar,"defaultBg",O("palette-grey-900")),ue(T.AppBar,"darkBg",O("palette-background-paper")),ue(T.AppBar,"darkColor",O("palette-text-primary")),ue(T.Avatar,"defaultBg",O("palette-grey-600")),ue(T.Button,"inheritContainedBg",O("palette-grey-800")),ue(T.Button,"inheritContainedHoverBg",O("palette-grey-700")),ue(T.Chip,"defaultBorder",O("palette-grey-700")),ue(T.Chip,"defaultAvatarColor",O("palette-grey-300")),ue(T.Chip,"defaultIconColor",O("palette-grey-300")),ue(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ue(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ue(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ue(T.LinearProgress,"primaryBg",gt(T.primary.main,.5)),ue(T.LinearProgress,"secondaryBg",gt(T.secondary.main,.5)),ue(T.LinearProgress,"errorBg",gt(T.error.main,.5)),ue(T.LinearProgress,"infoBg",gt(T.info.main,.5)),ue(T.LinearProgress,"successBg",gt(T.success.main,.5)),ue(T.LinearProgress,"warningBg",gt(T.warning.main,.5)),ue(T.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),ue(T.Slider,"primaryTrack",gt(T.primary.main,.5)),ue(T.Slider,"secondaryTrack",gt(T.secondary.main,.5)),ue(T.Slider,"errorTrack",gt(T.error.main,.5)),ue(T.Slider,"infoTrack",gt(T.info.main,.5)),ue(T.Slider,"successTrack",gt(T.success.main,.5)),ue(T.Slider,"warningTrack",gt(T.warning.main,.5));const C=Cm(T.background.default,.98);ue(T.SnackbarContent,"bg",C),ue(T.SnackbarContent,"color",Oi(()=>T.getContrastText(C))),ue(T.SpeedDialAction,"fabHoverBg",Cm(T.background.paper,.15)),ue(T.StepConnector,"border",O("palette-grey-600")),ue(T.StepContent,"border",O("palette-grey-600")),ue(T.Switch,"defaultColor",O("palette-grey-300")),ue(T.Switch,"defaultDisabledColor",O("palette-grey-600")),ue(T.Switch,"primaryDisabledColor",gt(T.primary.main,.55)),ue(T.Switch,"secondaryDisabledColor",gt(T.secondary.main,.55)),ue(T.Switch,"errorDisabledColor",gt(T.error.main,.55)),ue(T.Switch,"infoDisabledColor",gt(T.info.main,.55)),ue(T.Switch,"successDisabledColor",gt(T.success.main,.55)),ue(T.Switch,"warningDisabledColor",gt(T.warning.main,.55)),ue(T.TableCell,"border",gt(Rm(T.divider,1),.68)),ue(T.Tooltip,"bg",Rm(T.grey[700],.92))}Rs(T.background,"default"),Rs(T.background,"paper"),Rs(T.common,"background"),Rs(T.common,"onBackground"),Rs(T,"divider"),Object.keys(T).forEach(C=>{const D=T[C];C!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&ue(T[C],"mainChannel",Sd(Ad(D.main))),D.light&&ue(T[C],"lightChannel",Sd(Ad(D.light))),D.dark&&ue(T[C],"darkChannel",Sd(Ad(D.dark))),D.contrastText&&ue(T[C],"contrastTextChannel",Sd(Ad(D.contrastText))),C==="text"&&(Rs(T[C],"primary"),Rs(T[C],"secondary")),C==="action"&&(D.active&&Rs(T[C],"active"),D.selected&&Rs(T[C],"selected")))})}),H=e.reduce((x,T)=>Cr(x,T),H);const F={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:TU(H)},{vars:$,generateThemeVars:M,generateStyleSheets:R}=W5(H,F);return H.vars=$,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([x,T])=>{H[x]=T}),H.generateThemeVars=M,H.generateStyleSheets=R,H.generateSpacing=function(){return TP(d.spacing,lE(this))},H.getColorSchemeSelector=Q5(h),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=u,H.unstable_sxConfig={...cy,...d==null?void 0:d.unstable_sxConfig},H.unstable_sx=function(T){return Wu({sx:T,theme:this})},H.toRuntimeSource=PP,H}function kR(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:gE({...t===!0?{}:t.palette,mode:e})})}function CU(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",f=i==null?void 0:i[h],d={...i,...t?{[h]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return ib(n,...e);let g=t;"palette"in n||d[h]&&(d[h]!==!0?g=d[h].palette:h==="dark"&&(g={mode:"dark"}));const y=ib({...n,palette:g},...e);return y.defaultColorScheme=h,y.colorSchemes=d,y.palette.mode==="light"&&(y.colorSchemes.light={...d.light!==!0&&d.light,palette:y.palette},kR(y,"dark",d.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:y.palette},kR(y,"light",d.light)),y}return!t&&!("light"in d)&&h==="light"&&(d.light=!0),RU({...u,colorSchemes:d,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const xU=CU(),PU="$$material";function NP(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const OU=n=>NP(n)&&n!=="classes",Df=O5({themeId:PU,defaultTheme:xU,rootShouldForwardProp:OU}),yE=H5;function kP(n){return q5(n)}function DU(n){return sE("MuiSvgIcon",n)}uP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const NU=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${za(e)}`,`fontSize${za(t)}`]};return iP(i,DU,r)},kU=Df("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${za(t.color)}`],e[`fontSize${za(t.fontSize)}`]]}})(yE(({theme:n})=>{var e,t,r,i,o,u,h,f,d,g,y,v,w,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:g.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,A])=>A&&A.main).map(([A])=>{var P,U;return{props:{color:A},style:{color:(U=(P=(n.vars??n).palette)==null?void 0:P[A])==null?void 0:U.main}}}),{props:{color:"action"},style:{color:(v=(y=(n.vars??n).palette)==null?void 0:y.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(E=(w=(n.vars??n).palette)==null?void 0:w.action)==null?void 0:E.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),sb=W.forwardRef(function(e,t){const r=kP({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:g=!1,titleAccess:y,viewBox:v="0 0 24 24",...w}=r,E=W.isValidElement(i)&&i.type==="svg",A={...r,color:u,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:E},P={};g||(P.viewBox=v);const U=NU(A);return q.jsxs(kU,{as:h,className:ol(U.root,o),focusable:"false",color:d,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:t,...P,...w,...E&&i.props,ownerState:A,children:[E?i.props.children:i,y?q.jsx("title",{children:y}):null]})});sb.muiName="SvgIcon";function MP(n,e){function t(r,i){return q.jsx(sb,{"data-testid":void 0,ref:i,...r,children:n})}return t.muiName=sb.muiName,W.memo(W.forwardRef(t))}const MU=MP(q.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),VU=MP(q.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function LU(n){return sE("MuiRating",n)}const ld=uP("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function kd(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...f}=e,{component:d,slots:g={[n]:void 0},slotProps:y={[n]:void 0},...v}=o,w=g[n]||r,E=k3(y[n],i),{props:{component:A,...P},internalRef:U}=N3({className:t,...f,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:E}),L=lP(U,E==null?void 0:E.ref,e.ref),V=n==="root"?A||d:A,H=O3(w,{...n==="root"&&!d&&!g[n]&&u,...n!=="root"&&!g[n]&&u,...P,...V&&!h&&{as:V},...V&&h&&{component:V},ref:L},i);return[w,H]}function UU(n){const e=n.toString().split(".")[1];return e?e.length:0}function T0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(UU(e)))}const BU=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${za(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return iP(h,LU,e)},FU=Df("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${ld.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${za(t.size)}`],t.readOnly&&e.readOnly]}})(yE(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${ld.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ld.focusVisible} .${ld.iconActive}`]:{outline:"1px solid #999"},[`& .${ld.visuallyHidden}`]:v3,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),VP=Df("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),zU=Df("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(yE(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),jU=Df("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>NP(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function qU(n){const{value:e,...t}=n;return q.jsx("span",{...t})}function MR(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:f,IconContainerComponent:d,isActive:g,itemValue:y,labelProps:v,name:w,onBlur:E,onChange:A,onClick:P,onFocus:U,readOnly:L,ownerState:V,ratingValue:H,ratingValueRounded:F,slots:$={},slotProps:M={}}=n,R=u?y===H:y<=H,x=y<=h,T=y<=i,O=y===F,C=`${w}-${oP()}`,D={slots:$,slotProps:M},[se,B]=kd("icon",{elementType:zU,className:ol(e.icon,R?e.iconFilled:e.iconEmpty,x&&e.iconHover,T&&e.iconFocus,g&&e.iconActive),externalForwardedProps:D,ownerState:{...V,iconEmpty:!R,iconFilled:R,iconHover:x,iconFocus:T,iconActive:g},additionalProps:{value:y},internalForwardedProps:{as:d}}),[G,J]=kd("label",{elementType:VP,externalForwardedProps:D,ownerState:{...V,emptyValueFocused:void 0},additionalProps:{style:v==null?void 0:v.style,htmlFor:C}}),le=q.jsx(se,{...B,children:r&&!R?r:f});return L?q.jsx("span",{...v,children:le}):q.jsxs(W.Fragment,{children:[q.jsxs(G,{...J,children:[le,q.jsx("span",{className:e.visuallyHidden,children:o(y)})]}),q.jsx("input",{className:e.visuallyHidden,onFocus:U,onBlur:E,onChange:A,onClick:P,disabled:t,value:y,id:C,type:"radio",name:w,checked:O})]})}const HU=q.jsx(MU,{fontSize:"inherit"}),$U=q.jsx(VU,{fontSize:"inherit"});function GU(n){return`${n||"0"} Star${n!==1?"s":""}`}const KU=W.forwardRef(function(e,t){const r=kP({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:f=$U,emptyLabelText:d="Empty",getLabelText:g=GU,highlightSelectedOnly:y=!1,icon:v=HU,IconContainerComponent:w=qU,max:E=5,name:A,onChange:P,onChangeActive:U,onMouseLeave:L,onMouseMove:V,precision:H=1,readOnly:F=!1,size:$="medium",value:M,slots:R={},slotProps:x={},...T}=r,O=oP(A),[C,D]=I3({controlled:M,default:u,name:"Rating"}),se=T0(C,H),B=E3(),[{hover:G,focus:J},le]=W.useState({hover:-1,focus:-1});let Ee=se;G!==-1&&(Ee=G),J!==-1&&(Ee=J);const[j,re]=W.useState(!1),ge=W.useRef(),me=lP(ge,t),Te=Fe=>{V&&V(Fe);const _t=ge.current,{right:wt,left:fi,width:Jr}=_t.getBoundingClientRect();let st;B?st=(wt-Fe.clientX)/Jr:st=(Fe.clientX-fi)/Jr;let Ue=T0(E*st+H/2,H);Ue=rP(Ue,H,E),le(Gt=>Gt.hover===Ue&&Gt.focus===Ue?Gt:{hover:Ue,focus:Ue}),re(!1),U&&G!==Ue&&U(Fe,Ue)},ke=Fe=>{L&&L(Fe);const _t=-1;le({hover:_t,focus:_t}),U&&G!==_t&&U(Fe,_t)},xe=Fe=>{let _t=Fe.target.value===""?null:parseFloat(Fe.target.value);G!==-1&&(_t=G),D(_t),P&&P(Fe,_t)},$t=Fe=>{Fe.clientX===0&&Fe.clientY===0||(le({hover:-1,focus:-1}),D(null),P&&parseFloat(Fe.target.value)===se&&P(Fe,null))},rt=Fe=>{lR(Fe.target)&&re(!0);const _t=parseFloat(Fe.target.value);le(wt=>({hover:wt.hover,focus:_t}))},Or=Fe=>{if(G!==-1)return;lR(Fe.target)||re(!1);const _t=-1;le(wt=>({hover:wt.hover,focus:_t}))},[di,Dr]=W.useState(!1),fr={...r,component:i,defaultValue:u,disabled:h,emptyIcon:f,emptyLabelText:d,emptyValueFocused:di,focusVisible:j,getLabelText:g,icon:v,IconContainerComponent:w,max:E,precision:H,readOnly:F,size:$},Ln=BU(fr),Xr={slots:R,slotProps:x},[co,Pl]=kd("root",{ref:me,className:ol(Ln.root,o),elementType:FU,externalForwardedProps:{...Xr,...T,component:i},getSlotProps:Fe=>({...Fe,onMouseMove:_t=>{var wt;Te(_t),(wt=Fe.onMouseMove)==null||wt.call(Fe,_t)},onMouseLeave:_t=>{var wt;ke(_t),(wt=Fe.onMouseLeave)==null||wt.call(Fe,_t)}}),ownerState:fr,additionalProps:{role:F?"img":null,"aria-label":F?g(Ee):null}}),[tr,jc]=kd("label",{className:ol(Ln.label,Ln.labelEmptyValue),elementType:VP,externalForwardedProps:Xr,ownerState:fr}),[ho,ts]=kd("decimal",{className:Ln.decimal,elementType:jU,externalForwardedProps:Xr,ownerState:fr});return q.jsxs(co,{...Pl,children:[Array.from(new Array(E)).map((Fe,_t)=>{const wt=_t+1,fi={classes:Ln,disabled:h,emptyIcon:f,focus:J,getLabelText:g,highlightSelectedOnly:y,hover:G,icon:v,IconContainerComponent:w,name:O,onBlur:Or,onChange:xe,onClick:$t,onFocus:rt,ratingValue:Ee,ratingValueRounded:se,readOnly:F,ownerState:fr,slots:R,slotProps:x},Jr=wt===Math.ceil(Ee)&&(G!==-1||J!==-1);if(H<1){const st=Array.from(new Array(1/H));return W.createElement(ho,{...ts,key:wt,className:ol(ts.className,Jr&&Ln.iconActive),iconActive:Jr},st.map((Ue,Gt)=>{const en=T0(wt-1+(Gt+1)*H,H);return q.jsx(MR,{...fi,isActive:!1,itemValue:en,labelProps:{style:st.length-1===Gt?{}:{width:en===Ee?`${(Gt+1)*H*100}%`:"0%",overflow:"hidden",position:"absolute"}}},en)}))}return q.jsx(MR,{...fi,isActive:Jr,itemValue:wt},wt)}),!F&&!h&&q.jsxs(tr,{...jc,children:[q.jsx("input",{className:Ln.visuallyHidden,value:"",id:`${O}-empty`,type:"radio",name:O,checked:se==null,onFocus:()=>Dr(!0),onBlur:()=>Dr(!1),onChange:xe}),q.jsx("span",{className:Ln.visuallyHidden,children:d})]})]})});var Wm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var WU=Wm.exports,VR;function QU(){return VR||(VR=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(WU,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function f(d,g){this._input=d,this._value=g}return e=function(d){var g,y,v,w;if(e.isNumeral(d))g=d.value();else if(d===0||typeof d>"u")g=0;else if(d===null||t.isNaN(d))g=null;else if(typeof d=="string")if(h.zeroFormat&&d===h.zeroFormat)g=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)g=null;else{for(y in i)if(w=typeof i[y].regexps.unformat=="function"?i[y].regexps.unformat():i[y].regexps.unformat,w&&d.match(w)){v=i[y].unformat;break}v=v||e._.stringToNumber,g=v(d)}else g=Number(d)||null;return new f(d,g)},e.version=r,e.isNumeral=function(d){return d instanceof f},e._=t={numberToFormat:function(d,g,y){var v=o[e.options.currentLocale],w=!1,E=!1,A=0,P="",U=1e12,L=1e9,V=1e6,H=1e3,F="",$=!1,M,R,x,T,O,C,D;if(d=d||0,R=Math.abs(d),e._.includes(g,"(")?(w=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(O=e._.includes(g,"+")?g.indexOf("+"):d<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(P=" "),g=g.replace(new RegExp(P+"a[kmbt]?"),""),R>=U&&!M||M==="t"?(P+=v.abbreviations.trillion,d=d/U):R<U&&R>=L&&!M||M==="b"?(P+=v.abbreviations.billion,d=d/L):R<L&&R>=V&&!M||M==="m"?(P+=v.abbreviations.million,d=d/V):(R<V&&R>=H&&!M||M==="k")&&(P+=v.abbreviations.thousand,d=d/H)),e._.includes(g,"[.]")&&(E=!0,g=g.replace("[.]",".")),x=d.toString().split(".")[0],T=g.split(".")[1],C=g.indexOf(","),A=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,T?(e._.includes(T,"[")?(T=T.replace("]",""),T=T.split("["),F=e._.toFixed(d,T[0].length+T[1].length,y,T[1].length)):F=e._.toFixed(d,T.length,y),x=F.split(".")[0],e._.includes(F,".")?F=v.delimiters.decimal+F.split(".")[1]:F="",E&&Number(F.slice(1))===0&&(F="")):x=e._.toFixed(d,0,y),P&&!M&&Number(x)>=1e3&&P!==v.abbreviations.trillion)switch(x=String(Number(x)/1e3),P){case v.abbreviations.thousand:P=v.abbreviations.million;break;case v.abbreviations.million:P=v.abbreviations.billion;break;case v.abbreviations.billion:P=v.abbreviations.trillion;break}if(e._.includes(x,"-")&&(x=x.slice(1),$=!0),x.length<A)for(var se=A-x.length;se>0;se--)x="0"+x;return C>-1&&(x=x.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(x=""),D=x+F+(P||""),w?D=(w&&$?"(":"")+D+(w&&$?")":""):O>=0?D=O===0?($?"-":"+")+D:D+($?"-":"+"):$&&(D="-"+D),D},stringToNumber:function(d){var g=o[h.currentLocale],y=d,v={thousand:3,million:6,billion:9,trillion:12},w,E,A;if(h.zeroFormat&&d===h.zeroFormat)E=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)E=null;else{E=1,g.delimiters.decimal!=="."&&(d=d.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(w in v)if(A=new RegExp("[^a-zA-Z]"+g.abbreviations[w]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),y.match(A)){E*=Math.pow(10,v[w]);break}E*=(d.split("-").length+Math.min(d.split("(").length-1,d.split(")").length-1))%2?1:-1,d=d.replace(/[^0-9\.]+/g,""),E*=Number(d)}return E},isNaN:function(d){return typeof d=="number"&&isNaN(d)},includes:function(d,g){return d.indexOf(g)!==-1},insert:function(d,g,y){return d.slice(0,y)+g+d.slice(y)},reduce:function(d,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var y=Object(d),v=y.length>>>0,w=0,E;if(arguments.length===3)E=arguments[2];else{for(;w<v&&!(w in y);)w++;if(w>=v)throw new TypeError("Reduce of empty array with no initial value");E=y[w++]}for(;w<v;w++)w in y&&(E=g(E,y[w],w,y));return E},multiplier:function(d){var g=d.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var d=Array.prototype.slice.call(arguments);return d.reduce(function(g,y){var v=t.multiplier(y);return g>v?g:v},1)},toFixed:function(d,g,y,v){var w=d.toString().split("."),E=g-(v||0),A,P,U,L;return w.length===2?A=Math.min(Math.max(w[1].length,E),g):A=E,U=Math.pow(10,A),L=(y(d+"e+"+A)/U).toFixed(A),v>g-A&&(P=new RegExp("\\.?0{1,"+(v-(g-A))+"}$"),L=L.replace(P,"")),L}},e.options=h,e.formats=i,e.locales=o,e.locale=function(d){return d&&(h.currentLocale=d.toLowerCase()),h.currentLocale},e.localeData=function(d){if(!d)return o[h.currentLocale];if(d=d.toLowerCase(),!o[d])throw new Error("Unknown locale : "+d);return o[d]},e.reset=function(){for(var d in u)h[d]=u[d]},e.zeroFormat=function(d){h.zeroFormat=typeof d=="string"?d:null},e.nullFormat=function(d){h.nullFormat=typeof d=="string"?d:null},e.defaultFormat=function(d){h.defaultFormat=typeof d=="string"?d:"0.0"},e.register=function(d,g,y){if(g=g.toLowerCase(),this[d+"s"][g])throw new TypeError(g+" "+d+" already registered.");return this[d+"s"][g]=y,y},e.validate=function(d,g){var y,v,w,E,A,P,U,L;if(typeof d!="string"&&(d+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",d)),d=d.trim(),d.match(/^\d+$/))return!0;if(d==="")return!1;try{U=e.localeData(g)}catch{U=e.localeData(e.locale())}return w=U.currency.symbol,A=U.abbreviations,y=U.delimiters.decimal,U.delimiters.thousands==="."?v="\\.":v=U.delimiters.thousands,L=d.match(/^[^\d]+/),L!==null&&(d=d.substr(1),L[0]!==w)||(L=d.match(/[^\d]+$/),L!==null&&(d=d.slice(0,-1),L[0]!==A.thousand&&L[0]!==A.million&&L[0]!==A.billion&&L[0]!==A.trillion))?!1:(P=new RegExp(v+"{2}"),d.match(/[^\d.,]/g)?!1:(E=d.split(y),E.length>2?!1:E.length<2?!!E[0].match(/^\d+.*\d$/)&&!E[0].match(P):E[0].length===1?!!E[0].match(/^\d+$/)&&!E[0].match(P)&&!!E[1].match(/^\d+$/):!!E[0].match(/^\d+.*\d$/)&&!E[0].match(P)&&!!E[1].match(/^\d+$/)))},e.fn=f.prototype={clone:function(){return e(this)},format:function(d,g){var y=this._value,v=d||h.defaultFormat,w,E,A;if(g=g||Math.round,y===0&&h.zeroFormat!==null)E=h.zeroFormat;else if(y===null&&h.nullFormat!==null)E=h.nullFormat;else{for(w in i)if(v.match(i[w].regexps.format)){A=i[w].format;break}A=A||e._.numberToFormat,E=A(y,v,g)}return E},value:function(){return this._value},input:function(){return this._input},set:function(d){return this._value=Number(d),this},add:function(d){var g=t.correctionFactor.call(null,this._value,d);function y(v,w,E,A){return v+Math.round(g*w)}return this._value=t.reduce([this._value,d],y,0)/g,this},subtract:function(d){var g=t.correctionFactor.call(null,this._value,d);function y(v,w,E,A){return v-Math.round(g*w)}return this._value=t.reduce([d],y,Math.round(this._value*g))/g,this},multiply:function(d){function g(y,v,w,E){var A=t.correctionFactor(y,v);return Math.round(y*A)*Math.round(v*A)/Math.round(A*A)}return this._value=t.reduce([this._value,d],g,1),this},divide:function(d){function g(y,v,w,E){var A=t.correctionFactor(y,v);return Math.round(y*A)/Math.round(v*A)}return this._value=t.reduce([this._value,d],g),this},difference:function(d){return Math.abs(e(this._value).subtract(d).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(d){var g=d%10;return~~(d%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(d,g,y){var v=e._.includes(g," BPS")?" ":"",w;return d=d*1e4,g=g.replace(/\s?BPS/,""),w=e._.numberToFormat(d,g,y),e._.includes(w,")")?(w=w.split(""),w.splice(-1,0,v+"BPS"),w=w.join("")):w=w+v+"BPS",w},unformat:function(d){return+(e._.stringToNumber(d)*1e-4).toFixed(15)}})}(),function(){var d={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},y=d.suffixes.concat(g.suffixes.filter(function(w){return d.suffixes.indexOf(w)<0})),v=y.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(w,E,A){var P,U=e._.includes(E,"ib")?g:d,L=e._.includes(E," b")||e._.includes(E," ib")?" ":"",V,H,F;for(E=E.replace(/\s?i?b/,""),V=0;V<=U.suffixes.length;V++)if(H=Math.pow(U.base,V),F=Math.pow(U.base,V+1),w===null||w===0||w>=H&&w<F){L+=U.suffixes[V],H>0&&(w=w/H);break}return P=e._.numberToFormat(w,E,A),P+L},unformat:function(w){var E=e._.stringToNumber(w),A,P;if(E){for(A=d.suffixes.length-1;A>=0;A--){if(e._.includes(w,d.suffixes[A])){P=Math.pow(d.base,A);break}if(e._.includes(w,g.suffixes[A])){P=Math.pow(g.base,A);break}}E*=P||1}return E}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(d,g,y){var v=e.locales[e.options.currentLocale],w={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},E,A,P;for(g=g.replace(/\s?\$\s?/,""),E=e._.numberToFormat(d,g,y),d>=0?(w.before=w.before.replace(/[\-\(]/,""),w.after=w.after.replace(/[\-\)]/,"")):d<0&&!e._.includes(w.before,"-")&&!e._.includes(w.before,"(")&&(w.before="-"+w.before),P=0;P<w.before.length;P++)switch(A=w.before[P],A){case"$":E=e._.insert(E,v.currency.symbol,P);break;case" ":E=e._.insert(E," ",P+v.currency.symbol.length-1);break}for(P=w.after.length-1;P>=0;P--)switch(A=w.after[P],A){case"$":E=P===w.after.length-1?E+v.currency.symbol:e._.insert(E,v.currency.symbol,-(w.after.length-(1+P)));break;case" ":E=P===w.after.length-1?E+" ":e._.insert(E," ",-(w.after.length-(1+P)+v.currency.symbol.length-1));break}return E}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(d,g,y){var v,w=typeof d=="number"&&!e._.isNaN(d)?d.toExponential():"0e+0",E=w.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(E[0]),g,y),v+"e"+E[1]},unformat:function(d){var g=e._.includes(d,"e+")?d.split("e+"):d.split("e-"),y=Number(g[0]),v=Number(g[1]);v=e._.includes(d,"e-")?v*=-1:v;function w(E,A,P,U){var L=e._.correctionFactor(E,A),V=E*L*(A*L)/(L*L);return V}return e._.reduce([y,Math.pow(10,v)],w,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(d,g,y){var v=e.locales[e.options.currentLocale],w,E=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),E+=v.ordinal(d),w=e._.numberToFormat(d,g,y),w+E}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(d,g,y){var v=e._.includes(g," %")?" ":"",w;return e.options.scalePercentBy100&&(d=d*100),g=g.replace(/\s?\%/,""),w=e._.numberToFormat(d,g,y),e._.includes(w,")")?(w=w.split(""),w.splice(-1,0,v+"%"),w=w.join("")):w=w+v+"%",w},unformat:function(d){var g=e._.stringToNumber(d);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(d,g,y){var v=Math.floor(d/60/60),w=Math.floor((d-v*60*60)/60),E=Math.round(d-v*60*60-w*60);return v+":"+(w<10?"0"+w:w)+":"+(E<10?"0"+E:E)},unformat:function(d){var g=d.split(":"),y=0;return g.length===3?(y=y+Number(g[0])*60*60,y=y+Number(g[1])*60,y=y+Number(g[2])):g.length===2&&(y=y+Number(g[0])*60,y=y+Number(g[1])),Number(y)}})}(),e})}(Wm)),Wm.exports}var YU=QU();const XU=Gg(YU);function _E({amount:n}){const e=XU(n).format("$0,0.00");return q.jsx("div",{children:e})}const JU="_card_container_ypeqb_1",ZU="_button_ypeqb_19",eB="_rating_ypeqb_73",tB="_product_container_ypeqb_87",nB="_product_flexed_ypeqb_115",Id={card_container:JU,button:ZU,rating:eB,product_container:tB,product_flexed:nB},Hs=W.createContext(),rB=({children:n,reducer:e,initialState:t})=>q.jsx(Hs.Provider,{value:W.useReducer(e,t),children:n}),Gr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Ic({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:o,id:u,rating:h,price:f,description:d}=n,[g,y]=W.useContext(Hs),v=()=>{y({type:Gr.ADD_TO_BASKET,item:{image:i,title:o,id:u,rating:h,price:f,description:d}})};return q.jsxs("div",{className:`${Id.card_container} ${e?Id.product_flexed:""}`,children:[q.jsx(oi,{to:`products/${u}`,children:q.jsx("img",{src:i,alt:""})}),q.jsxs("div",{children:[q.jsx("h3",{children:o}),t&&q.jsx("div",{style:{maxWidth:"750px"},children:d}),q.jsxs("div",{className:Id.rating,children:[q.jsx(KU,{value:h==null?void 0:h.rate,precision:.1}),q.jsx("small",{children:h==null?void 0:h.count})]}),q.jsx("div",{children:q.jsx(_E,{amount:f})}),r&&q.jsx("button",{className:Id.button,onClick:v,children:"add to cart"})]})]})}var iB={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function LP(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return iB[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Uu(n){var e=LP(n);return"".concat(e.value).concat(e.unit)}var UP=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},mg=function(){return mg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},mg.apply(this,arguments)},sB=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},aB=UP("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function LR(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.size,g=d===void 0?35:d,y=sB(n,["loading","color","speedMultiplier","cssOverride","size"]),v=mg({background:"transparent !important",width:Uu(g),height:Uu(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(aB," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},f);return t?W.createElement("span",mg({style:v},y)):null}var an=function(){return an=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},an.apply(this,arguments)},oB=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},lB=UP("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function uB(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.height,g=d===void 0?15:d,y=n.width,v=y===void 0?5:y,w=n.radius,E=w===void 0?2:w,A=n.margin,P=A===void 0?2:A,U=oB(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),L=LP(P).value,V=L+18,H=V/2+V/5.5,F=an({display:"inherit",position:"relative",fontSize:"0",top:V,left:V,width:"".concat(V*3,"px"),height:"".concat(V*3,"px")},f),$=function(B){return{position:"absolute",width:Uu(v),height:Uu(g),margin:Uu(P),backgroundColor:i,borderRadius:Uu(E),transition:"2s",animationFillMode:"both",animation:"".concat(lB," ").concat(1.2/u,"s ").concat(B*.12,"s infinite ease-in-out")}},M=an(an({},$(1)),{top:"".concat(V,"px"),left:"0"}),R=an(an({},$(2)),{top:"".concat(H,"px"),left:"".concat(H,"px"),transform:"rotate(-45deg)"}),x=an(an({},$(3)),{top:"0",left:"".concat(V,"px"),transform:"rotate(90deg)"}),T=an(an({},$(4)),{top:"".concat(-1*H,"px"),left:"".concat(H,"px"),transform:"rotate(45deg)"}),O=an(an({},$(5)),{top:"".concat(-1*V,"px"),left:"0"}),C=an(an({},$(6)),{top:"".concat(-1*H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(-45deg)"}),D=an(an({},$(7)),{top:"0",left:"".concat(-1*V,"px"),transform:"rotate(90deg)"}),se=an(an({},$(8)),{top:"".concat(H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(45deg)"});return t?W.createElement("span",an({style:F},U),W.createElement("span",{style:M}),W.createElement("span",{style:R}),W.createElement("span",{style:x}),W.createElement("span",{style:T}),W.createElement("span",{style:O}),W.createElement("span",{style:C}),W.createElement("span",{style:D}),W.createElement("span",{style:se})):null}function vE(){return q.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:q.jsx(uB,{color:"#36d7b7"})})}function cB(){const[n,e]=W.useState([]),[t,r]=W.useState(!1);return W.useEffect(()=>{r(!0),Ot.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),q.jsx("div",{children:t?q.jsx(vE,{}):q.jsx("section",{className:Id.product_container,children:n.map(i=>q.jsx(Ic,{product:i,renderAdd:!0},i.id))})})}const hB="_fixed_fb2z7_1",dB="_header_container_fb2z7_15",fB="_logo_container_fb2z7_33",pB="_delivery_fb2z7_63",mB="_search_fb2z7_89",gB="_order_container_fb2z7_171",yB="_language_fb2z7_205",_B="_cart_fb2z7_237",vB="_lower_container_fb2z7_271",Cs={fixed:hB,header_container:dB,logo_container:fB,delivery:pB,search:mB,order_container:gB,language:yB,cart:_B,lower_container:vB};var BP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UR=Ke.createContext&&Ke.createContext(BP),bB=["attr","size","title"];function EB(n,e){if(n==null)return{};var t=wB(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function wB(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function gg(){return gg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gg.apply(this,arguments)}function BR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(t),!0).forEach(function(r){TB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TB(n,e,t){return e=SB(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SB(n){var e=AB(n,"string");return typeof e=="symbol"?e:e+""}function AB(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FP(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,yg({key:t},e.attr),FP(e.child)))}function Rc(n){return e=>Ke.createElement(IB,gg({attr:yg({},n.attr)},e),FP(n.child))}function IB(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=EB(n,bB),h=i||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ke.createElement("svg",gg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:yg(yg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return UR!==void 0?Ke.createElement(UR.Consumer,null,t=>e(t)):e(BP)}function RB(n){return Rc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function CB(n){return Rc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function xB(n){return Rc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function PB(n){return Rc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function OB(){return q.jsx("div",{className:Cs.lower_container,children:q.jsxs("ul",{children:[q.jsxs("li",{children:[q.jsx(PB,{}),q.jsx("p",{children:"All"})]}),q.jsx("li",{children:"Today's deals"}),q.jsx("li",{children:"Customer Service"}),q.jsx("li",{children:"Registry"}),q.jsx("li",{children:"Gift Cards"}),q.jsx("li",{children:"Sell"})]})})}const DB="/Amazon-in-react/assets/amazon_logo-DP4zLUKx.png",NB="/Amazon-in-react/assets/Flag_of_the_United_States.svg-B5psx4NF.png",kB=()=>{};var FR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},MB=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},jP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,g=o>>2,y=(o&3)<<4|h>>4;let v=(h&15)<<2|d>>6,w=d&63;f||(w=64,u||(v=64)),r.push(t[g],t[y],t[v],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||d==null||y==null)throw new VB;const v=o<<2|h>>4;if(r.push(v),d!==64){const w=h<<4&240|d>>2;if(r.push(w),y!==64){const E=d<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LB=function(n){const e=zP(n);return jP.encodeByteArray(e,!0)},_g=function(n){return LB(n).replace(/\./g,"")},bE=function(n){try{return jP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!UB(t)||(n[t]=vg(n[t],e[t]));return n}function UB(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=()=>EE().__FIREBASE_DEFAULTS__,FB=()=>{if(typeof process>"u"||typeof FR>"u")return;const n=FR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bE(n[1]);return e&&JSON.parse(e)},my=()=>{try{return kB()||BB()||FB()||zB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jB=n=>{var e,t;return(t=(e=my())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qP=()=>{var n;return(n=my())===null||n===void 0?void 0:n.config},HP=n=>{var e;return(e=my())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n){return n.endsWith(".cloudworkstations.dev")}async function $P(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_g(JSON.stringify(t)),_g(JSON.stringify(u)),""].join(".")}const Md={};function $B(){const n={prod:[],emulator:[]};for(const e of Object.keys(Md))Md[e]?n.emulator.push(e):n.prod.push(e);return n}function GB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let zR=!1;function gy(n,e){if(typeof window>"u"||typeof document>"u"||!Nf(window.location.host)||Md[n]===e||Md[n]||zR)return;Md[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=$B().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{zR=!0,u()},v}function g(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=GB(r),w=t("text"),E=document.getElementById(w)||document.createElement("span"),A=t("learnmore"),P=document.getElementById(A)||document.createElement("a"),U=t("preprendIcon"),L=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const V=v.element;h(V),g(P,A);const H=d();f(L,U),V.append(L,E,P,H),document.body.appendChild(V)}o?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function wE(){var n;const e=(n=my())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WB(){return typeof window<"u"||GP()}function GP(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function QB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WP(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QP(){return!wE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ef(){try{return typeof indexedDB=="object"}catch{return!1}}function YB(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="FirebaseError";class Jn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=XB,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?JB(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Jn(i,h,r)}}function JB(n,e){return n.replace(ZB,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function e9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ls(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(qR(o)&&qR(u)){if(!Ls(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function qR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function YP(n,e){const t=new t9(n,e);return t.subscribe.bind(t)}class t9{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");n9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=S0),i.error===void 0&&(i.error=S0),i.complete===void 0&&(i.complete=S0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function S0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class Wi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qB;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s9(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i9(n){return n===Ko?void 0:n}function s9(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=[];var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const JP={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},a9=He.INFO,o9={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},l9=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=o9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yy{constructor(e){this.name=e,this._logLevel=a9,this._logHandler=l9,this._userLogHandler=null,SE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}function u9(n){SE.forEach(e=>{e.setLogLevel(n)})}function c9(n,e){for(const t of SE){let r=null;e&&e.level&&(r=JP[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??i.logLevel)&&n({level:He[o].toLowerCase(),message:h,args:u,type:i.name})}}}const h9=(n,e)=>e.some(t=>n instanceof t);let HR,$R;function d9(){return HR||(HR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f9(){return $R||($R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZP=new WeakMap,ab=new WeakMap,eO=new WeakMap,A0=new WeakMap,AE=new WeakMap;function p9(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Va(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ZP.set(t,n)}).catch(()=>{}),AE.set(e,n),e}function m9(n){if(ab.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});ab.set(n,e)}let ob={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ab.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Va(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function g9(n){ob=n(ob)}function y9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(I0(this),e,...t);return eO.set(r,e.sort?e.sort():[e]),Va(r)}:f9().includes(n)?function(...e){return n.apply(I0(this),e),Va(ZP.get(this))}:function(...e){return Va(n.apply(I0(this),e))}}function _9(n){return typeof n=="function"?y9(n):(n instanceof IDBTransaction&&m9(n),h9(n,d9())?new Proxy(n,ob):n)}function Va(n){if(n instanceof IDBRequest)return p9(n);if(A0.has(n))return A0.get(n);const e=_9(n);return e!==n&&(A0.set(n,e),AE.set(e,n)),e}const I0=n=>AE.get(n);function v9(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Va(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Va(u.result),f.oldVersion,f.newVersion,Va(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const b9=["get","getKey","getAll","getAllKeys","count"],E9=["put","add","delete","clear"],R0=new Map;function GR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(R0.get(e))return R0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=E9.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b9.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),i&&f.done]))[0]};return R0.set(e,o),o}g9(n=>({...n,get:(e,t,r)=>GR(e,t)||n.get(e,t,r),has:(e,t)=>!!GR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(T9(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function T9(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bg="@firebase/app",lb="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new yy("@firebase/app"),S9="@firebase/app-compat",A9="@firebase/analytics-compat",I9="@firebase/analytics",R9="@firebase/app-check-compat",C9="@firebase/app-check",x9="@firebase/auth",P9="@firebase/auth-compat",O9="@firebase/database",D9="@firebase/data-connect",N9="@firebase/database-compat",k9="@firebase/functions",M9="@firebase/functions-compat",V9="@firebase/installations",L9="@firebase/installations-compat",U9="@firebase/messaging",B9="@firebase/messaging-compat",F9="@firebase/performance",z9="@firebase/performance-compat",j9="@firebase/remote-config",q9="@firebase/remote-config-compat",H9="@firebase/storage",$9="@firebase/storage-compat",G9="@firebase/firestore",K9="@firebase/vertexai",W9="@firebase/firestore-compat",Q9="firebase",Y9="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]",X9={[bg]:"fire-core",[S9]:"fire-core-compat",[I9]:"fire-analytics",[A9]:"fire-analytics-compat",[C9]:"fire-app-check",[R9]:"fire-app-check-compat",[x9]:"fire-auth",[P9]:"fire-auth-compat",[O9]:"fire-rtdb",[D9]:"fire-data-connect",[N9]:"fire-rtdb-compat",[k9]:"fire-fn",[M9]:"fire-fn-compat",[V9]:"fire-iid",[L9]:"fire-iid-compat",[U9]:"fire-fcm",[B9]:"fire-fcm-compat",[F9]:"fire-perf",[z9]:"fire-perf-compat",[j9]:"fire-rc",[q9]:"fire-rc-compat",[H9]:"fire-gcs",[$9]:"fire-gcs-compat",[G9]:"fire-fst",[W9]:"fire-fst-compat",[K9]:"fire-vertex","fire-js":"fire-js",[Q9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Map,Yu=new Map,Xu=new Map;function tf(n,e){try{n.container.addComponent(e)}catch(t){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function tO(n,e){n.container.addOrOverwriteComponent(e)}function $a(n){const e=n.name;if(Xu.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Xu.set(e,n);for(const t of Ha.values())tf(t,n);for(const t of Yu.values())tf(t,n);return!0}function _y(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function J9(n,e,t=qa){_y(n,e).clearInstance(t)}function nO(n){return n.options!==void 0}function Rt(n){return n==null?!1:n.settings!==void 0}function Z9(){Xu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Sl("app","Firebase",eF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rO=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n,e){const t=bE(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class tF extends rO{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&KR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&KR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ui(bg,lb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){RE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Wr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=Y9;function IE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(t||(t=qP()),!t)throw Wr.create("no-options");const o=Ha.get(i);if(o){if(Ls(t,o.options)&&Ls(r,o.config))return o;throw Wr.create("duplicate-app",{appName:i})}const u=new XP(i);for(const f of Xu.values())u.addComponent(f);const h=new rO(t,r,u);return Ha.set(i,h),h}function nF(n,e){if(WB()&&!GP())throw Wr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;nO(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=d=>[...d].reduce((g,y)=>Math.imul(31,g)+y.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Wr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Yu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new XP(o);for(const d of Xu.values())h.addComponent(d);const f=new tF(t,e,o,h);return Yu.set(o,f),f}function iO(n=qa){const e=Ha.get(n);if(!e&&n===qa&&qP())return IE();if(!e)throw Wr.create("no-app",{appName:n});return e}function rF(){return Array.from(Ha.values())}async function RE(n){let e=!1;const t=n.name;Ha.has(t)?(e=!0,Ha.delete(t)):Yu.has(t)&&n.decRefCount()<=0&&(Yu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ui(n,e,t){var r;let i=(r=X9[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(h.join(" "));return}$a(new Wi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function sO(n,e){if(n!==null&&typeof n!="function")throw Wr.create("invalid-log-argument");c9(n,e)}function aO(n){u9(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="firebase-heartbeat-database",sF=1,nf="firebase-heartbeat-store";let C0=null;function oO(){return C0||(C0=v9(iF,sF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wr.create("idb-open",{originalErrorMessage:n.message})})),C0}async function aF(n){try{const t=(await oO()).transaction(nf),r=await t.objectStore(nf).get(lO(n));return await t.done,r}catch(e){if(e instanceof Jn)Us.warn(e.message);else{const t=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(t.message)}}}async function WR(n,e){try{const r=(await oO()).transaction(nf,"readwrite");await r.objectStore(nf).put(e,lO(n)),await r.done}catch(t){if(t instanceof Jn)Us.warn(t.message);else{const r=Wr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Us.warn(r.message)}}}function lO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=1024,lF=30;class uF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=QR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>lF){const u=dF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=QR(),{heartbeatsToSend:r,unsentEntries:i}=cF(this._heartbeatsCache.heartbeats),o=_g(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Us.warn(t),""}}}function QR(){return new Date().toISOString().substring(0,10)}function cF(n,e=oF){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),YR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),YR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class hF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ef()?YB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return WR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return WR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YR(n){return _g(JSON.stringify({version:2,heartbeats:n})).length}function dF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(n){$a(new Wi("platform-logger",e=>new w9(e),"PRIVATE")),$a(new Wi("heartbeat",e=>new uF(e),"PRIVATE")),ui(bg,lb,n),ui(bg,lb,"esm2017"),ui("fire-js","")}fF("");const pF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Jn,SDK_VERSION:ro,_DEFAULT_ENTRY_NAME:qa,_addComponent:tf,_addOrOverwriteComponent:tO,_apps:Ha,_clearComponents:Z9,_components:Xu,_getProvider:_y,_isFirebaseApp:nO,_isFirebaseServerApp:Rt,_registerComponent:$a,_removeServiceInstance:J9,_serverApps:Yu,deleteApp:RE,getApp:iO,getApps:rF,initializeApp:IE,initializeServerApp:nF,onLog:sO,registerVersion:ui,setLogLevel:aO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,t){this._delegate=e,this.firebase=t,tf(e,new Wi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),RE(this._delegate)))}_getService(e,t=qa){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=qa){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){tf(this._delegate,e)}_addOrOverwriteComponent(e){tO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},XR=new Sl("app-compat","Firebase",gF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:ui,setLogLevel:aO,onLog:sO,apps:null,SDK_VERSION:ro,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:pF}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(d){delete e[d]}function i(d){if(d=d||qa,!jR(e,d))throw XR.create("no-app",{appName:d});return e[d]}i.App=n;function o(d,g={}){const y=IE(d,g);if(jR(e,y.name))return e[y.name];const v=new n(y,t);return e[y.name]=v,v}function u(){return Object.keys(e).map(d=>e[d])}function h(d){const g=d.name,y=g.replace("-compat","");if($a(d)&&d.type==="PUBLIC"){const v=(w=i())=>{if(typeof w[y]!="function")throw XR.create("invalid-app-argument",{appName:g});return w[y]()};d.serviceProps!==void 0&&vg(v,d.serviceProps),t[y]=v,n.prototype[y]=function(...w){return this._getService.bind(this,g).apply(this,d.multipleInstances?w:[])}}return d.type==="PUBLIC"?t[y]:null}function f(d,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(){const n=yF(mF);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:uO,extendNamespace:e,createSubscribe:YP,ErrorFactory:Sl,deepExtend:vg});function e(t){vg(n,t)}return n}const _F=uO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new yy("@firebase/app-compat"),vF="@firebase/app-compat",bF="0.3.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(n){ui(vF,bF,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=EE();if(n.firebase!==void 0){JR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&JR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const xc=_F;EF();var wF="firebase",TF="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xc.registerVersion(wF,TF,"app-compat");function CE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const ud={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Iu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function cO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AF=SF,IF=cO,hO=new Sl("auth","Firebase",cO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=new yy("@firebase/auth");function RF(n,...e){Eg.logLevel<=He.WARN&&Eg.warn(`Auth (${ro}): ${n}`,...e)}function Qm(n,...e){Eg.logLevel<=He.ERROR&&Eg.error(`Auth (${ro}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw PE(n,...e)}function yn(n,...e){return PE(n,...e)}function xE(n,e,t){const r=Object.assign(Object.assign({},IF()),{[e]:t});return new Sl("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return xE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),xE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function PE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hO.create(n,...e)}function ye(n,e,...t){if(!n)throw PE(e,...t)}function zi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qm(e),new Error(e)}function ci(n,e){n||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OE(){return ZR()==="http:"||ZR()==="https:"}function ZR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OE()||KP()||"connection"in navigator)?navigator.onLine:!0}function xF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=KB()||TE()}get(){return CF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e){ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DF=new kf(3e4,6e4);function qt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ht(n,e,t,r,i={}){return fO(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Cc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},o);return QB()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Nf(n.emulatorConfig.host)&&(d.credentials="include"),dO.fetch()(await pO(n,n.config.apiHost,t,h),d)})}async function fO(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},PF),e);try{const i=new kF(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Cd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Cd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Cd(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xE(n,g,d);Rn(n,g)}}catch(i){if(i instanceof Jn)throw i;Rn(n,"network-request-failed",{message:String(i)})}}async function $s(n,e,t,r,i={}){const o=await Ht(n,e,t,r,i);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function pO(n,e,t,r){const i=`${e}${t}?${r}`,o=n,u=o.config.emulator?DE(n.config,i):`${n.config.apiScheme}://${i}`;return OF.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function NF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),DF.get())})}}function Cd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=yn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n){return n!==void 0&&n.getResponse!==void 0}function t1(n){return n!==void 0&&n.enterprise!==void 0}class mO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(n){return(await Ht(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function gO(n,e){return Ht(n,"GET","/v2/recaptchaConfig",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(n,e){return Ht(n,"POST","/v1/accounts:delete",e)}async function LF(n,e){return Ht(n,"POST","/v1/accounts:update",e)}async function wg(n,e){return Ht(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UF(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=vy(r);ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Vd(x0(i.auth_time)),issuedAtTime:Vd(x0(i.iat)),expirationTime:Vd(x0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function x0(n){return Number(n)*1e3}function vy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Qm("JWT malformed, contained fewer than 3 sections"),null;try{const i=bE(t);return i?JSON.parse(i):(Qm("Failed to decode base64 JWT payload"),null)}catch(i){return Qm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function n1(n){const e=vy(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Jn&&BF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function BF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vd(this.lastLoginAt),this.creationTime=Vd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Bs(n,wg(t,{idToken:r}));ye(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?yO(o.providerUserInfo):[],h=jF(n.providerData,u),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?d:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ub(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function zF(n){const e=Ce(n);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yO(n){return n.map(e=>{var{providerId:t}=e,r=CE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(n,e){const t=await fO(n,{},async()=>{const r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=await pO(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",dO.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HF(n,e){return Ht(n,"POST","/v2/accounts:revokeToken",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=n1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await qF(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new ju;return r&&(ye(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ju,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=CE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ub(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bs(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UF(this,e)}reload(){return zF(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await sf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Bs(this,VF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,f,d,g;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,U=(d=t.createdAt)!==null&&d!==void 0?d:void 0,L=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:H,isAnonymous:F,providerData:$,stsTokenManager:M}=t;ye(V&&M,e,"internal-error");const R=ju.fromJSON(this.name,M);ye(typeof V=="string",e,"internal-error"),Aa(y,e.name),Aa(v,e.name),ye(typeof H=="boolean",e,"internal-error"),ye(typeof F=="boolean",e,"internal-error"),Aa(w,e.name),Aa(E,e.name),Aa(A,e.name),Aa(P,e.name),Aa(U,e.name),Aa(L,e.name);const x=new li({uid:V,auth:e,email:v,emailVerified:H,displayName:y,isAnonymous:F,photoURL:E,phoneNumber:w,tenantId:A,stsTokenManager:R,createdAt:U,lastLoginAt:L});return $&&Array.isArray($)&&(x.providerData=$.map(T=>Object.assign({},T))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,t,r=!1){const i=new ju;i.updateFromServerResponse(t);const o=new li({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?yO(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new ju;h.updateFromIdToken(r);const f=new li({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ub(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new Map;function Rr(n){ci(n instanceof Function,"Expected a class definition");let e=r1.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,r1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_O.type="NONE";const Ju=_O;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n,e,t){return`firebase:${n}:${e}:${t}`}class qu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ll(this.userKey,i.apiKey,o),this.fullPersistenceKey=ll("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await wg(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new qu(Rr(Ju),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Rr(Ju);const u=ll(r,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let y;if(typeof g=="string"){const v=await wg(e,{idToken:g}).catch(()=>{});if(!v)break;y=await li._fromGetAccountInfoResponse(e,v,g)}else y=li._fromJSON(e,g);d!==o&&(h=y),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new qu(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new qu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TO(e))return"Blackberry";if(SO(e))return"Webos";if(bO(e))return"Safari";if((e.includes("chrome/")||EO(e))&&!e.includes("edge/"))return"Chrome";if(Mf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vO(n=Vt()){return/firefox\//i.test(n)}function bO(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EO(n=Vt()){return/crios\//i.test(n)}function wO(n=Vt()){return/iemobile/i.test(n)}function Mf(n=Vt()){return/android/i.test(n)}function TO(n=Vt()){return/blackberry/i.test(n)}function SO(n=Vt()){return/webos/i.test(n)}function Vf(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $F(n=Vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function GF(n=Vt()){var e;return Vf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KF(){return WP()&&document.documentMode===10}function AO(n=Vt()){return Vf(n)||Mf(n)||SO(n)||TO(n)||/windows phone/i.test(n)||wO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n,e=[]){let t;switch(n){case"Browser":t=i1(Vt());break;case"Worker":t=`${i1(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(n,e={}){return Ht(n,"GET","/v2/passwordPolicy",qt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=6;class XF{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:YF,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s1(this),this.idTokenSubscription=new s1(this),this.beforeStateQueue=new WF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await qu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wg(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rt(this.app))return Promise.reject(In(this));const t=e?Ce(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rt(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QF(this),t=new XF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await HF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rr(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await qu.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Lt(n){return Ce(n)}class s1{constructor(e){this.auth=e,this.observer=null,this.addObserver=YP(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZF(n){Lf=n}function NE(n){return Lf.loadJS(n)}function ez(){return Lf.recaptchaV2Script}function tz(){return Lf.recaptchaEnterpriseScript}function nz(){return Lf.gapiScript}function RO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=500,iz=6e4,xm=1e12;class sz{constructor(e){this.auth=e,this.counter=xm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new lz(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||xm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||xm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||xm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class az{constructor(){this.enterprise=new oz}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oz{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lz{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ye(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=uz(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},iz)},rz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function uz(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const cz="recaptcha-enterprise",Ld="NO_RECAPTCHA";class CO{constructor(e){this.type=cz,this.auth=Lt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{gO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new mO(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function i(o,u,h){const f=window.grecaptcha;t1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(Ld)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new az().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&t1(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=tz();f.length!==0&&(f+=h),NE(f).then(()=>{i(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function cd(n,e,t,r=!1,i=!1){const o=new CO(n);let u;if(i)u=Ld;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function La(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await cd(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await cd(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await cd(n,e,t);return r(n,h).catch(async f=>{var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await cd(n,e,t,!1,!0);return r(n,g)}return Promise.reject(f)})}else{const h=await cd(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function hz(n){const e=Lt(n),t=await gO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new mO(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new CO(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(n,e){const t=_y(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ls(o,e??{}))return i;Rn(i,"already-initialized")}return t.initialize({options:e})}function fz(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Rr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xO(n,e,t){const r=Lt(n);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=PO(e),{host:u,port:h}=pz(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(Ls(d,r.config.emulator)&&Ls(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Nf(u)?(gy("Auth",!0),$P(`${o}//${u}${f}`)):i||mz()}function PO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pz(n){const e=PO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:a1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:a1(u)}}}function a1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mz(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,t){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(n,e){return Ht(n,"POST","/v1/accounts:resetPassword",qt(n,e))}async function gz(n,e){return Ht(n,"POST","/v1/accounts:update",e)}async function yz(n,e){return Ht(n,"POST","/v1/accounts:signUp",e)}async function _z(n,e){return Ht(n,"POST","/v1/accounts:update",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(n,e){return $s(n,"POST","/v1/accounts:signInWithPassword",qt(n,e))}async function by(n,e){return Ht(n,"POST","/v1/accounts:sendOobCode",qt(n,e))}async function bz(n,e){return by(n,e)}async function Ez(n,e){return by(n,e)}async function wz(n,e){return by(n,e)}async function Tz(n,e){return by(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(n,e){return $s(n,"POST","/v1/accounts:signInWithEmailLink",qt(n,e))}async function Az(n,e){return $s(n,"POST","/v1/accounts:signInWithEmailLink",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends Oc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new af(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new af(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return La(e,t,"signInWithPassword",vz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Sz(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return La(e,r,"signUpPassword",yz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Az(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(n,e){return $s(n,"POST","/v1/accounts:signInWithIdp",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="http://localhost";class Qi extends Oc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=CE(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Qi(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ks(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ks(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}buildRequest(){const e={requestUri:Iz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(n,e){return Ht(n,"POST","/v1/accounts:sendVerificationCode",qt(n,e))}async function Rz(n,e){return $s(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,e))}async function Cz(n,e){const t=await $s(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,e));if(t.temporaryProof)throw Cd(n,"account-exists-with-different-credential",t);return t}const xz={USER_NOT_FOUND:"user-not-found"};async function Pz(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return $s(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,t),xz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Oc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ul({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ul({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Rz(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Cz(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Pz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new ul({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dz(n){const e=Bu(Rd(n)).link,t=e?Bu(Rd(e)).deep_link_id:null,r=Bu(Rd(n)).deep_link_id;return(r?Bu(Rd(r)).link:null)||r||t||e||n}class Ey{constructor(e){var t,r,i,o,u,h;const f=Bu(Rd(e)),d=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,y=Oz((i=f.mode)!==null&&i!==void 0?i:null);ye(d&&g&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=Dz(e);try{return new Ey(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,t){return af._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ey.parseLink(t);return ye(r,"argument-error"),af._fromEmailAndCode(e,r.code,r.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hu extends Dc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ye("providerId"in t&&"signInMethod"in t,"argument-error"),Qi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ye(e.idToken||e.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Hu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Hu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new Hu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Dc{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Dc{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="http://localhost";class Zu extends Oc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ks(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ks(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Zu(r,o)}static _create(e,t){return new Zu(e,t)}buildRequest(){return{requestUri:Nz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="saml.";class Tg extends Gs{constructor(e){ye(e.startsWith(kz),"argument-error"),super(e)}static credentialFromResult(e){return Tg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Tg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Zu.fromJSON(e);return ye(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Zu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Dc{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n,e){return $s(n,"POST","/v1/accounts:signUp",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await li._fromIdTokenResponse(e,r,i),u=l1(r);return new Qr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=l1(r);return new Qr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function l1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(n){var e;if(Rt(n.app))return Promise.reject(In(n));const t=Lt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Qr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await DO(t,{returnSecureToken:!0}),i=await Qr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends Jn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Sg(e,t,r,i)}}function NO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(n,e){const t=Ce(n);await wy(!0,t,e);const{providerUserInfo:r}=await LF(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=kO(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function kE(n,e,t=!1){const r=await Bs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qr._forOperation(n,"link",r)}async function wy(n,e,t){await sf(e);const r=kO(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";ye(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n,e,t=!1){const{auth:r}=n;if(Rt(r.app))return Promise.reject(In(r));const i="reauthenticate";try{const o=await Bs(n,NO(r,i,e,n),t);ye(o.idToken,r,"internal-error");const u=vy(o.idToken);ye(u,r,"internal-error");const{sub:h}=u;return ye(n.uid===h,r,"user-mismatch"),Qr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,e,t=!1){if(Rt(n.app))return Promise.reject(In(n));const r="signIn",i=await NO(n,r,e),o=await Qr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Ty(n,e){return VO(Lt(n),e)}async function LO(n,e){const t=Ce(n);return await wy(!1,t,e.providerId),kE(t,e)}async function UO(n,e){return MO(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(n,e){return $s(n,"POST","/v1/accounts:signInWithCustomToken",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(n,e){if(Rt(n.app))return Promise.reject(In(n));const t=Lt(n),r=await Lz(t,{token:e,returnSecureToken:!0}),i=await Qr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ME._fromServerResponse(e,t):"totpInfo"in t?VE._fromServerResponse(e,t):Rn(e,"internal-error")}}class ME extends Uf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ME(t)}}class VE extends Uf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new VE(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n,e,t){var r;ye(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ye(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ye(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ye(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ye(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(n){const e=Lt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bz(n,e,t){const r=Lt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Sy(r,i,t),await La(r,i,"getOobCode",Ez,"EMAIL_PASSWORD_PROVIDER")}async function Fz(n,e,t){await OO(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LE(n),r})}async function zz(n,e){await _z(Ce(n),{oobCode:e})}async function BO(n,e){const t=Ce(n),r=await OO(t,{oobCode:e}),i=r.requestType;switch(ye(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(r.mfaInfo,t,"internal-error");default:ye(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Uf._fromServerResponse(Lt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function jz(n,e){const{data:t}=await BO(Ce(n),e);return t.email}async function FO(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n),u=await La(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DO,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&LE(n),f}),h=await Qr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function zO(n,e,t){return Rt(n.app)?Promise.reject(In(n)):Ty(Ce(n),io.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(n,e,t){const r=Lt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ye(h.handleCodeInApp,r,"argument-error"),h&&Sy(r,u,h)}o(i,t),await La(r,i,"getOobCode",wz,"EMAIL_PASSWORD_PROVIDER")}function Hz(n,e){const t=Ey.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function $z(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Ce(n),i=io.credentialWithLink(e,t||rf());return ye(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ty(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(n,e){return Ht(n,"POST","/v1/accounts:createAuthUri",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(n,e){const t=OE()?rf():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await Gz(Ce(n),r);return i||[]}async function Wz(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Sy(t.auth,i,e);const{email:o}=await bz(t.auth,i);o!==n.email&&await n.reload()}async function Qz(n,e,t){const r=Ce(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Sy(r.auth,o,t);const{email:u}=await Tz(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(n,e){return Ht(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Bs(r,Yz(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function Jz(n,e){const t=Ce(n);return Rt(t.auth.app)?Promise.reject(In(t.auth)):jO(t,e,null)}function Zz(n,e){return jO(Ce(n),null,e)}async function jO(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Bs(n,gz(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=vy(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new $u(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new tj(o,i);case"github.com":return new nj(o,i);case"google.com":return new rj(o,i);case"twitter.com":return new ij(o,i,n.screenName||null);case"custom":case"anonymous":return new $u(o,null);default:return new $u(o,r,i)}}class $u{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class qO extends $u{constructor(e,t,r,i){super(e,t,r),this.username=i}}class tj extends $u{constructor(e,t){super(e,"facebook.com",t)}}class nj extends qO{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class rj extends $u{constructor(e,t){super(e,"google.com",t)}}class ij extends qO{constructor(e,t,r){super(e,"twitter.com",t,r)}}function sj(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:ej(t)}function aj(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function oj(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new nl("enroll",e,t)}static _fromMfaPendingCredential(e){return new nl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return nl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return nl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Lt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>Uf._fromServerResponse(r,h));ye(i.mfaPendingCredential,r,"internal-error");const u=nl._fromMfaPendingCredential(i.mfaPendingCredential);return new UE(u,o,async h=>{const f=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const g=await Qr._fromIdTokenResponse(r,t.operationType,d);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ye(t.user,r,"internal-error"),Qr._forOperation(t.user,t.operationType,d);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function lj(n,e){var t;const r=Ce(n),i=e;return ye(e.customData.operationType,r,"argument-error"),ye((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),UE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:start",qt(n,e))}function uj(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:finalize",qt(n,e))}function cj(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(n,e))}class BE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Uf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new BE(e)}async getSession(){return nl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Bs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Bs(this.user,cj(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const P0=new WeakMap;function hj(n){const e=Ce(n);return P0.has(e)||P0.set(e,BE._fromUser(e)),P0.get(e)}const Ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ag,"1"),this.storage.removeItem(Ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=1e3,fj=10;class $O extends HO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);KF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fj):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$O.type="LOCAL";const Ay=$O;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO extends HO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GO.type="SESSION";const Ga=GO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Iy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await pj(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=Bf("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(y){const v=y;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function gj(n){ln().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function yj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _j(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vj(){return FE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="firebaseLocalStorageDb",bj=1,Ig="firebaseLocalStorage",WO="fbase_key";class Ff{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ry(n,e){return n.transaction([Ig],e?"readwrite":"readonly").objectStore(Ig)}function Ej(){const n=indexedDB.deleteDatabase(KO);return new Ff(n).toPromise()}function cb(){const n=indexedDB.open(KO,bj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ig,{keyPath:WO})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ig)?e(r):(r.close(),await Ej(),e(await cb()))})})}async function c1(n,e,t){const r=Ry(n,!0).put({[WO]:e,value:t});return new Ff(r).toPromise()}async function wj(n,e){const t=Ry(n,!1).get(e),r=await new Ff(t).toPromise();return r===void 0?null:r.value}function h1(n,e){const t=Ry(n,!0).delete(e);return new Ff(t).toPromise()}const Tj=800,Sj=3;class QO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Sj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iy._getInstance(vj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yj(),!this.activeServiceWorker)return;this.sender=new mj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_j()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cb();return await c1(e,Ag,"1"),await h1(e,Ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>c1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>wj(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>h1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ry(i,!1).getAll();return new Ff(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QO.type="LOCAL";const ec=QO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n,e){return Ht(n,"POST","/v2/accounts/mfaSignIn:start",qt(n,e))}function Aj(n,e){return Ht(n,"POST","/v2/accounts/mfaSignIn:finalize",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=RO("rcb"),Ij=new kf(3e4,6e4);class Rj{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ln().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ye(Cj(t),e,"argument-error"),this.shouldResolveImmediately(t)&&e1(ln().grecaptcha)?Promise.resolve(ln().grecaptcha):new Promise((r,i)=>{const o=ln().setTimeout(()=>{i(yn(e,"network-request-failed"))},Ij.get());ln()[O0]=()=>{ln().clearTimeout(o),delete ln()[O0];const h=ln().grecaptcha;if(!h||!e1(h)){i(yn(e,"internal-error"));return}const f=h.render;h.render=(d,g)=>{const y=f(d,g);return this.counter++,y},this.hostLanguage=t,r(h)};const u=`${ez()}?${Cc({onload:O0,render:"explicit",hl:t})}`;NE(u).catch(()=>{clearTimeout(o),i(yn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=ln().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Cj(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class xj{async load(e){return new sz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="recaptcha",Pj={theme:"light",type:"image"};let Oj=class{constructor(e,t,r=Object.assign({},Pj)){this.parameters=r,this.type=Ud,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(e),this.isInvisible=this.parameters.size==="invisible",ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;ye(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xj:new Rj,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=ln()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ye(OE()&&!FE(),this.auth,"internal-error"),await Dj(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await MF(this.auth);ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Dj(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ul._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Nj(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n),i=await Cy(r,e,Ce(t));return new zE(i,o=>Ty(r,o))}async function kj(n,e,t){const r=Ce(n);await wy(!1,r,"phone");const i=await Cy(r.auth,e,Ce(t));return new zE(i,o=>LO(r,o))}async function Mj(n,e,t){const r=Ce(n);if(Rt(r.auth.app))return Promise.reject(In(r.auth));const i=await Cy(r.auth,e,Ce(t));return new zE(i,o=>UO(r,o))}async function Cy(n,e,t){var r;if(!n._getRecaptchaConfig())try{await hz(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){ye(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await La(n,u,"mfaSmsEnrollment",async(g,y)=>{if(y.phoneEnrollmentInfo.captchaResponse===Ld){ye((t==null?void 0:t.type)===Ud,g,"argument-error");const v=await D0(g,y,t);return u1(g,v)}return u1(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ye(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;ye(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await La(n,h,"mfaSmsSignIn",async(y,v)=>{if(v.phoneSignInInfo.captchaResponse===Ld){ye((t==null?void 0:t.type)===Ud,y,"argument-error");const w=await D0(y,v,t);return d1(y,w)}return d1(y,v)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await La(n,o,"sendVerificationCode",async(d,g)=>{if(g.captchaResponse===Ld){ye((t==null?void 0:t.type)===Ud,d,"argument-error");const y=await D0(d,g,t);return o1(d,y)}return o1(d,g)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t==null||t._reset()}}async function Vj(n,e){const t=Ce(n);if(Rt(t.auth.app))return Promise.reject(In(t.auth));await kE(t,e)}async function D0(n,e,t){ye(t.type===Ud,n,"argument-error");const r=await t.verify();ye(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl=class Ym{constructor(e){this.providerId=Ym.PROVIDER_ID,this.auth=Lt(e)}verifyPhoneNumber(e,t){return Cy(this.auth,e,Ce(t))}static credential(e,t){return ul._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ym.credentialFromTaggedObject(t)}static credentialFromError(e){return Ym.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?ul._fromTokenResponse(t,r):null}};fl.PROVIDER_ID="phone";fl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n,e){return e?Rr(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Oc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Lj(n){return VO(n.auth,new jE(n),n.bypassAuthState)}function Uj(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),MO(t,new jE(n),n.bypassAuthState)}async function Bj(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),kE(t,new jE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lj;case"linkViaPopup":case"linkViaRedirect":return Bj;case"reauthViaPopup":case"reauthViaRedirect":return Uj;default:Rn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new kf(2e3,1e4);async function zj(n,e,t){if(Rt(n.app))return Promise.reject(yn(n,"operation-not-supported-in-this-environment"));const r=Lt(n);Pc(n,e,Gs);const i=Al(r,t);return new Ps(r,"signInViaPopup",e,i).executeNotNull()}async function jj(n,e,t){const r=Ce(n);if(Rt(r.auth.app))return Promise.reject(yn(r.auth,"operation-not-supported-in-this-environment"));Pc(r.auth,e,Gs);const i=Al(r.auth,t);return new Ps(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function qj(n,e,t){const r=Ce(n);Pc(r.auth,e,Gs);const i=Al(r.auth,t);return new Ps(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ps extends YO{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Bf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fj.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="pendingRedirect",Bd=new Map;class $j extends YO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const r=await Gj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gj(n,e){const t=JO(e),r=XO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function qE(n,e){return XO(n)._set(JO(e),"true")}function Kj(){Bd.clear()}function HE(n,e){Bd.set(n._key(),e)}function XO(n){return Rr(n._redirectPersistence)}function JO(n){return ll(Hj,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(n,e,t){return Qj(n,e,t)}async function Qj(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n);Pc(n,e,Gs),await r._initializationPromise;const i=Al(r,t);return await qE(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Yj(n,e,t){return Xj(n,e,t)}async function Xj(n,e,t){const r=Ce(n);if(Pc(r.auth,e,Gs),Rt(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const i=Al(r.auth,t);await qE(i,r.auth);const o=await ZO(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Jj(n,e,t){return Zj(n,e,t)}async function Zj(n,e,t){const r=Ce(n);Pc(r.auth,e,Gs),await r.auth._initializationPromise;const i=Al(r.auth,t);await wy(!1,r,e.providerId),await qE(i,r.auth);const o=await ZO(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function e8(n,e){return await Lt(n)._initializationPromise,xy(n,e,!1)}async function xy(n,e,t=!1){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n),i=Al(r,e),u=await new $j(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function ZO(n){const e=Bf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=10*60*1e3;class eD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t8&&this.cachedEventUids.clear(),this.cachedEventUids.has(f1(e))}saveEventToCache(e){this.cachedEventUids.add(f1(e)),this.lastProcessedEventTime=Date.now()}}function f1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tD({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(n,e={}){return Ht(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i8=/^https?/;async function s8(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nD(n);for(const t of e)try{if(a8(t))return}catch{}Rn(n,"unauthorized-domain")}function a8(n){const e=rf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!i8.test(t))return!1;if(r8.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=new kf(3e4,6e4);function p1(){const n=ln().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function l8(n){return new Promise((e,t)=>{var r,i,o;function u(){p1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p1(),t(yn(n,"network-request-failed"))},timeout:o8.get()})}if(!((i=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ln().gapi)===null||o===void 0)&&o.load)u();else{const h=RO("iframefcb");return ln()[h]=()=>{gapi.load?u():t(yn(n,"network-request-failed"))},NE(`${nz()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Xm=null,e})}let Xm=null;function u8(n){return Xm=Xm||l8(n),Xm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new kf(5e3,15e3),h8="__/auth/iframe",d8="emulator/auth/iframe",f8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m8(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?DE(e,d8):`https://${n.config.authDomain}/${h8}`,r={apiKey:e.apiKey,appName:n.name,v:ro},i=p8.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Cc(r).slice(1)}`}async function g8(n){const e=await u8(n),t=ln().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:m8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=yn(n,"network-request-failed"),h=ln().setTimeout(()=>{o(u)},c8.get());function f(){ln().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_8=500,v8=600,b8="_blank",E8="http://localhost";class m1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w8(n,e,t,r=_8,i=v8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},y8),{width:r.toString(),height:i.toString(),top:o,left:u}),d=Vt().toLowerCase();t&&(h=EO(d)?b8:t),vO(d)&&(e=e||E8,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[w,E])=>`${v}${w}=${E},`,"");if(GF(d)&&h!=="_self")return T8(e||"",h),new m1(null);const y=window.open(e||"",h,g);ye(y,n,"popup-blocked");try{y.focus()}catch{}return new m1(y)}function T8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="__/auth/handler",A8="emulator/auth/handler",I8=encodeURIComponent("fac");async function hb(n,e,t,r,i,o){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ro,eventId:i};if(e instanceof Gs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",e9(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries(o||{}))u[g]=y}if(e instanceof Dc){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${I8}=${encodeURIComponent(f)}`:"";return`${R8(n)}?${Cc(h).slice(1)}${d}`}function R8({config:n}){return n.emulator?DE(n,A8):`https://${n.authDomain}/${S8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="webStorageSupport";class C8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ga,this._completeRedirectFn=xy,this._overrideRedirectResult=HE}async _openPopup(e,t,r,i){var o;ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await hb(e,t,r,rf(),i);return w8(e,u,Bf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await hb(e,t,r,rf(),i);return gj(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ci(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await g8(e),r=new eD(e);return t.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(N0,{type:N0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[N0];u!==void 0&&t(!!u),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=s8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AO()||bO()||Vf()}}const rD=C8;class x8{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return zi("unexpected MultiFactorSessionType")}}}class $E extends x8{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new $E(e)}_finalizeEnroll(e,t,r){return uj(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Aj(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class iD{constructor(){}static assertion(e){return $E._fromCredential(e)}}iD.FACTOR_ID="phone";var g1="@firebase/auth",y1="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D8(n){$a(new Wi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ye(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IO(n)},d=new JF(r,i,o,f);return fz(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$a(new Wi("auth-internal",e=>{const t=Lt(e.getProvider("auth").getImmediate());return(r=>new P8(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(g1,y1,O8(n)),ui(g1,y1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=5*60,k8=HP("authIdTokenMaxAge")||N8;let _1=null;const M8=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>k8)return;const i=t==null?void 0:t.token;_1!==i&&(_1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function V8(n=iO()){const e=_y(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dz(n,{popupRedirectResolver:rD,persistence:[ec,Ay,Ga]}),r=HP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=M8(o.toString());oj(t,u,()=>u(t.currentUser)),aj(t,h=>u(h))}}const i=jB("auth");return i?xO(t,`http://${i}`):gy("Auth",!1),t}function L8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=yn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",L8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D8("Browser");var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ua,sD;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function x(){}x.prototype=R.prototype,M.D=R.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(T,O,C){for(var D=Array(arguments.length-2),se=2;se<arguments.length;se++)D[se-2]=arguments[se];return R.prototype[O].apply(T,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,R,x){x||(x=0);var T=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)T[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;16>O;++O)T[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=M.g[0],x=M.g[1],O=M.g[2];var C=M.g[3],D=R+(C^x&(O^C))+T[0]+3614090360&4294967295;R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+T[1]+3905402710&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+T[2]+606105819&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+T[3]+3250441966&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(C^x&(O^C))+T[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+T[5]+1200080426&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+T[6]+2821735955&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+T[7]+4249261313&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(C^x&(O^C))+T[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+T[9]+2336552879&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+T[10]+4294925233&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+T[11]+2304563134&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(C^x&(O^C))+T[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+T[13]+4254626195&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+T[14]+2792965006&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+T[15]+1236535329&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(O^C&(x^O))+T[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+T[6]+3225465664&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+T[11]+643717713&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+T[0]+3921069994&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(x^O))+T[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+T[10]+38016083&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+T[15]+3634488961&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+T[4]+3889429448&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(x^O))+T[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+T[14]+3275163606&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+T[3]+4107603335&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+T[8]+1163531501&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(x^O))+T[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+T[2]+4243563512&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+T[7]+1735328473&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+T[12]+2368359562&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(x^O^C)+T[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+T[8]+2272392833&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+T[11]+1839030562&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+T[14]+4259657740&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(x^O^C)+T[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+T[4]+1272893353&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+T[7]+4139469664&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+T[10]+3200236656&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(x^O^C)+T[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+T[0]+3936430074&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+T[3]+3572445317&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+T[6]+76029189&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(x^O^C)+T[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+T[12]+3873151461&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+T[15]+530742520&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+T[2]+3299628645&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(O^(x|~C))+T[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+T[7]+1126891415&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+T[14]+2878612391&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+T[5]+4237533241&4294967295,x=O+(D<<21&4294967295|D>>>11),D=R+(O^(x|~C))+T[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+T[3]+2399980690&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+T[10]+4293915773&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+T[1]+2240044497&4294967295,x=O+(D<<21&4294967295|D>>>11),D=R+(O^(x|~C))+T[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+T[15]+4264355552&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+T[6]+2734768916&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+T[13]+1309151649&4294967295,x=O+(D<<21&4294967295|D>>>11),D=R+(O^(x|~C))+T[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+T[11]+3174756917&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+T[2]+718787259&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+T[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+C&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var x=R-this.blockSize,T=this.B,O=this.h,C=0;C<R;){if(O==0)for(;C<=x;)i(this,M,C),C+=this.blockSize;if(typeof M=="string"){for(;C<R;)if(T[O++]=M.charCodeAt(C++),O==this.blockSize){i(this,T),O=0;break}}else for(;C<R;)if(T[O++]=M[C++],O==this.blockSize){i(this,T),O=0;break}}this.h=O,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var x=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=x&255,x/=256;for(this.u(M),M=Array(16),R=x=0;4>R;++R)for(var T=0;32>T;T+=8)M[x++]=this.g[R]>>>T&255;return M};function o(M,R){var x=h;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=R(M)}function u(M,R){this.h=R;for(var x=[],T=!0,O=M.length-1;0<=O;O--){var C=M[O]|0;T&&C==R||(x[O]=C,T=!1)}this.g=x}var h={};function f(M){return-128<=M&&128>M?o(M,function(R){return new u([R|0],0>R?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return P(d(-M));for(var R=[],x=1,T=0;M>=x;T++)R[T]=M/x|0,x*=4294967296;return new u(R,0)}function g(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return P(g(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(R,8)),T=y,O=0;O<M.length;O+=8){var C=Math.min(8,M.length-O),D=parseInt(M.substring(O,O+C),R);8>C?(C=d(Math.pow(R,C)),T=T.j(C).add(d(D))):(T=T.j(x),T=T.add(d(D)))}return T}var y=f(0),v=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-P(this).m();for(var M=0,R=1,x=0;x<this.g.length;x++){var T=this.i(x);M+=(0<=T?T:4294967296+T)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(E(this))return"0";if(A(this))return"-"+P(this).toString(M);for(var R=d(Math.pow(M,6)),x=this,T="";;){var O=H(x,R).g;x=U(x,O.j(R));var C=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=O,E(x))return C+T;for(;6>C.length;)C="0"+C;T=C+T}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function E(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=U(this,M),A(M)?-1:E(M)?0:1};function P(M){for(var R=M.g.length,x=[],T=0;T<R;T++)x[T]=~M.g[T];return new u(x,~M.h).add(v)}n.abs=function(){return A(this)?P(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],T=0,O=0;O<=R;O++){var C=T+(this.i(O)&65535)+(M.i(O)&65535),D=(C>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);T=D>>>16,C&=65535,D&=65535,x[O]=D<<16|C}return new u(x,x[x.length-1]&-2147483648?-1:0)};function U(M,R){return M.add(P(R))}n.j=function(M){if(E(this)||E(M))return y;if(A(this))return A(M)?P(this).j(P(M)):P(P(this).j(M));if(A(M))return P(this.j(P(M)));if(0>this.l(w)&&0>M.l(w))return d(this.m()*M.m());for(var R=this.g.length+M.g.length,x=[],T=0;T<2*R;T++)x[T]=0;for(T=0;T<this.g.length;T++)for(var O=0;O<M.g.length;O++){var C=this.i(T)>>>16,D=this.i(T)&65535,se=M.i(O)>>>16,B=M.i(O)&65535;x[2*T+2*O]+=D*B,L(x,2*T+2*O),x[2*T+2*O+1]+=C*B,L(x,2*T+2*O+1),x[2*T+2*O+1]+=D*se,L(x,2*T+2*O+1),x[2*T+2*O+2]+=C*se,L(x,2*T+2*O+2)}for(T=0;T<R;T++)x[T]=x[2*T+1]<<16|x[2*T];for(T=R;T<2*R;T++)x[T]=0;return new u(x,0)};function L(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function V(M,R){this.g=M,this.h=R}function H(M,R){if(E(R))throw Error("division by zero");if(E(M))return new V(y,y);if(A(M))return R=H(P(M),R),new V(P(R.g),P(R.h));if(A(R))return R=H(M,P(R)),new V(P(R.g),R.h);if(30<M.g.length){if(A(M)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var x=v,T=R;0>=T.l(M);)x=F(x),T=F(T);var O=$(x,1),C=$(T,1);for(T=$(T,2),x=$(x,2);!E(T);){var D=C.add(T);0>=D.l(M)&&(O=O.add(x),C=D),T=$(T,1),x=$(x,1)}return R=U(M,O.j(R)),new V(O,R)}for(O=y;0<=M.l(R);){for(x=Math.max(1,Math.floor(M.m()/R.m())),T=Math.ceil(Math.log(x)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),C=d(x),D=C.j(R);A(D)||0<D.l(M);)x-=T,C=d(x),D=C.j(R);E(C)&&(C=v),O=O.add(C),M=U(M,D)}return new V(O,M)}n.A=function(M){return H(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],T=0;T<R;T++)x[T]=this.i(T)&M.i(T);return new u(x,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],T=0;T<R;T++)x[T]=this.i(T)|M.i(T);return new u(x,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],T=0;T<R;T++)x[T]=this.i(T)^M.i(T);return new u(x,this.h^M.h)};function F(M){for(var R=M.g.length+1,x=[],T=0;T<R;T++)x[T]=M.i(T)<<1|M.i(T-1)>>>31;return new u(x,M.h)}function $(M,R){var x=R>>5;R%=32;for(var T=M.g.length-x,O=[],C=0;C<T;C++)O[C]=0<R?M.i(C+x)>>>R|M.i(C+x+1)<<32-R:M.i(C+x);return new u(O,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sD=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Ua=u}).apply(typeof v1<"u"?v1:typeof self<"u"?self:typeof window<"u"?window:{});var Pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aD,xd,oD,Jm,db,lD,uD,cD;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,b,S){return p==Array.prototype||p==Object.prototype||(p[b]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pm=="object"&&Pm];for(var b=0;b<p.length;++b){var S=p[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,b){if(b)e:{var S=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var Y=p[k];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],k=S[p],b=b(k),b!=k&&b!=null&&e(S,p,{configurable:!0,writable:!0,value:b})}}function o(p,b){p instanceof String&&(p+="");var S=0,k=!1,Y={next:function(){if(!k&&S<p.length){var ae=S++;return{value:b(ae,p[ae]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(b,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var b=typeof p;return b=b!="object"?b:p?Array.isArray(p)?"array":b:"null",b=="array"||b=="object"&&typeof p.length=="number"}function d(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function g(p,b,S){return p.call.apply(p.bind,arguments)}function y(p,b,S){if(!p)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),p.apply(b,Y)}}return function(){return p.apply(b,arguments)}}function v(p,b,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,v.apply(null,arguments)}function w(p,b){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function E(p,b){function S(){}S.prototype=b.prototype,p.aa=b.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(k,Y,ae){for(var _e=Array(arguments.length-2),We=2;We<arguments.length;We++)_e[We-2]=arguments[We];return b.prototype[Y].apply(k,_e)}}function A(p){const b=p.length;if(0<b){const S=Array(b);for(let k=0;k<b;k++)S[k]=p[k];return S}return[]}function P(p,b){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const Y=p.length||0,ae=k.length||0;p.length=Y+ae;for(let _e=0;_e<ae;_e++)p[Y+_e]=k[_e]}else p.push(k)}}class U{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function L(p){return/^[\s\xa0]*$/.test(p)}function V(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var F=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function $(p,b,S){for(const k in p)b.call(S,p[k],k,p)}function M(p,b){for(const S in p)b.call(void 0,p[S],S,p)}function R(p){const b={};for(const S in p)b[S]=p[S];return b}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(p,b){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)p[S]=k[S];for(let ae=0;ae<x.length;ae++)S=x[ae],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function O(p){var b=1;p=p.split(":");const S=[];for(;0<b&&p.length;)S.push(p.shift()),b--;return p.length&&S.push(p.join(":")),S}function C(p){h.setTimeout(()=>{throw p},0)}function D(){var p=Ee;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class se{constructor(){this.h=this.g=null}add(b,S){const k=B.get();k.set(b,S),this.h?this.h.next=k:this.g=k,this.h=k}}var B=new U(()=>new G,p=>p.reset());class G{constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let J,le=!1,Ee=new se,j=()=>{const p=h.Promise.resolve(void 0);J=()=>{p.then(re)}};var re=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){C(S)}var b=B;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}le=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,b),h.removeEventListener("test",S,b)}catch{}return p}();function ke(p,b){if(me.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(F){e:{try{H(b.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(b=null)}}else S=="mouseover"?b=p.fromElement:S=="mouseout"&&(b=p.toElement);this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}E(ke,me);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),rt=0;function Or(p,b,S,k,Y){this.listener=p,this.proxy=null,this.src=b,this.type=S,this.capture=!!k,this.ha=Y,this.key=++rt,this.da=this.fa=!1}function di(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Dr(p){this.src=p,this.g={},this.h=0}Dr.prototype.add=function(p,b,S,k,Y){var ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);var _e=Ln(p,b,k,Y);return-1<_e?(b=p[_e],S||(b.fa=!1)):(b=new Or(b,this.src,ae,!!k,Y),b.fa=S,p.push(b)),b};function fr(p,b){var S=b.type;if(S in p.g){var k=p.g[S],Y=Array.prototype.indexOf.call(k,b,void 0),ae;(ae=0<=Y)&&Array.prototype.splice.call(k,Y,1),ae&&(di(b),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Ln(p,b,S,k){for(var Y=0;Y<p.length;++Y){var ae=p[Y];if(!ae.da&&ae.listener==b&&ae.capture==!!S&&ae.ha==k)return Y}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),co={};function Pl(p,b,S,k,Y){if(Array.isArray(b)){for(var ae=0;ae<b.length;ae++)Pl(p,b[ae],S,k,Y);return null}return S=Jr(S),p&&p[$t]?p.K(b,S,d(k)?!!k.capture:!1,Y):tr(p,b,S,!1,k,Y)}function tr(p,b,S,k,Y,ae){if(!b)throw Error("Invalid event type");var _e=d(Y)?!!Y.capture:!!Y,We=wt(p);if(We||(p[Xr]=We=new Dr(p)),S=We.add(b,S,k,_e,ae),S.proxy)return S;if(k=jc(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)Te||(Y=_e),Y===void 0&&(Y=!1),p.addEventListener(b.toString(),k,Y);else if(p.attachEvent)p.attachEvent(Fe(b.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function jc(){function p(S){return b.call(p.src,p.listener,S)}const b=_t;return p}function ho(p,b,S,k,Y){if(Array.isArray(b))for(var ae=0;ae<b.length;ae++)ho(p,b[ae],S,k,Y);else k=d(k)?!!k.capture:!!k,S=Jr(S),p&&p[$t]?(p=p.i,b=String(b).toString(),b in p.g&&(ae=p.g[b],S=Ln(ae,S,k,Y),-1<S&&(di(ae[S]),Array.prototype.splice.call(ae,S,1),ae.length==0&&(delete p.g[b],p.h--)))):p&&(p=wt(p))&&(b=p.g[b.toString()],p=-1,b&&(p=Ln(b,S,k,Y)),(S=-1<p?b[p]:null)&&ts(S))}function ts(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[$t])fr(b.i,p);else{var S=p.type,k=p.proxy;b.removeEventListener?b.removeEventListener(S,k,p.capture):b.detachEvent?b.detachEvent(Fe(S),k):b.addListener&&b.removeListener&&b.removeListener(k),(S=wt(b))?(fr(S,p),S.h==0&&(S.src=null,b[Xr]=null)):di(p)}}}function Fe(p){return p in co?co[p]:co[p]="on"+p}function _t(p,b){if(p.da)p=!0;else{b=new ke(b,this);var S=p.listener,k=p.ha||p.src;p.fa&&ts(p),p=S.call(k,b)}return p}function wt(p){return p=p[Xr],p instanceof Dr?p:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jr(p){return typeof p=="function"?p:(p[fi]||(p[fi]=function(b){return p.handleEvent(b)}),p[fi])}function st(){ge.call(this),this.i=new Dr(this),this.M=this,this.F=null}E(st,ge),st.prototype[$t]=!0,st.prototype.removeEventListener=function(p,b,S,k){ho(this,p,b,S,k)};function Ue(p,b){var S,k=p.F;if(k)for(S=[];k;k=k.F)S.push(k);if(p=p.M,k=b.type||b,typeof b=="string")b=new me(b,p);else if(b instanceof me)b.target=b.target||p;else{var Y=b;b=new me(k,p),T(b,Y)}if(Y=!0,S)for(var ae=S.length-1;0<=ae;ae--){var _e=b.g=S[ae];Y=Gt(_e,k,!0,b)&&Y}if(_e=b.g=p,Y=Gt(_e,k,!0,b)&&Y,Y=Gt(_e,k,!1,b)&&Y,S)for(ae=0;ae<S.length;ae++)_e=b.g=S[ae],Y=Gt(_e,k,!1,b)&&Y}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var p=this.i,b;for(b in p.g){for(var S=p.g[b],k=0;k<S.length;k++)di(S[k]);delete p.g[b],p.h--}}this.F=null},st.prototype.K=function(p,b,S,k){return this.i.add(String(p),b,!1,S,k)},st.prototype.L=function(p,b,S,k){return this.i.add(String(p),b,!0,S,k)};function Gt(p,b,S,k){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();for(var Y=!0,ae=0;ae<b.length;++ae){var _e=b[ae];if(_e&&!_e.da&&_e.capture==S){var We=_e.listener,fn=_e.ha||_e.src;_e.fa&&fr(p.i,_e),Y=We.call(fn,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function en(p,b,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(p,b||0)}function tp(p){p.g=en(()=>{p.g=null,p.i&&(p.i=!1,tp(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class i_ extends ge{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:tp(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(p){ge.call(this),this.h=p,this.g={}}E(fo,ge);var po=[];function mo(p){$(p.g,function(b,S){this.g.hasOwnProperty(S)&&ts(b)},p),p.g={}}fo.prototype.N=function(){fo.aa.N.call(this),mo(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zr=h.JSON.stringify,Ol=h.JSON.parse,go=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function qc(){}qc.prototype.h=null;function Hc(p){return p.h||(p.h=p.i())}function $c(){}var ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){me.call(this,"d")}E(rs,me);function Gc(){me.call(this,"c")}E(Gc,me);var pi={},Kc=null;function Xs(){return Kc=Kc||new st}pi.La="serverreachability";function Dl(p){me.call(this,pi.La,p)}E(Dl,me);function Js(p){const b=Xs();Ue(b,new Dl(b))}pi.STAT_EVENT="statevent";function np(p,b){me.call(this,pi.STAT_EVENT,p),this.stat=b}E(np,me);function Tt(p){const b=Xs();Ue(b,new np(b,p))}pi.Ma="timingevent";function dn(p,b){me.call(this,pi.Ma,p),this.size=b}E(dn,me);function tn(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},b)}function Nr(){this.g=!0}Nr.prototype.xa=function(){this.g=!1};function Wc(p,b,S,k,Y,ae){p.info(function(){if(p.g)if(ae)for(var _e="",We=ae.split("&"),fn=0;fn<We.length;fn++){var Qe=We[fn].split("=");if(1<Qe.length){var bn=Qe[0];Qe=Qe[1];var pn=bn.split("_");_e=2<=pn.length&&pn[1]=="type"?_e+(bn+"="+Qe+"&"):_e+(bn+"=redacted&")}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+b+`
`+S+`
`+_e})}function s_(p,b,S,k,Y,ae,_e){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+b+`
`+S+`
`+ae+" "+_e})}function Zs(p,b,S,k){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+yo(p,S)+(k?" "+k:"")})}function rp(p,b){p.info(function(){return"TIMEOUT: "+b})}Nr.prototype.info=function(){};function yo(p,b){if(!p.g)return b;if(!b)return null;try{var S=JSON.parse(b);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var k=S[p];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var ae=Y[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return Zr(S)}catch{return b}}var ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function gi(){}E(gi,qc),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},mi=new gi;function Gn(p,b,S,k){this.j=p,this.i=b,this.l=S,this.R=k||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var Qc={},Nl={};function ei(p,b,S){p.L=1,p.v=wo(pr(b)),p.m=S,p.P=!0,ss(p,null)}function ss(p,b){p.F=Date.now(),_o(p),p.A=pr(p.v);var S=p.A,k=p.R;Array.isArray(k)||(k=[String(k)]),th(S.i,"t",k),p.C=0,S=p.j.J,p.h=new Kt,p.g=vp(p.j,S?b:null,!p.m),0<p.O&&(p.M=new i_(v(p.Y,p,p.g),p.O)),b=p.U,S=p.g,k=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(po[0]=Y.toString()),Y=po);for(var ae=0;ae<Y.length;ae++){var _e=Pl(S,Y[ae],k||b.handleEvent,!1,b.h||b);if(!_e)break;b.g[_e.key]=_e}b=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),Js(),Wc(p.i,p.u,p.A,p.l,p.R,p.m)}Gn.prototype.ca=function(p){p=p.target;const b=this.M;b&&Lr(p)==3?b.j():this.Y(p)},Gn.prototype.Y=function(p){try{if(p==this.g)e:{const pn=Lr(this.g);var b=this.g.Ba();const fs=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||hp(this.g)))){this.J||pn!=4||b==7||(b==8||0>=fs?Js(3):Js(2)),ta(this);var S=this.g.Z();this.X=S;t:if(ip(this)){var k=hp(this.g);p="";var Y=k.length,ae=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),yi(this);var _e="";break t}this.h.i=new h.TextDecoder}for(b=0;b<Y;b++)this.h.h=!0,p+=this.h.i.decode(k[b],{stream:!(ae&&b==Y-1)});k.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,s_(this.i,this.u,this.A,this.l,this.R,pn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,fn=this.g;if((We=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(We)){var Qe=We;break t}}Qe=null}if(S=Qe)Zs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vo(this,S);else{this.o=!1,this.s=3,Tt(12),Cn(this),yi(this);break e}}if(this.P){S=!0;let xn;for(;!this.J&&this.C<_e.length;)if(xn=sp(this,_e),xn==Nl){pn==4&&(this.s=4,Tt(14),S=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Qc){this.s=4,Tt(15),Zs(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else Zs(this.i,this.l,xn,null),vo(this,xn);if(ip(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||_e.length!=0||this.h.h||(this.s=1,Tt(16),S=!1),this.o=this.o&&S,!S)Zs(this.i,this.l,_e,"[Invalid Chunked Response]"),Cn(this),yi(this);else if(0<_e.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Po(bn),bn.M=!0,Tt(11))}}else Zs(this.i,this.l,_e,null),vo(this,_e);pn==4&&Cn(this),this.o&&!this.J&&(pn==4?gp(this.j,this):(this.o=!1,_o(this)))}else c_(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Cn(this),yi(this)}}}catch{}finally{}};function ip(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function sp(p,b){var S=p.C,k=b.indexOf(`
`,S);return k==-1?Nl:(S=Number(b.substring(S,k)),isNaN(S)?Qc:(k+=1,k+S>b.length?Nl:(b=b.slice(k,k+S),p.C=k+S,b)))}Gn.prototype.cancel=function(){this.J=!0,Cn(this)};function _o(p){p.S=Date.now()+p.I,ap(p,p.I)}function ap(p,b){if(p.B!=null)throw Error("WatchDog timer not null");p.B=tn(v(p.ba,p),b)}function ta(p){p.B&&(h.clearTimeout(p.B),p.B=null)}Gn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(rp(this.i,this.A),this.L!=2&&(Js(),Tt(17)),Cn(this),this.s=2,yi(this)):ap(this,this.S-p)};function yi(p){p.j.G==0||p.J||gp(p.j,p)}function Cn(p){ta(p);var b=p.M;b&&typeof b.ma=="function"&&b.ma(),p.M=null,mo(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function vo(p,b){try{var S=p.j;if(S.G!=0&&(S.g==p||Yc(S.h,p))){if(!p.K&&Yc(S.h,p)&&S.G==3){try{var k=S.Da.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)$l(S),ql(S);else break e;ah(S),Tt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=tn(v(S.Za,S),6e3));if(1>=Ml(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ds(S,11)}else if((p.K||S.g==p)&&$l(S),!L(b))for(Y=S.Da.g.parse(b),b=0;b<Y.length;b++){let Qe=Y[b];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const bn=Qe[3];bn!=null&&(S.la=bn,S.j.info("VER="+S.la));const pn=Qe[4];pn!=null&&(S.Aa=pn,S.j.info("SVER="+S.Aa));const fs=Qe[5];fs!=null&&typeof fs=="number"&&0<fs&&(k=1.5*fs,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const xn=p.g;if(xn){const Si=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var ae=k.h;ae.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Vl(ae,ae.h),ae.h=null))}if(k.D){const lh=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;lh&&(k.ya=lh,ct(k.I,k.D,lh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var _e=p;if(k.qa=_p(k,k.J?k.ia:null,k.W),_e.K){Kn(k.h,_e);var We=_e,fn=k.L;fn&&(We.I=fn),We.B&&(ta(We),_o(We)),k.g=_e}else pp(k);0<S.i.length&&Hl(S)}else Qe[0]!="stop"&&Qe[0]!="close"||ds(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ds(S,7):ih(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}Js(4)}catch{}}var op=class{constructor(p,b){this.g=p,this.map=b}};function as(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ml(p){return p.h?1:p.g?p.g.size:0}function Yc(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function Vl(p,b){p.g?p.g.add(b):p.h=b}function Kn(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}as.prototype.cancel=function(){if(this.i=Xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Xc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const S of p.g.values())b=b.concat(S.D);return b}return A(p.i)}function a_(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var b=[],S=p.length,k=0;k<S;k++)b.push(p[k]);return b}b=[],S=0;for(k in p)b[S++]=p[k];return b}function Ll(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var b=[];p=p.length;for(var S=0;S<p;S++)b.push(S);return b}b=[],S=0;for(const k in p)b[S++]=k;return b}}}function Jc(p,b){if(p.forEach&&typeof p.forEach=="function")p.forEach(b,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,b,void 0);else for(var S=Ll(p),k=a_(p),Y=k.length,ae=0;ae<Y;ae++)b.call(void 0,k[ae],S&&S[ae],p)}var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o_(p,b){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var k=p[S].indexOf("="),Y=null;if(0<=k){var ae=p[S].substring(0,k);Y=p[S].substring(k+1)}else ae=p[S];b(ae,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function nn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof nn){this.h=p.h,Eo(this,p.j),this.o=p.o,this.g=p.g,na(this,p.s),this.l=p.l;var b=p.i,S=new ls;S.i=b.i,b.g&&(S.g=new Map(b.g),S.h=b.h),os(this,S),this.m=p.m}else p&&(b=String(p).match(bo))?(this.h=!1,Eo(this,b[1]||"",!0),this.o=kr(b[2]||""),this.g=kr(b[3]||"",!0),na(this,b[4]),this.l=kr(b[5]||"",!0),os(this,b[6]||"",!0),this.m=kr(b[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}nn.prototype.toString=function(){var p=[],b=this.j;b&&p.push(To(b,Zc,!0),":");var S=this.g;return(S||b=="file")&&(p.push("//"),(b=this.o)&&p.push(To(b,Zc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(To(S,S.charAt(0)=="/"?l_:eh,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",To(S,Ul)),p.join("")};function pr(p){return new nn(p)}function Eo(p,b,S){p.j=S?kr(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function na(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function os(p,b,S){b instanceof ls?(p.i=b,up(p.i,p.h)):(S||(b=To(b,u_)),p.i=new ls(b,p.h))}function ct(p,b,S){p.i.set(b,S)}function wo(p){return ct(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function kr(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function To(p,b,S){return typeof p=="string"?(p=encodeURI(p).replace(b,lp),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function lp(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Zc=/[#\/\?@]/g,eh=/[#\?:]/g,l_=/[#\?]/g,u_=/[#\?@]/g,Ul=/#/g;function ls(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function Mr(p){p.g||(p.g=new Map,p.h=0,p.i&&o_(p.i,function(b,S){p.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}n=ls.prototype,n.add=function(p,b){Mr(this),this.i=null,p=_i(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(b),this.h+=1,this};function us(p,b){Mr(p),b=_i(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function cs(p,b){return Mr(p),b=_i(p,b),p.g.has(b)}n.forEach=function(p,b){Mr(this),this.g.forEach(function(S,k){S.forEach(function(Y){p.call(b,Y,k,this)},this)},this)},n.na=function(){Mr(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),S=[];for(let k=0;k<b.length;k++){const Y=p[k];for(let ae=0;ae<Y.length;ae++)S.push(b[k])}return S},n.V=function(p){Mr(this);let b=[];if(typeof p=="string")cs(this,p)&&(b=b.concat(this.g.get(_i(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)b=b.concat(p[S])}return b},n.set=function(p,b){return Mr(this),this.i=null,p=_i(this,p),cs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},n.get=function(p,b){return p?(p=this.V(p),0<p.length?String(p[0]):b):b};function th(p,b,S){us(p,b),0<S.length&&(p.i=null,p.g.set(_i(p,b),A(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var S=0;S<b.length;S++){var k=b[S];const ae=encodeURIComponent(String(k)),_e=this.V(k);for(k=0;k<_e.length;k++){var Y=ae;_e[k]!==""&&(Y+="="+encodeURIComponent(String(_e[k]))),p.push(Y)}}return this.i=p.join("&")};function _i(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function up(p,b){b&&!p.j&&(Mr(p),p.i=null,p.g.forEach(function(S,k){var Y=k.toLowerCase();k!=Y&&(us(this,k),th(this,Y,S))},p)),p.j=b}function So(p,b){const S=new Nr;if(h.Image){const k=new Image;k.onload=w(Vr,S,"TestLoadImage: loaded",!0,b,k),k.onerror=w(Vr,S,"TestLoadImage: error",!1,b,k),k.onabort=w(Vr,S,"TestLoadImage: abort",!1,b,k),k.ontimeout=w(Vr,S,"TestLoadImage: timeout",!1,b,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else b(!1)}function ti(p,b){const S=new Nr,k=new AbortController,Y=setTimeout(()=>{k.abort(),Vr(S,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:k.signal}).then(ae=>{clearTimeout(Y),ae.ok?Vr(S,"TestPingServer: ok",!0,b):Vr(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),Vr(S,"TestPingServer: error",!1,b)})}function Vr(p,b,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function Ao(){this.g=new go}function vi(p,b,S){const k=S||"";try{Jc(p,function(Y,ae){let _e=Y;d(Y)&&(_e=Zr(Y)),b.push(k+ae+"="+encodeURIComponent(_e))})}catch(Y){throw b.push(k+"type="+encodeURIComponent("_badmap")),Y}}function ra(p){this.l=p.Ub||null,this.j=p.eb||!1}E(ra,qc),ra.prototype.g=function(){return new hs(this.l,this.j)},ra.prototype.i=function(p){return function(){return p}}({});function hs(p,b){st.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(hs,st),n=hs.prototype,n.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,Ei(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function nh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?bi(this):Ei(this),this.readyState==3&&nh(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,bi(this))},n.Qa=function(p){this.g&&(this.response=p,bi(this))},n.ga=function(){this.g&&bi(this)};function bi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ei(p)}n.setRequestHeader=function(p,b){this.u.append(p,b)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=b.next();return p.join(`\r
`)};function Ei(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function rh(p){let b="";return $(p,function(S,k){b+=k,b+=":",b+=S,b+=`\r
`}),b}function vn(p,b,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=rh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):ct(p,b,S))}function it(p){st.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(it,st);var Bl=/^https?$/i,Io=["POST","PUT"];n=it.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,b,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?Hc(this.o):Hc(mi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(ae){cp(this,ae);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ae of k.keys())S.set(ae,k.get(ae));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(ae=>ae.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Io,b,void 0))||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of S)this.g.setRequestHeader(ae,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(p),this.u=!1}catch(ae){cp(this,ae)}};function cp(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,Fl(p),wi(p)}function Fl(p){p.A||(p.A=!0,Ue(p,"complete"),Ue(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ue(this,"complete"),Ue(this,"abort"),wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zl(this):this.bb())},n.bb=function(){zl(this)};function zl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Lr(p)!=4||p.Z()!=2)){if(p.u&&Lr(p)==4)en(p.Ea,0,p);else if(Ue(p,"readystatechange"),Lr(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var S;if(!(S=b)){var k;if(k=_e===0){var Y=String(p.D).match(bo)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),k=!Bl.test(Y?Y.toLowerCase():"")}S=k}if(S)Ue(p,"complete"),Ue(p,"success");else{p.m=6;try{var ae=2<Lr(p)?p.g.statusText:""}catch{ae=""}p.l=ae+" ["+p.Z()+"]",Fl(p)}}finally{wi(p)}}}}function wi(p,b){if(p.g){Ro(p);const S=p.g,k=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||Ue(p,"ready");try{S.onreadystatechange=k}catch{}}}function Ro(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Lr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),Ol(b)}};function hp(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function c_(p){const b={};p=(p.g&&2<=Lr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(L(p[k]))continue;var S=O(p[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ae=b[Y]||[];b[Y]=ae,ae.push(S)}M(b,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Co(p,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||b}function jl(p){this.Aa=0,this.i=[],this.j=new Nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Co("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Co("baseRetryDelayMs",5e3,p),this.cb=Co("retryDelaySeedMs",1e4,p),this.Wa=Co("forwardChannelMaxRetries",2,p),this.wa=Co("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new as(p&&p.concurrentRequestLimit),this.Da=new Ao,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=jl.prototype,n.la=8,n.G=1,n.connect=function(p,b,S,k){Tt(0),this.W=p,this.H=b||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=_p(this,null,this.W),Hl(this)};function ih(p){if(dp(p),p.G==3){var b=p.U++,S=pr(p.I);if(ct(S,"SID",p.K),ct(S,"RID",b),ct(S,"TYPE","terminate"),xo(p,S),b=new Gn(p,p.j,b),b.L=2,b.v=wo(pr(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=b.v,S=!0),S||(b.g=vp(b.j,null),b.g.ea(b.v)),b.F=Date.now(),_o(b)}yp(p)}function ql(p){p.g&&(Po(p),p.g.cancel(),p.g=null)}function dp(p){ql(p),p.u&&(h.clearTimeout(p.u),p.u=null),$l(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Hl(p){if(!kl(p.h)&&!p.s){p.s=!0;var b=p.Ga;J||j(),le||(J(),le=!0),Ee.add(b,p),p.B=0}}function h_(p,b){return Ml(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=b.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=tn(v(p.Ga,p,b),oh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new Gn(this,this.j,p);let ae=this.o;if(this.S&&(ae?(ae=R(ae),T(ae,this.S)):ae=this.S),this.m!==null||this.O||(Y.H=ae,ae=null),this.P)e:{for(var b=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(b+=k,4096<b){b=S;break e}if(b===4096||S===this.i.length-1){b=S+1;break e}}b=1e3}else b=1e3;b=fp(this,Y,b),S=pr(this.I),ct(S,"RID",p),ct(S,"CVER",22),this.D&&ct(S,"X-HTTP-Session-Id",this.D),xo(this,S),ae&&(this.O?b="headers="+encodeURIComponent(String(rh(ae)))+"&"+b:this.m&&vn(S,this.m,ae)),Vl(this.h,Y),this.Ua&&ct(S,"TYPE","init"),this.P?(ct(S,"$req",b),ct(S,"SID","null"),Y.T=!0,ei(Y,S,null)):ei(Y,S,b),this.G=2}}else this.G==3&&(p?sh(this,p):this.i.length==0||kl(this.h)||sh(this))};function sh(p,b){var S;b?S=b.l:S=p.U++;const k=pr(p.I);ct(k,"SID",p.K),ct(k,"RID",S),ct(k,"AID",p.T),xo(p,k),p.m&&p.o&&vn(k,p.m,p.o),S=new Gn(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),b&&(p.i=b.D.concat(p.i)),b=fp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Vl(p.h,S),ei(S,k,b)}function xo(p,b){p.H&&$(p.H,function(S,k){ct(b,k,S)}),p.l&&Jc({},function(S,k){ct(b,k,S)})}function fp(p,b,S){S=Math.min(p.i.length,S);var k=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let ae=-1;for(;;){const _e=["count="+S];ae==-1?0<S?(ae=Y[0].g,_e.push("ofs="+ae)):ae=0:_e.push("ofs="+ae);let We=!0;for(let fn=0;fn<S;fn++){let Qe=Y[fn].g;const bn=Y[fn].map;if(Qe-=ae,0>Qe)ae=Math.max(0,Y[fn].g-100),We=!1;else try{vi(bn,_e,"req"+Qe+"_")}catch{k&&k(bn)}}if(We){k=_e.join("&");break e}}}return p=p.i.splice(0,S),b.D=p,k}function pp(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;J||j(),le||(J(),le=!0),Ee.add(b,p),p.v=0}}function ah(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=tn(v(p.Fa,p),oh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,mp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=tn(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),ql(this),mp(this))};function Po(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function mp(p){p.g=new Gn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var b=pr(p.qa);ct(b,"RID","rpc"),ct(b,"SID",p.K),ct(b,"AID",p.T),ct(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&ct(b,"TO",p.ja),ct(b,"TYPE","xmlhttp"),xo(p,b),p.m&&p.o&&vn(b,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=wo(pr(b)),S.m=null,S.P=!0,ss(S,p)}n.Za=function(){this.C!=null&&(this.C=null,ql(this),ah(this),Tt(19))};function $l(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function gp(p,b){var S=null;if(p.g==b){$l(p),Po(p),p.g=null;var k=2}else if(Yc(p.h,b))S=b.D,Kn(p.h,b),k=1;else return;if(p.G!=0){if(b.o)if(k==1){S=b.m?b.m.length:0,b=Date.now()-b.F;var Y=p.B;k=Xs(),Ue(k,new dn(k,S)),Hl(p)}else pp(p);else if(Y=b.s,Y==3||Y==0&&0<b.X||!(k==1&&h_(p,b)||k==2&&ah(p)))switch(S&&0<S.length&&(b=p.h,b.i=b.i.concat(S)),Y){case 1:ds(p,5);break;case 4:ds(p,10);break;case 3:ds(p,6);break;default:ds(p,2)}}}function oh(p,b){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*b}function ds(p,b){if(p.j.info("Error code "+b),b==2){var S=v(p.fb,p),k=p.Xa;const Y=!k;k=new nn(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Eo(k,"https"),wo(k),Y?So(k.toString(),S):ti(k.toString(),S)}else Tt(2);p.G=0,p.l&&p.l.sa(b),yp(p),dp(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function yp(p){if(p.G=0,p.ka=[],p.l){const b=Xc(p.h);(b.length!=0||p.i.length!=0)&&(P(p.ka,b),P(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function _p(p,b,S){var k=S instanceof nn?pr(S):new nn(S);if(k.g!="")b&&(k.g=b+"."+k.g),na(k,k.s);else{var Y=h.location;k=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;var ae=new nn(null);k&&Eo(ae,k),b&&(ae.g=b),Y&&na(ae,Y),S&&(ae.l=S),k=ae}return S=p.D,b=p.ya,S&&b&&ct(k,S,b),ct(k,"VER",p.la),xo(p,k),k}function vp(p,b,S){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Ca&&!p.pa?new it(new ra({eb:S})):new it(p.pa),b.Ha(p.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bp(){}n=bp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Gl(){}Gl.prototype.g=function(p,b){return new Wn(p,b)};function Wn(p,b){st.call(this),this.g=new jl(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!L(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.D=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new Ti(this)}E(Wn,st),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){ih(this.g)},Wn.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Zr(p),p=S);b.i.push(new op(b.Ya++,p)),b.G==3&&Hl(b)},Wn.prototype.N=function(){this.g.l=null,delete this.j,ih(this.g),delete this.g,Wn.aa.N.call(this)};function Ep(p){rs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const S in b){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}E(Ep,rs);function wp(){Gc.call(this),this.status=1}E(wp,Gc);function Ti(p){this.g=p}E(Ti,bp),Ti.prototype.ua=function(){Ue(this.g,"a")},Ti.prototype.ta=function(p){Ue(this.g,new Ep(p))},Ti.prototype.sa=function(p){Ue(this.g,new wp)},Ti.prototype.ra=function(){Ue(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,cD=function(){return new Gl},uD=function(){return Xs()},lD=pi,db={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Jm=ea,is.COMPLETE="complete",oD=is,$c.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",st.prototype.listen=st.prototype.K,xd=$c,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,aD=it}).apply(typeof Pm<"u"?Pm:typeof self<"u"?self:typeof window<"u"?window:{});const b1="@firebase/firestore",E1="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new yy("@firebase/firestore");function Nu(){return Ka.logLevel}function U8(n){Ka.setLogLevel(n)}function pe(n,...e){if(Ka.logLevel<=He.DEBUG){const t=e.map(GE);Ka.debug(`Firestore (${Nc}): ${n}`,...t)}}function Yt(n,...e){if(Ka.logLevel<=He.ERROR){const t=e.map(GE);Ka.error(`Firestore (${Nc}): ${n}`,...t)}}function Yi(n,...e){if(Ka.logLevel<=He.WARN){const t=e.map(GE);Ka.warn(`Firestore (${Nc}): ${n}`,...t)}}function GE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,hD(n,r,t)}function hD(n,e,t){let r=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Yt(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||hD(e,i,r)}function B8(n,e){n||we(57014,e)}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class z8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class j8{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new dD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class q8{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H8{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new q8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $8{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new w1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new w1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=G8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function fb(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return De(r,i);{const o=KE(),u=K8(o.encode(T1(n,t)),o.encode(T1(e,t)));return u!==0?u:De(r,i)}}t+=r>65535?2:1}return De(n.length,e.length)}function T1(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function K8(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function tc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function pD(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=-62135596800,A1=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*A1);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<S1)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A1}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-S1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Pt(0,0))}static max(){return new Ie(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__name__";class Ni{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&we(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Ni.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return De(e.length,t.length)}static compareSegments(e,t){const r=Ni.isNumericId(e),i=Ni.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ni.extractNumericId(e).compare(Ni.extractNumericId(t)):fb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ua.fromString(e.substring(4,e.length-2))}}class $e extends Ni{construct(e,t,r){return new $e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new $e(t)}static emptyPath(){return new $e([])}}const W8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Ni{construct(e,t,r){return new Ct(e,t,r)}static isValidIdentifier(e){return W8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I1}static keyField(){return new Ct([I1])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve($e.fromString(e))}static fromName(e){return new ve($e.fromString(e).popFirst(5))}static empty(){return new ve($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;class Rg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function pb(n){return n.fields.find(e=>e.kind===2)}function Wo(n){return n.fields.filter(e=>e.kind!==2)}Rg.UNKNOWN_ID=-1;class Zm{constructor(e,t){this.fieldPath=e,this.kind=t}}class of{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new of(0,Pr.min())}}function mD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Pr(i,ve.empty(),e)}function gD(n){return new Pr(n.readTime,n.key,nc)}class Pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pr(Ie.min(),ve.empty(),nc)}static max(){return new Pr(Ie.max(),ve.empty(),nc)}}function WE(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _D{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==yD)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},f=>r(f))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next(g=>{u[d]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="SimpleDb";class Py{static open(e,t,r,i){try{return new Py(t,e.transaction(i,r))}catch(o){throw new Fd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Vn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Fd(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=QE(r.target.error);this.S.reject(new Fd(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(Sr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Y8(t)}}class $i{static delete(e){return pe(Sr,"Removing database:",e),Yo(EE().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!ef())return!1;if($i.F())return!0;const e=Vt(),t=$i.M(e),r=0<t&&t<10,i=vD(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,$i.M(Vt())===12.2&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(pe(Sr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new Fd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new fe(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new fe(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Fd(e,u))},i.onupgradeneeded=o=>{pe(Sr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(Sr,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=Py.open(this.db,e,o?"readonly":"readwrite",r),f=i(h).next(d=>(h.v(),d)).catch(d=>(h.abort(d),X.reject(d))).toPromise();return f.catch(()=>{}),await h.D,f}catch(h){const f=h,d=f.name!=="FirebaseError"&&u<3;if(pe(Sr,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function vD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Q8{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Yo(this.K.delete())}}class Fd extends fe{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ao(n){return n.name==="IndexedDbTransactionError"}class Y8{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Sr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Sr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yo(r)}add(e){return pe(Sr,"ADD",this.store.name,e,e),Yo(this.store.add(e))}get(e){return Yo(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(Sr,"GET",this.store.name,e,t),t))}delete(e){return pe(Sr,"DELETE",this.store.name,e),Yo(this.store.delete(e))}count(){return pe(Sr,"COUNT",this.store.name),Yo(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.Y(o,(h,f)=>{u.push(f)}).next(()=>u)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}X(e,t){pe(Sr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const i=this.cursor(r);return this.Y(i,(o,u,h)=>h.delete())}te(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Y(i,t)}ne(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=QE(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Y(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const f=new Q8(h),d=t(h.primaryKey,h.value,f);if(d instanceof X){const g=d.catch(y=>(f.done(),X.reject(y)));r.push(g)}f.isDone?i():f.j===null?h.continue():h.continue(f.j)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yo(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=QE(r.target.error);t(i)}})}let R1=!1;function QE(n){const e=$i.M(Vt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return R1||(R1=!0,setTimeout(()=>{throw r},0)),r}}return n}const zd="IndexBackfiller";class X8{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){pe(zd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();pe(zd,`Documents written: ${t}`)}catch(t){ao(t)?pe(zd,"Ignoring IndexedDB error during index backfill: ",t):await so(t)}await this.ie(6e4)})}}class J8{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(zd,`Processing collection: ${u}`),this._e(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(i,o)).next(h=>(pe(zd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=gD(o);WE(u,r)>0&&(r=u)}),new Pr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}or.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=-1;function zf(n){return n==null}function lf(n){return n===0&&1/n==-1/0}function bD(n){return typeof n=="number"&&Number.isInteger(n)&&!lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="";function Hn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=C1(e)),e=Z8(n.get(t),e);return C1(e)}function Z8(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case Cg:t+="";break;default:t+=o}}return t}function C1(n){return n+Cg+""}function ji(n){const e=n.length;if(Ae(e>=2,64408,{path:n}),e===2)return Ae(n.charAt(0)===Cg&&n.charAt(1)==="",56145,{path:n}),$e.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(Cg,o);switch((u<0||u>t)&&we(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;i.length===0?f=h:(i+=h,f=i,i=""),r.push(f);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we(61167,{path:n})}o=u+2}return new $e(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="remoteDocuments",jf="owner",Ru="owner",uf="mutationQueues",eq="userId",ai="mutations",x1="batchId",rl="userMutationsIndex",P1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(n,e){return[n,Hn(e)]}function ED(n,e,t){return[n,Hn(e),t]}const tq={},rc="documentMutations",xg="remoteDocumentsV14",nq=["prefixPath","collectionGroup","readTime","documentId"],tg="documentKeyIndex",rq=["prefixPath","collectionGroup","documentId"],wD="collectionGroupIndex",iq=["collectionGroup","readTime","prefixPath","documentId"],cf="remoteDocumentGlobal",mb="remoteDocumentGlobalKey",ic="targets",TD="queryTargetsIndex",sq=["canonicalId","targetId"],sc="targetDocuments",aq=["targetId","path"],YE="documentTargetsIndex",oq=["path","targetId"],Pg="targetGlobalKey",cl="targetGlobal",hf="collectionParents",lq=["collectionId","parent"],ac="clientMetadata",uq="clientId",Oy="bundles",cq="bundleId",Dy="namedQueries",hq="name",XE="indexConfiguration",dq="indexId",gb="collectionGroupIndex",fq="collectionGroup",Og="indexState",pq=["indexId","uid"],SD="sequenceNumberIndex",mq=["uid","sequenceNumber"],Dg="indexEntries",gq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],AD="documentKeyIndex",yq=["indexId","uid","orderedDocumentKey"],Ny="documentOverlays",_q=["userId","collectionPath","documentId"],yb="collectionPathOverlayIndex",vq=["userId","collectionPath","largestBatchId"],ID="collectionGroupOverlayIndex",bq=["userId","collectionGroup","largestBatchId"],JE="globals",Eq="name",RD=[uf,ai,rc,Qo,ic,jf,cl,sc,ac,cf,hf,Oy,Dy],wq=[...RD,Ny],CD=[uf,ai,rc,xg,ic,jf,cl,sc,ac,cf,hf,Oy,Dy,Ny],xD=CD,ZE=[...xD,XE,Og,Dg],Tq=ZE,Sq=[...ZE,JE];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends _D{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function _n(n,e){const t=be(n);return $i.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||Nn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Om(this.root,e,this.comparator,!1)}getReverseIterator(){return new Om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Om(this.root,e,this.comparator,!0)}}class Om{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Nn.RED,this.left=i??Nn.EMPTY,this.right=o??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Nn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new D1(this.data.getIterator())}getIteratorFrom(e){return new D1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ut(this.comparator);return t.data=e,t}}class D1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new lr([])}unionWith(e){let t=new ut(Ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new lr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new OD("Invalid base64 string: "+o):o}}(e);return new jt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const Iq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(n){if(Ae(!!n,39018),typeof n=="string"){let e=0;const t=Iq.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="server_timestamp",ND="__type__",kD="__previous_value__",MD="__local_write_time__";function ky(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ND])===null||t===void 0?void 0:t.stringValue)===DD}function My(n){const e=n.mapValue.fields[kD];return ky(e)?My(e):e}function df(n){const e=Fs(n.mapValue.fields[MD].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,t,r,i,o,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const vb="(default)";class Wa{constructor(e,t){this.projectId=e,this.database=t||vb}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===vb}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="__type__",VD="__max__",Na={mapValue:{fields:{__type__:{stringValue:VD}}}},tw="__vector__",oc="value",ng={nullValue:"NULL_VALUE"};function Qa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ky(n)?4:LD(n)?9007199254740991:Vy(n)?10:11:we(28295,{value:n})}function Xi(n,e){if(n===e)return!0;const t=Qa(n);if(t!==Qa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return df(n).isEqual(df(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Fs(i.timestampValue),h=Fs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return zs(i.bytesValue).isEqual(zs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return It(i.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return It(i.integerValue)===It(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=It(i.doubleValue),h=It(o.doubleValue);return u===h?lf(u)===lf(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return tc(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(O1(u)!==O1(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Xi(u[f],h[f])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function ff(n,e){return(n.values||[]).find(t=>Xi(t,e))!==void 0}function Ya(n,e){if(n===e)return 0;const t=Qa(n),r=Qa(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=It(o.integerValue||o.doubleValue),f=It(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return N1(n.timestampValue,e.timestampValue);case 4:return N1(df(n),df(e));case 5:return fb(n.stringValue,e.stringValue);case 6:return function(o,u){const h=zs(o),f=zs(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=De(h[d],f[d]);if(g!==0)return g}return De(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=De(It(o.latitude),It(u.latitude));return h!==0?h:De(It(o.longitude),It(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return k1(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,d,g;const y=o.fields||{},v=u.fields||{},w=(h=y[oc])===null||h===void 0?void 0:h.arrayValue,E=(f=v[oc])===null||f===void 0?void 0:f.arrayValue,A=De(((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0,((g=E==null?void 0:E.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:k1(w,E)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Na.mapValue&&u===Na.mapValue)return 0;if(o===Na.mapValue)return 1;if(u===Na.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let y=0;y<f.length&&y<g.length;++y){const v=fb(f[y],g[y]);if(v!==0)return v;const w=Ya(h[f[y]],d[g[y]]);if(w!==0)return w}return De(f.length,g.length)}(n.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function N1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Fs(n),r=Fs(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function k1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ya(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function lc(n){return bb(n)}function bb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=bb(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${bb(t.fields[u])}`;return i+"}"}(n.mapValue):we(61005,{value:n})}function rg(n){switch(Qa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=My(n);return e?16+rg(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+rg(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return oo(r.fields,(o,u)=>{i+=o.length+rg(u)}),i}(n.mapValue);default:throw we(13486,{value:n})}}function pl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Eb(n){return!!n&&"integerValue"in n}function pf(n){return!!n&&"arrayValue"in n}function M1(n){return!!n&&"nullValue"in n}function V1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ig(n){return!!n&&"mapValue"in n}function Vy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ew])===null||t===void 0?void 0:t.stringValue)===tw}function jd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return oo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=jd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function LD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VD}const UD={mapValue:{fields:{[ew]:{stringValue:tw},[oc]:{arrayValue:{}}}}};function Cq(n){return"nullValue"in n?ng:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?pl(Wa.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Vy(n)?UD:{mapValue:{}}:we(35942,{value:n})}function xq(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?pl(Wa.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?UD:"mapValue"in n?Vy(n)?{mapValue:{}}:Na:we(61959,{value:n})}function L1(n,e){const t=Ya(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function U1(n,e){const t=Ya(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ig(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(t)}setAll(e){let t=Ct.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=jd(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());ig(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ig(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oo(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Mn(jd(this.value))}}function BD(n){const e=[];return oo(n.fields,(t,r)=>{const i=new Ct([t]);if(ig(r)){const o=BD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Et(e,0,Ie.min(),Ie.min(),Ie.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,i){return new Et(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new Et(e,2,t,Ie.min(),Ie.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new Et(e,3,t,Ie.min(),Ie.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t){this.position=e,this.inclusive=t}}function B1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=Ya(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function F1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{}class Ge extends FD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Oq(e,t,r):t==="array-contains"?new kq(e,r):t==="in"?new GD(e,r):t==="not-in"?new Mq(e,r):t==="array-contains-any"?new Vq(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Dq(e,r):new Nq(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ya(t,this.value)):t!==null&&Qa(this.value)===Qa(t)&&this.matchesComparison(Ya(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends FD{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new lt(e,t)}matches(e){return uc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function uc(n){return n.op==="and"}function wb(n){return n.op==="or"}function nw(n){return zD(n)&&uc(n)}function zD(n){for(const e of n.filters)if(e instanceof lt)return!1;return!0}function Tb(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+lc(n.value);if(nw(n))return n.filters.map(e=>Tb(e)).join(",");{const e=n.filters.map(t=>Tb(t)).join(",");return`${n.op}(${e})`}}function jD(n,e){return n instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Xi(r.value,i.value)}(n,e):n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&jD(u,i.filters[h]),!0):!1}(n,e):void we(19439)}function qD(n,e){const t=n.filters.concat(e);return lt.create(t,n.op)}function HD(n){return n instanceof Ge?function(t){return`${t.field.canonicalString()} ${t.op} ${lc(t.value)}`}(n):n instanceof lt?function(t){return t.op.toString()+" {"+t.getFilters().map(HD).join(" ,")+"}"}(n):"Filter"}class Oq extends Ge{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class Dq extends Ge{constructor(e,t){super(e,"in",t),this.keys=$D("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Nq extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=$D("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $D(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class kq extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pf(t)&&ff(t.arrayValue,this.value)}}class GD extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ff(this.value.arrayValue,t)}}class Mq extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ff(this.value.arrayValue,t)}}class Vq extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ff(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function Sb(n,e=null,t=[],r=[],i=null,o=null,u=null){return new Lq(n,e,t,r,i,o,u)}function ml(n){const e=be(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Tb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),zf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lc(r)).join(",")),e.Ie=t}return e.Ie}function qf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Pq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!F1(n.startAt,e.startAt)&&F1(n.endAt,e.endAt)}function Ng(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function kg(n,e){return n.filters.filter(t=>t instanceof Ge&&t.field.isEqual(e))}function z1(n,e,t){let r=ng,i=!0;for(const o of kg(n,e)){let u=ng,h=!0;switch(o.op){case"<":case"<=":u=Cq(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=ng}L1({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];L1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function j1(n,e,t){let r=Na,i=!0;for(const o of kg(n,e)){let u=Na,h=!0;switch(o.op){case">=":case">":u=xq(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Na}U1({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];U1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KD(n,e,t,r,i,o,u,h){return new Ks(n,e,t,r,i,o,u,h)}function kc(n){return new Ks(n)}function q1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rw(n){return n.collectionGroup!==null}function Gu(n){const e=be(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ut(Ct.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new mf(o,r))}),t.has(Ct.keyField().canonicalString())||e.Ee.push(new mf(Ct.keyField(),r))}return e.Ee}function Zn(n){const e=be(n);return e.de||(e.de=Uq(e,Gu(n))),e.de}function Uq(n,e){if(n.limitType==="F")return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new mf(i.field,o)});const t=n.endAt?new Xa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xa(n.startAt.position,n.startAt.inclusive):null;return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ab(n,e){const t=n.filters.concat([e]);return new Ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mg(n,e,t){return new Ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hf(n,e){return qf(Zn(n),Zn(e))&&n.limitType===e.limitType}function WD(n){return`${ml(Zn(n))}|lt:${n.limitType}`}function ku(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>HD(i)).join(", ")}]`),zf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>lc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>lc(i)).join(",")),`Target(${r})`}(Zn(n))}; limitType=${n.limitType})`}function $f(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Gu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,f){const d=B1(u,h,f);return u.inclusive?d<=0:d<0}(r.startAt,Gu(r),i)||r.endAt&&!function(u,h,f){const d=B1(u,h,f);return u.inclusive?d>=0:d>0}(r.endAt,Gu(r),i))}(n,e)}function QD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YD(n){return(e,t)=>{let r=!1;for(const i of Gu(n)){const o=Bq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Bq(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Ya(f,d):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return PD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=new bt(ve.comparator);function ur(){return Fq}const XD=new bt(ve.comparator);function Pd(...n){let e=XD;for(const t of n)e=e.insert(t.key,t);return e}function JD(n){let e=XD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qi(){return qd()}function ZD(){return qd()}function qd(){return new Ws(n=>n.toString(),(n,e)=>n.isEqual(e))}const zq=new bt(ve.comparator),jq=new ut(ve.comparator);function Ve(...n){let e=jq;for(const t of n)e=e.add(t);return e}const qq=new ut(De);function iw(){return qq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lf(e)?"-0":e}}function e2(n){return{integerValue:""+n}}function t2(n,e){return bD(e)?e2(e):sw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this._=void 0}}function Hq(n,e,t){return n instanceof cc?function(i,o){const u={fields:{[ND]:{stringValue:DD},[MD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ky(o)&&(o=My(o)),o&&(u.fields[kD]=o),{mapValue:u}}(t,e):n instanceof gl?r2(n,e):n instanceof yl?i2(n,e):function(i,o){const u=n2(i,o),h=H1(u)+H1(i.Re);return Eb(u)&&Eb(i.Re)?e2(h):sw(i.serializer,h)}(n,e)}function $q(n,e,t){return n instanceof gl?r2(n,e):n instanceof yl?i2(n,e):t}function n2(n,e){return n instanceof hc?function(r){return Eb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class cc extends Ly{}class gl extends Ly{constructor(e){super(),this.elements=e}}function r2(n,e){const t=s2(e);for(const r of n.elements)t.some(i=>Xi(i,r))||t.push(r);return{arrayValue:{values:t}}}class yl extends Ly{constructor(e){super(),this.elements=e}}function i2(n,e){let t=s2(e);for(const r of n.elements)t=t.filter(i=>!Xi(i,r));return{arrayValue:{values:t}}}class hc extends Ly{constructor(e,t){super(),this.serializer=e,this.Re=t}}function H1(n){return It(n.integerValue||n.doubleValue)}function s2(n){return pf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.field=e,this.transform=t}}function Gq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof gl&&i instanceof gl||r instanceof yl&&i instanceof yl?tc(r.elements,i.elements,Xi):r instanceof hc&&i instanceof hc?Xi(r.Re,i.Re):r instanceof cc&&i instanceof cc}(n.transform,e.transform)}class Kq{constructor(e,t){this.version=e,this.transformResults=t}}class xt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Uy{}function a2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vc(n.key,xt.none()):new Mc(n.key,n.data,xt.none());{const t=n.data,r=Mn.empty();let i=new ut(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Qs(n.key,r,new lr(i.toArray()),xt.none())}}function Wq(n,e,t){n instanceof Mc?function(i,o,u){const h=i.value.clone(),f=G1(i.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Qs?function(i,o,u){if(!sg(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=G1(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(o2(i)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Hd(n,e,t,r){return n instanceof Mc?function(o,u,h,f){if(!sg(o.precondition,u))return h;const d=o.value.clone(),g=K1(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qs?function(o,u,h,f){if(!sg(o.precondition,u))return h;const d=K1(o.fieldTransforms,f,u),g=u.data;return g.setAll(o2(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(o,u,h){return sg(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function Qq(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=n2(r.transform,i||null);o!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,o))}return t||null}function $1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tc(r,i,(o,u)=>Gq(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Mc extends Uy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qs extends Uy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function o2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function G1(n,e,t){const r=new Map;Ae(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,$q(u,h,t[i]))}return r}function K1(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,Hq(o,u,e))}return r}class Vc extends Uy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aw extends Uy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Wq(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZD();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const f=a2(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(t,r)=>$1(t,r))&&tc(this.baseMutations,e.baseMutations,(t,r)=>$1(t,r))}}class lw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return zq}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new lw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Xe;function l2(n){switch(n){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function u2(n){if(n===void 0)return Yt("GRPC error has no .code"),ie.UNKNOWN;switch(n){case on.OK:return ie.OK;case on.CANCELLED:return ie.CANCELLED;case on.UNKNOWN:return ie.UNKNOWN;case on.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case on.INTERNAL:return ie.INTERNAL;case on.UNAVAILABLE:return ie.UNAVAILABLE;case on.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case on.NOT_FOUND:return ie.NOT_FOUND;case on.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case on.ABORTED:return ie.ABORTED;case on.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case on.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:n})}}(Xe=on||(on={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=new Ua([4294967295,4294967295],0);function W1(n){const e=KE().encode(n),t=new sD;return t.update(e),new Uint8Array(t.digest())}function Q1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ua([t,r],0),new Ua([i,o],0)]}class cw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Od(`Invalid padding: ${t}`);if(r<0)throw new Od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Od(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ua.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ua.fromNumber(r)));return i.compare(Xq)===1&&(i=new Ua([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=W1(e),[r,i]=Q1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new cw(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=W1(e),[r,i]=Q1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Wf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Kf(Ie.min(),i,new bt(De),ur(),Ve())}}class Wf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wf(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class c2{constructor(e,t){this.targetId=e,this.Ce=t}}class h2{constructor(e,t,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Y1{constructor(){this.Fe=0,this.Me=X1(),this.xe=jt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),r=Ve();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we(38017,{changeType:o})}}),new Wf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=X1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Jq{constructor(e){this.ze=e,this.je=new Map,this.He=ur(),this.Je=Dm(),this.Ye=Dm(),this.Ze=new bt(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(Ng(o))if(r===0){const u=new ve(o.path);this.tt(t,u,Et.newNoDocument(u,Ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=zs(r).toUint8Array()}catch(f){if(f instanceof OD)return Yi("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new cw(u,i,o)}catch(f){return Yi(f instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&Ng(h.target)){const f=new ve(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Et.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Ve();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const i=new Kf(e,t,this.Ze,this.He,r);return this.He=ur(),this.Je=Dm(),this.Ye=Dm(),this.Ze=new bt(De),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Y1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ut(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ut(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Y1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Dm(){return new bt(ve.comparator)}function X1(){return new bt(ve.comparator)}const Zq={asc:"ASCENDING",desc:"DESCENDING"},e7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t7={and:"AND",or:"OR"};class n7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ib(n,e){return n.useProto3Json||zf(e)?e:{value:e}}function dc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function r7(n,e){return dc(n,e.toTimestamp())}function Xt(n){return Ae(!!n,49232),Ie.fromTimestamp(function(t){const r=Fs(t);return new Pt(r.seconds,r.nanos)}(n))}function hw(n,e){return Rb(n,e).canonicalString()}function Rb(n,e){const t=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function f2(n){const e=$e.fromString(n);return Ae(T2(e),10190,{key:e.toString()}),e}function gf(n,e){return hw(n.databaseId,e.path)}function Gi(n,e){const t=f2(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(g2(t))}function p2(n,e){return hw(n.databaseId,e)}function m2(n){const e=f2(n);return e.length===4?$e.emptyPath():g2(e)}function Cb(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g2(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function J1(n,e,t){return{name:gf(n,e),fields:t.value.mapValue.fields}}function y2(n,e,t){const r=Gi(n,e.name),i=Xt(e.updateTime),o=e.createTime?Xt(e.createTime):Ie.min(),u=new Mn({mapValue:{fields:e.fields}}),h=Et.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function i7(n,e){return"found"in e?function(r,i){Ae(!!i.found,43571),i.found.name,i.found.updateTime;const o=Gi(r,i.found.name),u=Xt(i.found.updateTime),h=i.found.createTime?Xt(i.found.createTime):Ie.min(),f=new Mn({mapValue:{fields:i.found.fields}});return Et.newFoundDocument(o,u,h,f)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing,3894),Ae(!!i.readTime,22933);const o=Gi(r,i.missing),u=Xt(i.readTime);return Et.newNoDocument(o,u)}(n,e):we(7234,{result:e})}function s7(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:we(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(Ae(g===void 0||typeof g=="string",58123),jt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),jt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(d){const g=d.code===void 0?ie.UNKNOWN:u2(d.code);return new fe(g,d.message||"")}(u);t=new h2(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gi(n,r.document.name),o=Xt(r.document.updateTime),u=r.document.createTime?Xt(r.document.createTime):Ie.min(),h=new Mn({mapValue:{fields:r.document.fields}}),f=Et.newFoundDocument(i,o,u,h),d=r.targetIds||[],g=r.removedTargetIds||[];t=new ag(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gi(n,r.document),o=r.readTime?Xt(r.readTime):Ie.min(),u=Et.newNoDocument(i,o),h=r.removedTargetIds||[];t=new ag([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gi(n,r.document),o=r.removedTargetIds||[];t=new ag([],o,i,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new Yq(i,o),h=r.targetId;t=new c2(h,u)}}return t}function yf(n,e){let t;if(e instanceof Mc)t={update:J1(n,e.key,e.value)};else if(e instanceof Vc)t={delete:gf(n,e.key)};else if(e instanceof Qs)t={update:J1(n,e.key,e.data),updateMask:h7(e.fieldMask)};else{if(!(e instanceof aw))return we(16599,{ft:e.type});t={verify:gf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof cc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hc)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw we(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:r7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we(27497)}(n,e.precondition)),t}function xb(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?xt.updateTime(Xt(o.updateTime)):o.exists!==void 0?xt.exists(o.exists):xt.none()}(e.currentDocument):xt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let f=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new cc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];f=new gl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];f=new yl(g)}else"increment"in h?f=new hc(u,h.increment):we(16584,{proto:h});const d=Ct.fromServerFormat(h.fieldPath);return new Gf(d,f)}(n,i)):[];if(e.update){e.update.name;const i=Gi(n,e.update.name),o=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const d=f.fieldPaths||[];return new lr(d.map(g=>Ct.fromServerFormat(g)))}(e.updateMask);return new Qs(i,o,u,t,r)}return new Mc(i,o,t,r)}if(e.delete){const i=Gi(n,e.delete);return new Vc(i,t)}if(e.verify){const i=Gi(n,e.verify);return new aw(i,t)}return we(1463,{proto:e})}function a7(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>function(i,o){let u=i.updateTime?Xt(i.updateTime):Xt(o);return u.isEqual(Ie.min())&&(u=Xt(o)),new Kq(u,i.transformResults||[])}(t,e))):[]}function _2(n,e){return{documents:[p2(n,e.path)]}}function v2(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=p2(n,i);const o=function(d){if(d.length!==0)return w2(lt.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Mu(v.field),direction:l7(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Ib(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function b2(n){let e=m2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(y){const v=E2(y);return v instanceof lt&&nw(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(y){return y.map(v=>function(E){return new mf(Vu(E.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(y){let v;return v=typeof y=="object"?y.value:y,zf(v)?null:v}(t.limit));let f=null;t.startAt&&(f=function(y){const v=!!y.before,w=y.values||[];return new Xa(w,v)}(t.startAt));let d=null;return t.endAt&&(d=function(y){const v=!y.before,w=y.values||[];return new Xa(w,v)}(t.endAt)),KD(e,i,u,o,h,"F",f,d)}function o7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function E2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Vu(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(t.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vu(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Vu(t.unaryFilter.field);return Ge.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ge.create(Vu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return lt.create(t.compositeFilter.filters.map(r=>E2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function l7(n){return Zq[n]}function u7(n){return e7[n]}function c7(n){return t7[n]}function Mu(n){return{fieldPath:n.canonicalString()}}function Vu(n){return Ct.fromServerFormat(n.fieldPath)}function w2(n){return n instanceof Ge?function(t){if(t.op==="=="){if(V1(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NAN"}};if(M1(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(V1(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NOT_NAN"}};if(M1(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(t.field),op:u7(t.op),value:t.value}}}(n):n instanceof lt?function(t){const r=t.getFilters().map(i=>w2(i));return r.length===1?r[0]:{compositeFilter:{op:c7(t.op),filters:r}}}(n):we(54877,{filter:n})}function h7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function T2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,i,o=Ie.min(),u=Ie.min(),h=jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.wt=e}}function d7(n,e){let t;if(e.document)t=y2(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=vl(e.noDocument.readTime);t=Et.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=vl(e.unknownDocument.version);t=Et.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Pt(i[0],i[1]);return Ie.fromTimestamp(o)}(e.readTime)),t}function Z1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Vg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:gf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:dc(o,u.version.toTimestamp()),createTime:dc(o,u.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:_l(e.version)};else{if(!e.isUnknownDocument())return we(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:_l(e.version)}}return r}function Vg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _l(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vl(n){const e=new Pt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function Xo(n,e){const t=(e.baseMutations||[]).map(o=>xb(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>xb(n.wt,o)),i=Pt.fromMillis(e.localWriteTimeMs);return new ow(e.batchId,i,t,r)}function Dd(n){const e=vl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?vl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){const u=o.documents.length;return Ae(u===1,1966,{count:u}),Zn(kc(m2(o.documents[0])))}(n.query):function(o){return Zn(b2(o))}(n.query),new Os(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,jt.fromBase64String(n.resumeToken))}function A2(n,e){const t=_l(e.snapshotVersion),r=_l(e.lastLimboFreeSnapshotVersion);let i;i=Ng(e.target)?_2(n.wt,e.target):v2(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ml(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dw(n){const e=b2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mg(e,e.limit,"L"):e}function k0(n,e){return new uw(e.largestBatchId,xb(n.wt,e.overlayMutation))}function eC(n,e){const t=e.path.lastSegment();return[n,Hn(e.path.popLast()),t]}function tC(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:_l(r.readTime),documentKey:Hn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{getBundleMetadata(e,t){return nC(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:vl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return nC(e).put(function(i){return{bundleId:i.id,createTime:_l(Xt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return rC(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:dw(o.bundledQuery),readTime:vl(o.readTime)}}(r)})}saveNamedQuery(e,t){return rC(e).put(function(i){return{name:i.name,readTime:_l(Xt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function nC(n){return _n(n,Oy)}function rC(n){return _n(n,Dy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const r=t.uid||"";return new By(e,r)}getOverlay(e,t){return hd(e).get(eC(this.userId,t)).next(r=>r?k0(this.serializer,r):null)}getOverlays(e,t){const r=qi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new uw(t,u);i.push(this.St(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Hn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(hd(e).X(yb,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=qi(),o=Hn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return hd(e).J(yb,u).next(h=>{for(const f of h){const d=k0(this.serializer,f);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=qi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hd(e).te({index:ID,range:h},(f,d,g)=>{const y=k0(this.serializer,d);o.size()<i||y.largestBatchId===u?(o.set(y.getKey(),y),u=y.largestBatchId):g.done()}).next(()=>o)}St(e,t){return hd(e).put(function(i,o,u){const[h,f,d]=eC(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:yf(i.wt,u.mutation)}}(this.serializer,this.userId,t))}}function hd(n){return _n(n,Ny)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{Dt(e){return _n(e,JE)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?jt.fromUint8Array(r):jt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),lf(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Fs(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(zs(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?LD(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Vy(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):we(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;const o=e.fields||{};this.Mt(t,53);const u=oc,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(It(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ve.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Jo.Wt=new Jo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=255;function m7(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function iC(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=m7(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class g7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=t.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const t=this.tn(e),r=iC(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}rn(e){const t=this.tn(e),r=iC(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}sn(){this._n(xu),this._n(255)}an(){this.un(xu),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===xu?(this._n(xu),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===xu?(this.un(xu),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class y7{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class _7{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class dd{constructor(){this.ln=new g7,this.hn=new y7(this.ln),this.Pn=new _7(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}In(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zo(this.indexId,this.documentKey,this.arrayValue,r)}}function Ia(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=sC(n.arrayValue,e.arrayValue),t!==0?t:(t=sC(n.directionalValue,e.directionalValue),t!==0?t:ve.comparator(n.documentKey,e.documentKey)))}function sC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.En=new ut((t,r)=>Ct.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const r=t;r.isInequality()?this.En=this.En.add(r):this.An.push(r)}}get Rn(){return this.En.size>1}Vn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=pb(e);if(t!==void 0&&!this.mn(t))return!1;const r=Wo(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.mn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.En.size>0){const h=this.En.getIterator().getNext();if(!i.has(h.field.canonicalString())){const f=r[o];if(!this.fn(h,f)||!this.gn(this.dn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.dn.length||!this.gn(this.dn[u++],h))return!1}return!0}pn(){if(this.Rn)return null;let e=new ut(Ct.comparator);const t=[];for(const r of this.An)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Zm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Zm(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Zm(r.field,r.dir==="asc"?0:1)));return new Rg(Rg.UNKNOWN_ID,this.collectionId,t,of.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(n){var e,t;if(Ae(n instanceof Ge||n instanceof lt,20012),n instanceof Ge){if(n instanceof GD){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Ge.create(n.field,"==",o)))||[];return lt.create(i,"or")}return n}const r=n.filters.map(i=>I2(i));return lt.create(r,n.op)}function v7(n){if(n.getFilters().length===0)return[];const e=Db(I2(n));return Ae(R2(e),7391),Pb(e)||Ob(e)?[e]:e.getFilters()}function Pb(n){return n instanceof Ge}function Ob(n){return n instanceof lt&&nw(n)}function R2(n){return Pb(n)||Ob(n)||function(t){if(t instanceof lt&&wb(t)){for(const r of t.getFilters())if(!Pb(r)&&!Ob(r))return!1;return!0}return!1}(n)}function Db(n){if(Ae(n instanceof Ge||n instanceof lt,34018),n instanceof Ge)return n;if(n.filters.length===1)return Db(n.filters[0]);const e=n.filters.map(r=>Db(r));let t=lt.create(e,n.op);return t=Lg(t),R2(t)?t:(Ae(t instanceof lt,64498),Ae(uc(t),40251),Ae(t.filters.length>1,57927),t.filters.reduce((r,i)=>fw(r,i)))}function fw(n,e){let t;return Ae(n instanceof Ge||n instanceof lt,38388),Ae(e instanceof Ge||e instanceof lt,25473),t=n instanceof Ge?e instanceof Ge?function(i,o){return lt.create([i,o],"and")}(n,e):oC(n,e):e instanceof Ge?oC(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0,48005),uc(i)&&uc(o))return qD(i,o.getFilters());const u=wb(i)?i:o,h=wb(i)?o:i,f=u.filters.map(d=>fw(d,h));return lt.create(f,"or")}(n,e),Lg(t)}function oC(n,e){if(uc(e))return qD(e,n.getFilters());{const t=e.filters.map(r=>fw(n,r));return lt.create(t,"or")}}function Lg(n){if(Ae(n instanceof Ge||n instanceof lt,11850),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return Lg(e[0]);if(zD(n))return n;const t=e.map(i=>Lg(i)),r=[];return t.forEach(i=>{i instanceof Ge?r.push(i):i instanceof lt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:lt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.yn=new pw}addToCollectionParentIndex(e,t){return this.yn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Pr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class pw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="IndexedDbIndexManager",Nm=new Uint8Array(0);class E7{constructor(e,t){this.databaseId=t,this.wn=new pw,this.bn=new Ws(r=>ml(r),(r,i)=>qf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.wn.add(t)});const o={collectionId:r,parent:Hn(i)};return uC(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[pD(t),""],!1,!0);return uC(e).J(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(ji(u.parent))}return r})}addFieldIndex(e,t){const r=fd(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Ou(e);return o.next(h=>{u.put(tC(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=fd(e),i=Ou(e),o=Pu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=fd(e),r=Pu(e),i=Ou(e);return t.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,t){return X.forEach(this.Sn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new aC(r).pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Pu(e);let i=!0;const o=new Map;return X.forEach(this.Sn(t),u=>this.Dn(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Ve();const h=[];return X.forEach(o,(f,d)=>{pe(lC,`Using index ${function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`}(f)} to execute ${ml(t)}`);const g=function(V,H){const F=pb(H);if(F===void 0)return null;for(const $ of kg(V,F.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null}(d,f),y=function(V,H){const F=new Map;for(const $ of Wo(H))for(const M of kg(V,$.fieldPath))switch(M.op){case"==":case"in":F.set($.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return F.set($.fieldPath.canonicalString(),M.value),Array.from(F.values())}return null}(d,f),v=function(V,H){const F=[];let $=!0;for(const M of Wo(H)){const R=M.kind===0?z1(V,M.fieldPath,V.startAt):j1(V,M.fieldPath,V.startAt);F.push(R.value),$&&($=R.inclusive)}return new Xa(F,$)}(d,f),w=function(V,H){const F=[];let $=!0;for(const M of Wo(H)){const R=M.kind===0?j1(V,M.fieldPath,V.endAt):z1(V,M.fieldPath,V.endAt);F.push(R.value),$&&($=R.inclusive)}return new Xa(F,$)}(d,f),E=this.vn(f,d,v),A=this.vn(f,d,w),P=this.Cn(f,d,y),U=this.Fn(f.indexId,g,E,v.inclusive,A,w.inclusive,P);return X.forEach(U,L=>r.Z(L,t.limit).next(V=>{V.forEach(H=>{const F=ve.fromSegments(H.documentKey);u.has(F)||(u=u.add(F),h.push(F))})}))}).next(()=>h)}return X.resolve(null)})}Sn(e){let t=this.bn.get(e);return t||(e.filters.length===0?t=[e]:t=v7(lt.create(e.filters,"and")).map(r=>Sb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.bn.set(e,t),t)}Fn(e,t,r,i,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let y=0;y<f;++y){const v=t?this.Mn(t[y/d]):Nm,w=this.xn(e,v,r[y%d],i),E=this.On(e,v,o[y%d],u),A=h.map(P=>this.xn(e,v,P,!0));g.push(...this.createRange(w,E,A))}return g}xn(e,t,r,i){const o=new Zo(e,ve.empty(),t,r);return i?o:o.In()}On(e,t,r,i){const o=new Zo(e,ve.empty(),t,r);return i?o.In():o}Dn(e,t){const r=new aC(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.Vn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.Sn(t);return X.forEach(i,o=>this.Dn(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let d=new ut(Ct.comparator),g=!1;for(const y of f.filters)for(const v of y.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:d=d.add(v.field));for(const y of f.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}Nn(e,t){const r=new dd;for(const i of Wo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.Tn(i.kind);Jo.Wt.vt(o,u)}return r.cn()}Mn(e){const t=new dd;return Jo.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const r=new dd;return Jo.Wt.vt(pl(this.databaseId,t),r.Tn(function(o){const u=Wo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.cn()}Cn(e,t,r){if(r===null)return[];let i=[];i.push(new dd);let o=0;for(const u of Wo(e)){const h=r[o++];for(const f of i)if(this.Ln(t,u.fieldPath)&&pf(h))i=this.kn(i,u,h);else{const d=f.Tn(u.kind);Jo.Wt.vt(h,d)}}return this.qn(i)}vn(e,t,r){return this.Cn(e,t,r.position)}qn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}kn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const f=new dd;f.seed(h.cn()),Jo.Wt.vt(u,f.Tn(t.kind)),o.push(f)}return o}Ln(e,t){return!!e.filters.find(r=>r instanceof Ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=fd(e),i=Ou(e);return(t?r.J(gb,IDBKeyRange.bound(t,t)):r.J()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(f=>{u.push(function(g,y){const v=y?new of(y.sequenceNumber,new Pr(vl(y.readTime),new ve(ji(y.documentKey)),y.largestBatchId)):of.empty(),w=g.fields.map(([E,A])=>new Zm(Ct.fromServerFormat(E),A));return new Rg(g.indexId,g.collectionGroup,w,v)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=fd(e),o=Ou(e);return this.Qn(e).next(u=>i.J(gb,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,f=>o.put(tC(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,f=>this.$n(e,i,f).next(d=>{const g=this.Un(o,f);return d.isEqual(g)?X.resolve():this.Kn(e,o,f,d,g)}))))})}Wn(e,t,r,i){return Pu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Bn(r,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,r,i){return Pu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Bn(r,t.key),t.key.path.toArray()])}$n(e,t,r){const i=Pu(e);let o=new ut(Ia);return i.te({index:AD,range:IDBKeyRange.only([r.indexId,this.uid,this.Bn(r,t)])},(u,h)=>{o=o.add(new Zo(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Un(e,t){let r=new ut(Ia);const i=this.Nn(t,e);if(i==null)return r;const o=pb(t);if(o!=null){const u=e.data.field(o.fieldPath);if(pf(u))for(const h of u.arrayValue.values||[])r=r.add(new Zo(t.indexId,e.key,this.Mn(h),i))}else r=r.add(new Zo(t.indexId,e.key,Nm,i));return r}Kn(e,t,r,i,o){pe(lC,"Updating index entries for document '%s'",t.key);const u=[];return function(f,d,g,y,v){const w=f.getIterator(),E=d.getIterator();let A=Cu(w),P=Cu(E);for(;A||P;){let U=!1,L=!1;if(A&&P){const V=g(A,P);V<0?L=!0:V>0&&(U=!0)}else A!=null?L=!0:U=!0;U?(y(P),P=Cu(E)):L?(v(A),A=Cu(w)):(A=Cu(w),P=Cu(E))}}(i,o,Ia,h=>{u.push(this.Wn(e,t,r,h))},h=>{u.push(this.Gn(e,t,r,h))}),X.waitFor(u)}Qn(e){let t=1;return Ou(e).te({index:SD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Ia(u,h)).filter((u,h,f)=>!h||Ia(u,f[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=Ia(u,e),f=Ia(u,t);if(h===0)i[0]=e.In();else if(h>0&&f<0)i.push(u),i.push(u.In());else if(f>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.zn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,Nm,[]],f=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,Nm,[]];o.push(IDBKeyRange.bound(h,f))}return o}zn(e,t){return Ia(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cC)}getMinOffset(e,t){return X.mapArray(this.Sn(t),r=>this.Dn(e,r).next(i=>i||we(44426))).next(cC)}}function uC(n){return _n(n,hf)}function Pu(n){return _n(n,Dg)}function fd(n){return _n(n,XE)}function Ou(n){return _n(n,Og)}function cC(n){Ae(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;WE(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Pr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C2=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n,e,t){const r=n.store(ai),i=n.store(rc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.te({range:u},(g,y,v)=>(h++,v.delete()));o.push(f.next(()=>{Ae(h===1,47070,{batchId:t.batchId})}));const d=[];for(const g of t.mutations){const y=ED(e,g.key.path,t.batchId);o.push(i.delete(y)),d.push(g.key)}return X.waitFor(o).next(()=>d)}function Ug(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(C2,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Fy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.jn={}}static bt(e,t,r,i){Ae(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Fy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ra(e).te({index:rl,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Lu(e),u=Ra(e);return u.add({}).next(h=>{Ae(typeof h=="number",49019);const f=new ow(h,t,r,i),d=function(w,E,A){const P=A.baseMutations.map(L=>yf(w.wt,L)),U=A.mutations.map(L=>yf(w.wt,L));return{userId:E,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:P,mutations:U}}(this.serializer,this.userId,f),g=[];let y=new ut((v,w)=>De(v.canonicalString(),w.canonicalString()));for(const v of i){const w=ED(this.userId,v.key.path,h);y=y.add(v.key.path.popLast()),g.push(u.put(d)),g.push(o.put(w,tq))}return y.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.jn[h]=f.keys()}),X.waitFor(g).next(()=>f)})}lookupMutationBatch(e,t){return Ra(e).get(t).next(r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Xo(this.serializer,r)):null)}Hn(e,t){return this.jn[t]?X.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.jn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ra(e).te({index:rl,range:i},(u,h,f)=>{h.userId===this.userId&&(Ae(h.batchId>=r,47524,{Jn:r}),o=Xo(this.serializer,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ba;return Ra(e).te({index:rl,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ba],[this.userId,Number.POSITIVE_INFINITY]);return Ra(e).J(rl,t).next(r=>r.map(i=>Xo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=eg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Lu(e).te({range:i},(u,h,f)=>{const[d,g,y]=u,v=ji(g);if(d===this.userId&&t.path.isEqual(v))return Ra(e).get(y).next(w=>{if(!w)throw we(61480,{Yn:u,batchId:y});Ae(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:y}),o.push(Xo(this.serializer,w))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);const i=[];return t.forEach(o=>{const u=eg(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=Lu(e).te({range:h},(d,g,y)=>{const[v,w,E]=d,A=ji(w);v===this.userId&&o.path.isEqual(A)?r=r.add(E):y.done()});i.push(f)}),X.waitFor(i).next(()=>this.Zn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=eg(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ut(De);return Lu(e).te({range:u},(f,d,g)=>{const[y,v,w]=f,E=ji(v);y===this.userId&&r.isPrefixOf(E)?E.length===i&&(h=h.add(w)):g.done()}).next(()=>this.Zn(e,h))}Zn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Ra(e).get(o).next(u=>{if(u===null)throw we(35274,{batchId:o});Ae(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(Xo(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return x2(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Xn(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Lu(e).te({range:r},(o,u,h)=>{if(o[0]===this.userId){const f=ji(o[1]);i.push(f)}else h.done()}).next(()=>{Ae(i.length===0,56720,{er:i.map(o=>o.canonicalString())})})})}containsKey(e,t){return P2(e,this.userId,t)}tr(e){return O2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ba,lastStreamToken:""})}}function P2(n,e,t){const r=eg(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Lu(n).te({range:o,ee:!0},(h,f,d)=>{const[g,y,v]=h;g===e&&y===i&&(u=!0),d.done()}).next(()=>u)}function Ra(n){return _n(n,ai)}function Lu(n){return _n(n,rc)}function O2(n){return _n(n,uf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new bl(0)}static ir(){return new bl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next(t=>{const r=new bl(t.highestTargetId);return t.highestTargetId=r.next(),this._r(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.sr(e).next(t=>Ie.fromTimestamp(new Pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.sr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.sr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this._r(e,i)))}addTargetData(e,t){return this.ar(e,t).next(()=>this.sr(e).next(r=>(r.targetCount+=1,this.ur(t,r),this._r(e,r))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Du(e).delete(t.targetId)).next(()=>this.sr(e)).next(r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this._r(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Du(e).te((u,h)=>{const f=Dd(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(i++,o.push(this.removeTargetData(e,f)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Du(e).te((r,i)=>{const o=Dd(i);t(o)})}sr(e){return dC(e).get(Pg).next(t=>(Ae(t!==null,2888),t))}_r(e,t){return dC(e).put(Pg,t)}ar(e,t){return Du(e).put(A2(this.serializer,t))}ur(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.sr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ml(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Du(e).te({range:i,index:TD},(u,h,f)=>{const d=Dd(h);qf(t,d.target)&&(o=d,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Da(e);return t.forEach(u=>{const h=Hn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=Da(e);return X.forEach(t,o=>{const u=Hn(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Da(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Da(e);let o=Ve();return i.te({range:r,ee:!0},(u,h,f)=>{const d=ji(u[1]),g=new ve(d);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Hn(t.path),i=IDBKeyRange.bound([r],[pD(r)],!1,!0);let o=0;return Da(e).te({index:YE,ee:!0,range:i},([u,h],f,d)=>{u!==0&&(o++,d.done())}).next(()=>o>0)}Rt(e,t){return Du(e).get(t).next(r=>r?Dd(r):null)}}function Du(n){return _n(n,ic)}function dC(n){return _n(n,cl)}function Da(n){return _n(n,sc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="LruGarbageCollector",T7=1048576;function pC([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class S7{constructor(e){this.cr=e,this.buffer=new ut(pC),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class D2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe(fC,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ao(t)?pe(fC,"Ignoring IndexedDB error during garbage collection: ",t):await so(t)}await this.Ir(3e5)})}}class A7{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(or.le);const r=new S7(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(hC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hC):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,u=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,h=Date.now(),this.removeTargets(e,r,t))).next(y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),Nu()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${y} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function N2(n,e){return new A7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,t){this.db=e,this.garbageCollector=N2(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,(r,i)=>t(i))}addReference(e,t,r){return km(e,r)}removeReference(e,t,r){return km(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return km(e,t)}gr(e,t){return function(i,o){let u=!1;return O2(i).ne(h=>P2(i,h,o).next(f=>(f&&(u=!0),X.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.mr(e,(u,h)=>{if(h<=t){const f=this.gr(e,u).next(d=>{if(!d)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ie.min()),Da(e).delete(function(y){return[0,Hn(y.path)]}(u))))});i.push(f)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return km(e,t)}mr(e,t){const r=Da(e);let i,o=or.le;return r.te({index:YE},([u,h],{path:f,sequenceNumber:d})=>{u===0?(o!==or.le&&t(new ve(ji(i)),o),o=d,i=f):o=or.le}).next(()=>{o!==or.le&&t(new ve(ji(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function km(n,e){return Da(n).put(function(r,i){return{targetId:0,path:Hn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.changes=new Ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Go(e).put(r)}removeEntry(e,t,r){return Go(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Vg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.pr(e,r)))}getEntry(e,t){let r=Et.newInvalidDocument(t);return Go(e).te({index:tg,range:IDBKeyRange.only(pd(t))},(i,o)=>{r=this.yr(t,o)}).next(()=>r)}wr(e,t){let r={size:0,document:Et.newInvalidDocument(t)};return Go(e).te({index:tg,range:IDBKeyRange.only(pd(t))},(i,o)=>{r={document:this.yr(t,o),size:Ug(o)}}).next(()=>r)}getEntries(e,t){let r=ur();return this.br(e,t,(i,o)=>{const u=this.yr(i,o);r=r.insert(i,u)}).next(()=>r)}Sr(e,t){let r=ur(),i=new bt(ve.comparator);return this.br(e,t,(o,u)=>{const h=this.yr(o,u);r=r.insert(o,h),i=i.insert(o,Ug(u))}).next(()=>({documents:r,Dr:i}))}br(e,t,r){if(t.isEmpty())return X.resolve();let i=new ut(yC);t.forEach(f=>i=i.add(f));const o=IDBKeyRange.bound(pd(i.first()),pd(i.last())),u=i.getIterator();let h=u.getNext();return Go(e).te({index:tg,range:o},(f,d,g)=>{const y=ve.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;h&&yC(h,y)<0;)r(h,null),h=u.getNext();h&&h.isEqual(y)&&(r(h,d),h=u.hasNext()?u.getNext():null),h?g.H(pd(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Vg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Go(e).J(IDBKeyRange.bound(h,f,!0)).next(d=>{o==null||o.incrementDocumentReadCount(d.length);let g=ur();for(const y of d){const v=this.yr(ve.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);v.isFoundDocument()&&($f(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=ur();const u=gC(t,r),h=gC(t,Pr.max());return Go(e).te({index:wD,range:IDBKeyRange.bound(u,h,!0)},(f,d,g)=>{const y=this.yr(ve.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(y.key,y),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new C7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return mC(e).get(mb).next(t=>(Ae(!!t,20021),t))}pr(e,t){return mC(e).put(mb,t)}yr(e,t){if(t){const r=d7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return Et.newInvalidDocument(e)}}function M2(n){return new R7(n)}class C7 extends k2{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new Ws(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ut((o,u)=>De(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Cr.get(o);if(t.push(this.vr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=Z1(this.vr.serializer,u);i=i.add(o.path.popLast());const d=Ug(f);r+=d-h.size,t.push(this.vr.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=Z1(this.vr.serializer,u.convertToNoDocument(Ie.min()));t.push(this.vr.addEntry(e,o,f))}}),i.forEach(o=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.vr.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next(r=>(this.Cr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.vr.Sr(e,t).next(({documents:r,Dr:i})=>(i.forEach((o,u)=>{this.Cr.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function mC(n){return _n(n,cf)}function Go(n){return _n(n,xg)}function pd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gC(n,e){const t=e.documentKey.path.toArray();return[n,Vg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function yC(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Hd(r.mutation,i,lr.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Pd();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=ur();const u=qd(),h=function(){return qd()}();return t.forEach((f,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Qs)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Hd(g.mutation,d,g.mutation.getFieldMask(),Pt.now())):u.set(d.key,lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,g)=>u.set(d,g)),t.forEach((d,g)=>{var y;return h.set(d,new x7(g,(y=u.get(d))!==null&&y!==void 0?y:null))}),h))}recalculateAndSaveOverlays(e,t){const r=qd();let i=new bt((u,h)=>u-h),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||lr.empty();g=h.applyToLocalView(d,g),r.set(f,g);const y=(i.get(h.batchId)||Ve()).add(f);i=i.insert(h.batchId,y)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,y=ZD();g.forEach(v=>{if(!o.has(v)){const w=a2(t.get(v),r.get(v));w!==null&&y.set(v,w),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,y))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(qi());let h=nc,f=o;return u.next(d=>X.forEach(d,(g,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{f=f.insert(g,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Ve())).next(g=>({batchId:h,changes:JD(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=Pd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Pd();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,f=>{const d=function(y,v){return new Ks(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((y,v)=>{u=u.insert(y,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Et.newInvalidDocument(g)))});let h=Pd();return u.forEach((f,d)=>{const g=o.get(f);g!==void 0&&Hd(g.mutation,d,lr.empty(),Pt.now()),$f(t,d)&&(h=h.insert(f,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return X.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:dw(i.bundledQuery),readTime:Xt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(){this.overlays=new bt(ve.comparator),this.Or=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=qi(),o=t.length+1,u=new ve(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new bt((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=qi(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=qi(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=i)););return X.resolve(h)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new uw(t,r));let o=this.Or.get(t);o===void 0&&(o=Ve(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.Nr=new ut(Sn.Br),this.Lr=new ut(Sn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Sn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new ve(new $e([])),r=new Sn(t,e),i=new Sn(t,e+1),o=[];return this.Lr.forEachInRange([r,i],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ve(new $e([])),r=new Sn(t,e),i=new Sn(t,e+1);let o=Ve();return this.Lr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Sn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ve.comparator(e.key,t.key)||De(e.Gr,t.Gr)}static kr(e,t){return De(e.Gr,t.Gr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new ut(Sn.Br)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ow(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.zr=this.zr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ba:this.Jn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),i=new Sn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],u=>{const h=this.jr(u.Gr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);return t.forEach(i=>{const o=new Sn(i,0),u=new Sn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{r=r.add(h.Gr)})}),X.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new ve(o),0);let h=new ut(De);return this.zr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(h=h.add(f.Gr)),!0)},u),X.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return X.forEach(t.mutations,i=>{const o=new Sn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Sn(t,0),i=this.zr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e){this.Zr=e,this.docs=function(){return new bt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(t))}getEntries(e,t){let r=ur();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Et.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ur();const u=t.path,h=new ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||WE(gD(g),r)<=0||(i.has(g.key)||$f(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we(9500)}Xr(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new M7(this)}getSize(e){return X.resolve(this.size)}}class M7 extends k2{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.persistence=e,this.ei=new Ws(t=>ml(t),qf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ti=0,this.ni=new mw,this.targetCount=0,this.ri=bl.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),X.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new bl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.ar(t),X.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t){this.ii={},this.overlays={},this.si=new or(0),this.oi=!1,this.oi=!0,this._i=new D7,this.referenceDelegate=e(this),this.ai=new V7(this),this.indexManager=new b7,this.remoteDocumentCache=function(i){return new k7(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new S2(t),this.ci=new P7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new N7(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new L7(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return X.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class L7 extends _D{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Ti=new mw,this.Ii=null}static Ei(e){return new zy(e)}get di(){if(this.Ii)return this.Ii;throw we(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,r=>{const i=ve.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return X.or([()=>X.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Bg{constructor(e,t){this.persistence=e,this.Ri=new Ws(r=>Hn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=N2(this,t)}static Ei(e,t){return new Bg(e,t)}li(){}hi(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return X.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,u=>this.gr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),X.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rg(e.data.value)),t}gr(e,t,r){return X.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.serializer=e}q(e,t,r,i){const o=new Py("createOrUpgrade",t);r<1&&i>=1&&(function(f){f.createObjectStore(jf)}(e),function(f){f.createObjectStore(uf,{keyPath:eq}),f.createObjectStore(ai,{keyPath:x1,autoIncrement:!0}).createIndex(rl,P1,{unique:!0}),f.createObjectStore(rc)}(e),_C(e),function(f){f.createObjectStore(Qo)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(f){f.deleteObjectStore(sc),f.deleteObjectStore(ic),f.deleteObjectStore(cl)}(e),_C(e)),u=u.next(()=>function(f){const d=f.store(cl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return d.put(Pg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(f,d){return d.store(ai).J().next(y=>{f.deleteObjectStore(ai),f.createObjectStore(ai,{keyPath:x1,autoIncrement:!0}).createIndex(rl,P1,{unique:!0});const v=d.store(ai),w=y.map(E=>v.put(E));return X.waitFor(w)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(ac,{keyPath:uq})})(e)})),r<5&&i>=5&&(u=u.next(()=>this.Vi(o))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore(cf)}(e),this.mi(o)))),r<7&&i>=7&&(u=u.next(()=>this.fi(o))),r<8&&i>=8&&(u=u.next(()=>this.gi(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.pi(o))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(Oy,{keyPath:cq})})(e),function(f){f.createObjectStore(Dy,{keyPath:hq})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(f){const d=f.createObjectStore(Ny,{keyPath:_q});d.createIndex(yb,vq,{unique:!1}),d.createIndex(ID,bq,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const d=f.createObjectStore(xg,{keyPath:nq});d.createIndex(tg,rq),d.createIndex(wD,iq)}(e)).next(()=>this.yi(e,o)).next(()=>e.deleteObjectStore(Qo))),r<14&&i>=14&&(u=u.next(()=>this.wi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore(XE,{keyPath:dq,autoIncrement:!0}).createIndex(gb,fq,{unique:!1}),f.createObjectStore(Og,{keyPath:pq}).createIndex(SD,mq,{unique:!1}),f.createObjectStore(Dg,{keyPath:gq}).createIndex(AD,yq,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(Og).clear()}).next(()=>{t.objectStore(Dg).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(JE,{keyPath:Eq})})(e)})),u}mi(e){let t=0;return e.store(Qo).te((r,i)=>{t+=Ug(i)}).next(()=>{const r={byteSize:t};return e.store(cf).put(mb,r)})}Vi(e){const t=e.store(uf),r=e.store(ai);return t.J().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,Ba],[o.userId,o.lastAcknowledgedBatchId]);return r.J(rl,u).next(h=>X.forEach(h,f=>{Ae(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=Xo(this.serializer,f);return x2(e,o.userId,d).next(()=>{})}))}))}fi(e){const t=e.store(sc),r=e.store(Qo);return e.store(cl).get(Pg).next(i=>{const o=[];return r.te((u,h)=>{const f=new $e(u),d=function(y){return[0,Hn(y)]}(f);o.push(t.get(d).next(g=>g?X.resolve():(y=>t.put({targetId:0,path:Hn(y),sequenceNumber:i.highestListenSequenceNumber}))(f)))}).next(()=>X.waitFor(o))})}gi(e,t){e.createObjectStore(hf,{keyPath:lq});const r=t.store(hf),i=new pw,o=u=>{if(i.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Hn(f)})}};return t.store(Qo).te({ee:!0},(u,h)=>{const f=new $e(u);return o(f.popLast())}).next(()=>t.store(rc).te({ee:!0},([u,h,f],d)=>{const g=ji(h);return o(g.popLast())}))}pi(e){const t=e.store(ic);return t.te((r,i)=>{const o=Dd(i),u=A2(this.serializer,o);return t.put(u)})}yi(e,t){const r=t.store(Qo),i=[];return r.te((o,u)=>{const h=t.store(xg),f=function(y){return y.document?new ve($e.fromString(y.document.name).popFirst(5)):y.noDocument?ve.fromSegments(y.noDocument.path):y.unknownDocument?ve.fromSegments(y.unknownDocument.path):we(36783)}(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(d))}).next(()=>X.waitFor(i))}wi(e,t){const r=t.store(ai),i=M2(this.serializer),o=new gw(zy.Ei,this.serializer.wt);return r.J().next(u=>{const h=new Map;return u.forEach(f=>{var d;let g=(d=h.get(f.userId))!==null&&d!==void 0?d:Ve();Xo(this.serializer,f).keys().forEach(y=>g=g.add(y)),h.set(f.userId,g)}),X.forEach(h,(f,d)=>{const g=new An(d),y=By.bt(this.serializer,g),v=o.getIndexManager(g),w=Fy.bt(g,this.serializer,v,o.referenceDelegate);return new V2(i,w,y,v).recalculateAndSaveOverlaysForDocumentKeys(new _b(t,or.le),f).next()})})}}function _C(n){n.createObjectStore(sc,{keyPath:aq}).createIndex(YE,oq,{unique:!0}),n.createObjectStore(ic,{keyPath:"targetId"}).createIndex(TD,sq,{unique:!0}),n.createObjectStore(cl)}const Ca="IndexedDbPersistence",M0=18e5,V0=5e3,L0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",L2="main";class yw{constructor(e,t,r,i,o,u,h,f,d,g,y=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.bi=o,this.window=u,this.document=h,this.Si=d,this.Di=g,this.Ci=y,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=v=>Promise.resolve(),!yw.C())throw new fe(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new I7(this,i),this.Bi=t+L2,this.serializer=new S2(f),this.Li=new $i(this.Bi,this.Ci,new U7(this.serializer)),this._i=new p7,this.ai=new w7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=M2(this.serializer),this.ci=new f7,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,g===!1&&Yt(Ca,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,L0);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ai.getHighestSequenceNumber(e))}).then(e=>{this.si=new or(e,this.Si)}).then(()=>{this.oi=!0}).catch(e=>(this.Li&&this.Li.close(),Promise.reject(e)))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(e).next(t=>{t||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(e)).next(t=>this.isPrimary&&!t?this.zi(e).next(()=>!1):!!t&&this.ji(e).next(()=>!0))).catch(e=>{if(ao(e))return pe(Ca,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Ca,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.bi.enqueueRetryable(()=>this.Ni(e)),this.isPrimary=e})}Wi(e){return md(e).get(Ru).next(t=>X.resolve(this.Hi(t)))}Ji(e){return Mm(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,M0)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=_n(t,ac);return r.J().next(i=>{const o=this.Xi(i,M0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?X.resolve(!0):md(e).get(Ru).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,V0)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,L0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mm(e).J().next(r=>this.Xi(r,V0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(Ca,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[jf,ac],e=>{const t=new _b(e,or.le);return this.zi(t).next(()=>this.Ji(t))}),this.Li.close(),this._s()}Xi(e,t){return e.filter(r=>this.Zi(r.updateTimeMs,t)&&!this.ts(r.clientId))}us(){return this.runTransaction("getActiveClients","readonly",e=>Mm(e).J().next(t=>this.Xi(t,M0).map(r=>r.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return Fy.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new E7(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return By.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,r){pe(Ca,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(f){return f===17?Sq:f===16?Tq:f===15?ZE:f===14?xD:f===13?CD:f===12?wq:f===11?RD:void we(60245)}(this.Ci);let u;return this.Li.runTransaction(e,i,o,h=>(u=new _b(h,this.si?this.si.next():or.le),t==="readwrite-primary"?this.Wi(u).next(f=>!!f||this.Gi(u)).next(f=>{if(!f)throw Yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new fe(ie.FAILED_PRECONDITION,yD);return r(u)}).next(f=>this.ji(u).next(()=>f)):this.cs(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}cs(e){return md(e).get(Ru).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,V0)&&!this.ts(t.ownerId)&&!this.Hi(t)&&!(this.Di||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fe(ie.FAILED_PRECONDITION,L0)})}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return md(e).put(Ru,t)}static C(){return $i.C()}zi(e){const t=md(e);return t.get(Ru).next(r=>this.Hi(r)?(pe(Ca,"Releasing primary lease."),t.delete(Ru)):X.resolve())}Zi(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Yt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const t=/(?:Version|Mobile)\/1[456]/;QP()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const r=((t=this.ki)===null||t===void 0?void 0:t.getItem(this.es(e)))!==null;return pe(Ca,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Yt(Ca,"Failed to get zombied client id.",r),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function md(n){return _n(n,jf)}function Mm(n){return _n(n,ac)}function _w(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new vw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return QP()?8:vD(Vt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new B7;return this.fs(e,t,u).next(h=>{if(o.result=h,this.Is)return this.gs(e,t,u,h.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Nu()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ku(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),X.resolve()):(Nu()<=He.DEBUG&&pe("QueryEngine","Query:",ku(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Nu()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ku(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):X.resolve())}Rs(e,t){if(q1(t))return X.resolve(null);let r=Zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Mg(t,null,"F"),r=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.ps(t,h);return this.ys(t,d,u,f.readTime)?this.Rs(e,Mg(t,null,"F")):this.ws(e,d,t,f)}))})))}Vs(e,t,r,i){return q1(t)||i.isEqual(Ie.min())?X.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,i)?X.resolve(null):(Nu()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(t)),this.ws(e,u,t,mD(i,nc)).next(h=>h))})}ps(e,t){let r=new ut(YD(e));return t.forEach((i,o)=>{$f(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return Nu()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ku(t)),this.As.getDocumentsMatchingQuery(e,t,Pr.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="LocalStore",F7=3e8;class z7{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new bt(De),this.Ds=new Ws(o=>ml(o),qf),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function B2(n,e,t,r){return new z7(n,e,t,r)}async function F2(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=Ve();for(const d of i){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(d=>({Ms:d,removedBatchIds:u,addedBatchIds:h}))})})}function j7(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,d,g){const y=d.batch,v=y.keys();let w=X.resolve();return v.forEach(E=>{w=w.next(()=>g.getEntry(f,E)).next(A=>{const P=d.docVersions.get(E);Ae(P!==null,48541),A.version.compareTo(P)<0&&(y.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(f,y))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ve();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function z2(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function q7(n,e){const t=be(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const h=[];e.targetChanges.forEach((g,y)=>{const v=i.get(y);if(!v)return;h.push(t.ai.removeMatchingKeys(o,g.removedDocuments,y).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,y)));let w=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(jt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),i=i.insert(y,w),function(A,P,U){return A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=F7?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(v,w,g)&&h.push(t.ai.updateTargetData(o,w))});let f=ur(),d=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(j2(o,u,e.documentUpdates).next(g=>{f=g.xs,d=g.Os})),!r.isEqual(Ie.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(y=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(t.Ss=i,o))}function j2(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=ur();return t.forEach((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):pe(bw,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)}),{xs:u,Os:i}})}function H7(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ba),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fc(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.ai.allocateTargetId(r).next(u=>(i=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function pc(n,e,t){const r=be(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!ao(u))throw u;pe(bw,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function Fg(n,e,t){const r=be(n);let i=Ie.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const y=be(f),v=y.Ds.get(g);return v!==void 0?X.resolve(y.Ss.get(v)):y.ai.getTargetData(d,g)}(r,u,Zn(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?i:Ie.min(),t?o:Ve())).next(h=>($2(r,QD(e),h),{documents:h,Ns:o})))}function q2(n,e){const t=be(n),r=be(t.ai),i=t.Ss.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Rt(o,e).next(u=>u?u.target:null))}function H2(n,e){const t=be(n),r=t.vs.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Cs.getAllFromCollectionGroup(i,e,mD(r,nc),Number.MAX_SAFE_INTEGER)).then(i=>($2(t,e,i),i))}function $2(n,e,t){let r=n.vs.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}async function $7(n,e,t,r){const i=be(n);let o=Ve(),u=ur();for(const d of t){const g=e.Bs(d.metadata.name);d.document&&(o=o.add(g));const y=e.Ls(d);y.setReadTime(e.ks(d.metadata.readTime)),u=u.insert(g,y)}const h=i.Cs.newChangeBuffer({trackRemovals:!0}),f=await fc(i,function(g){return Zn(kc($e.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>j2(d,h,u).next(g=>(h.apply(d),g)).next(g=>i.ai.removeMatchingKeysForTargetId(d,f.targetId).next(()=>i.ai.addMatchingKeys(d,o,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,g.xs,g.Os)).next(()=>g.xs)))}async function G7(n,e,t=Ve()){const r=await fc(n,Zn(dw(e.bundledQuery))),i=be(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Xt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.ci.saveNamedQuery(o,e);const h=r.withResumeToken(jt.EMPTY_BYTE_STRING,u);return i.Ss=i.Ss.insert(h.targetId,h),i.ai.updateTargetData(o,h).next(()=>i.ai.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.ai.addMatchingKeys(o,t,r.targetId)).next(()=>i.ci.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firestore_clients";function vC(n,e){return`${G2}_${n}_${e}`}const K2="firestore_mutations";function bC(n,e,t){let r=`${K2}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const W2="firestore_targets";function U0(n,e){return`${W2}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="SharedClientState";class zg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static qs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new fe(i.error.code,i.error.message))),u?new zg(e,t,i.state,o):(Yt(Vi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $d{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static qs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new fe(r.error.code,r.error.message))),o?new $d(e,r.state,i):(Yt(Vi,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=iw();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=bD(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new jg(e,o):(Yt(Vi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ew{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Ew(t.clientId,t.onlineState):(Yt(Vi,`Failed to parse online state: ${e}`),null)}}class Nb{constructor(){this.activeTargetIds=iw()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B0{constructor(e,t,r,i,o){this.window=e,this.bi=t,this.persistenceKey=r,this.Ks=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new bt(De),this.started=!1,this.js=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Hs=vC(this.persistenceKey,this.Ks),this.Js=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new Nb),this.Ys=new RegExp(`^${G2}_${u}_([^_]*)$`),this.Zs=new RegExp(`^${K2}_${u}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${W2}_${u}_(\\d+)$`),this.eo=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.no=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.us();for(const r of e){if(r===this.Ks)continue;const i=this.getItem(vC(this.persistenceKey,r));if(i){const o=jg.qs(r,i);o&&(this.zs=this.zs.insert(o.clientId,o))}}this.ro();const t=this.storage.getItem(this.eo);if(t){const r=this.io(t);r&&this.so(r)}for(const r of this.js)this.Gs(r);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,r){this._o(e,t,r),this.ao(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(U0(this.persistenceKey,e));if(i){const o=$d.qs(e,i);o&&(r=o.state)}}return t&&this.uo.$s(e),this.ro(),r}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(U0(this.persistenceKey,e))}updateQueryState(e,t,r){this.co(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.ao(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Vi,"READ",e,t),t}setItem(e,t){pe(Vi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Vi,"REMOVE",e),this.storage.removeItem(e)}Gs(e){const t=e;if(t.storageArea===this.storage){if(pe(Vi,"EVENT",t.key,t.newValue),t.key===this.Hs)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ys.test(t.key)){if(t.newValue==null){const r=this.Po(t.key);return this.To(r,null)}{const r=this.Io(t.key,t.newValue);if(r)return this.To(r.clientId,r)}}else if(this.Zs.test(t.key)){if(t.newValue!==null){const r=this.Eo(t.key,t.newValue);if(r)return this.Ao(r)}}else if(this.Xs.test(t.key)){if(t.newValue!==null){const r=this.Ro(t.key,t.newValue);if(r)return this.Vo(r)}}else if(t.key===this.eo){if(t.newValue!==null){const r=this.io(t.newValue);if(r)return this.so(r)}}else if(t.key===this.Js){const r=function(o){let u=or.le;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number",30636,{mo:o}),u=h}catch(h){Yt(Vi,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==or.le&&this.sequenceNumberHandler(r)}else if(t.key===this.no){const r=this.fo(t.newValue);await Promise.all(r.map(i=>this.syncEngine.po(i)))}}}else this.js.push(t)})}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,r){const i=new zg(this.currentUser,e,t,r),o=bC(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Qs())}ao(e){const t=bC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){const t={clientId:this.Ks,onlineState:e};this.storage.setItem(this.eo,JSON.stringify(t))}co(e,t,r){const i=U0(this.persistenceKey,e),o=new $d(e,t,r);this.setItem(i,o.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const r=this.Po(e);return jg.qs(r,t)}Eo(e,t){const r=this.Zs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return zg.qs(new An(o),i,t)}Ro(e,t){const r=this.Xs.exec(e),i=Number(r[1]);return $d.qs(i,t)}io(e){return Ew.qs(e)}fo(e){return JSON.parse(e)}async Ao(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.yo(e.batchId,e.state,e.error);pe(Vi,`Ignoring mutation for non-active user ${e.user.uid}`)}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const r=t?this.zs.insert(e,t):this.zs.remove(e),i=this.oo(this.zs),o=this.oo(r),u=[],h=[];return o.forEach(f=>{i.has(f)||u.push(f)}),i.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.bo(u,h).then(()=>{this.zs=r})}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=iw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Q2{constructor(){this.So=new Nb,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Nb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="ConnectivityMonitor";class wC{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(EC,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(EC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm=null;function kb(){return Vm===null?Vm=function(){return 268435456+Math.round(2147483648*Math.random())}():Vm++,"0x"+Vm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="RestConnection",W7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q7{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===vb?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){const u=kb(),h=this.$o(e,t.toUriEncodedString());pe(F0,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,i,o);const{host:d}=new URL(h),g=Nf(d);return this.Ko(e,h,f,r,g).then(y=>(pe(F0,`Received RPC '${e}' ${u}: `,y),y),y=>{throw Yi(F0,`RPC '${e}' ${u} failed with error: `,y,"url: ",h,"request:",r),y})}Wo(e,t,r,i,o,u){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){const r=W7[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class X7 extends Q7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i,o){const u=kb();return new Promise((h,f)=>{const d=new aD;d.setWithCredentials(!0),d.listenOnce(oD.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Jm.NO_ERROR:const y=d.getResponseJson();pe(Fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),h(y);break;case Jm.TIMEOUT:pe(Fn,`RPC '${e}' ${u} timed out`),f(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Jm.HTTP_ERROR:const v=d.getStatus();if(pe(Fn,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const A=function(U){const L=U.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(L)>=0?L:ie.UNKNOWN}(E.status);f(new fe(A,E.message))}else f(new fe(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{s_:e,streamId:u,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{pe(Fn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(i);pe(Fn,`RPC '${e}' ${u} sending request:`,i),d.send(t,"POST",g,r,15)})}a_(e,t,r){const i=kb(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=cD(),h=uD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");pe(Fn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const y=u.createWebChannel(g,f);let v=!1,w=!1;const E=new Y7({Go:P=>{w?pe(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(pe(Fn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),pe(Fn,`RPC '${e}' stream ${i} sending:`,P),y.send(P))},zo:()=>y.close()}),A=(P,U,L)=>{P.listen(U,V=>{try{L(V)}catch(H){setTimeout(()=>{throw H},0)}})};return A(y,xd.EventType.OPEN,()=>{w||(pe(Fn,`RPC '${e}' stream ${i} transport opened.`),E.t_())}),A(y,xd.EventType.CLOSE,()=>{w||(w=!0,pe(Fn,`RPC '${e}' stream ${i} transport closed`),E.r_())}),A(y,xd.EventType.ERROR,P=>{w||(w=!0,Yi(Fn,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),E.r_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))}),A(y,xd.EventType.MESSAGE,P=>{var U;if(!w){const L=P.data[0];Ae(!!L,16349);const V=L,H=(V==null?void 0:V.error)||((U=V[0])===null||U===void 0?void 0:U.error);if(H){pe(Fn,`RPC '${e}' stream ${i} received error:`,H);const F=H.status;let $=function(x){const T=on[x];if(T!==void 0)return u2(T)}(F),M=H.message;$===void 0&&($=ie.INTERNAL,M="Unknown error status: "+F+" with message "+H.message),w=!0,E.r_(new fe($,M)),y.close()}else pe(Fn,`RPC '${e}' stream ${i} received:`,L),E.i_(L)}}),A(h,lD.STAT_EVENT,P=>{P.stat===db.PROXY?pe(Fn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===db.NOPROXY&&pe(Fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.n_()},0),E}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){return typeof window<"u"?window:null}function og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n){return new n7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="PersistentStream";class X2{constructor(e,t,r,i,o,u,h,f){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new ww(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Yt(t.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(TC,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(pe(TC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J7 extends X2{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=s7(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Xt(u.readTime):Ie.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Cb(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=Ng(f)?{documents:_2(o,f)}:{query:v2(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=d2(o,u.resumeToken);const d=Ib(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=dc(o,u.snapshotVersion.toTimestamp());const d=Ib(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,e);const r=o7(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Cb(this.serializer),t.removeTarget=e,this.F_(t)}}class Z7 extends X2{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=a7(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Cb(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>yf(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{}class tH extends eH{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,Rb(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Rb(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class nH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Yt(t),this.ea=!1):pe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class rH{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{lo(this)&&(pe(El,"Restarting streams for network reachability change."),await async function(f){const d=be(f);d.aa.add(4),await Lc(d),d.la.set("Unknown"),d.aa.delete(4),await Yf(d)}(this))})}),this.la=new nH(r,i)}}async function Yf(n){if(lo(n))for(const e of n.ua)await e(!0)}async function Lc(n){for(const e of n.ua)await e(!1)}function jy(n,e){const t=be(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Aw(t)?Sw(t):Bc(t).b_()&&Tw(t,e))}function mc(n,e){const t=be(n),r=Bc(t);t._a.delete(e),r.b_()&&J2(t,e),t._a.size===0&&(r.b_()?r.v_():lo(t)&&t.la.set("Unknown"))}function Tw(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bc(n).U_(e)}function J2(n,e){n.ha.Ke(e),Bc(n).K_(e)}function Sw(n){n.ha=new Jq({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Bc(n).start(),n.la.ta()}function Aw(n){return lo(n)&&!Bc(n).w_()&&n._a.size>0}function lo(n){return be(n).aa.size===0}function Z2(n){n.ha=void 0}async function iH(n){n.la.set("Online")}async function sH(n){n._a.forEach((e,t)=>{Tw(n,e)})}async function aH(n,e){Z2(n),Aw(n)?(n.la.ia(e),Sw(n)):n.la.set("Unknown")}async function oH(n,e,t){if(n.la.set("Online"),e instanceof h2&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i._a.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i._a.delete(h),i.ha.removeTarget(h))}(n,e)}catch(r){pe(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qg(n,r)}else if(e instanceof ag?n.ha.Xe(e):e instanceof c2?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ie.min()))try{const r=await z2(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o._a.get(d);g&&o._a.set(d,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,d)=>{const g=o._a.get(f);if(!g)return;o._a.set(f,g.withResumeToken(jt.EMPTY_BYTE_STRING,g.snapshotVersion)),J2(o,f);const y=new Os(g.target,f,d,g.sequenceNumber);Tw(o,y)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(El,"Failed to raise snapshot:",r),await qg(n,r)}}async function qg(n,e,t){if(!ao(e))throw e;n.aa.add(1),await Lc(n),n.la.set("Offline"),t||(t=()=>z2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(El,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Yf(n)})}function eN(n,e){return e().catch(t=>qg(n,t,e))}async function Uc(n){const e=be(n),t=Ja(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Ba;for(;lH(e);)try{const i=await H7(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,uH(e,i)}catch(i){await qg(e,i)}tN(e)&&nN(e)}function lH(n){return lo(n)&&n.oa.length<10}function uH(n,e){n.oa.push(e);const t=Ja(n);t.b_()&&t.W_&&t.G_(e.mutations)}function tN(n){return lo(n)&&!Ja(n).w_()&&n.oa.length>0}function nN(n){Ja(n).start()}async function cH(n){Ja(n).H_()}async function hH(n){const e=Ja(n);for(const t of n.oa)e.G_(t.mutations)}async function dH(n,e,t){const r=n.oa.shift(),i=lw.from(r,e,t);await eN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Uc(n)}async function fH(n,e){e&&Ja(n).W_&&await async function(r,i){if(function(u){return l2(u)&&u!==ie.ABORTED}(i.code)){const o=r.oa.shift();Ja(r).D_(),await eN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Uc(r)}}(n,e),tN(n)&&nN(n)}async function SC(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),pe(El,"RemoteStore received new credentials");const r=lo(t);t.aa.add(3),await Lc(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Yf(t)}async function Mb(n,e){const t=be(n);e?(t.aa.delete(2),await Yf(t)):e||(t.aa.add(2),await Lc(t),t.la.set("Unknown"))}function Bc(n){return n.Pa||(n.Pa=function(t,r,i){const o=be(t);return o.Y_(),new J7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:iH.bind(null,n),Jo:sH.bind(null,n),Zo:aH.bind(null,n),Q_:oH.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Aw(n)?Sw(n):n.la.set("Unknown")):(await n.Pa.stop(),Z2(n))})),n.Pa}function Ja(n){return n.Ta||(n.Ta=function(t,r,i){const o=be(t);return o.Y_(),new Z7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:cH.bind(null,n),Zo:fH.bind(null,n),z_:hH.bind(null,n),j_:dH.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Uc(n)):(await n.Ta.stop(),n.oa.length>0&&(pe(El,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new Iw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fc(n,e){if(Yt("AsyncQueue",`${e}: ${n}`),ao(n))return new fe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{static emptySet(e){return new Ku(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Pd(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ku;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.Ia=new bt(ve.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class gc{constructor(e,t,r,i,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new gc(e,t,Ku.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class mH{constructor(){this.queries=IC(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=be(t),o=i.queries;i.queries=IC(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function IC(){return new Ws(n=>WD(n),Hf)}async function Rw(n,e){const t=be(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new pH,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(i,!0);break;case 1:o.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Fc(u,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&xw(t)}async function Cw(n,e){const t=be(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function gH(n,e){const t=be(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.Ra)h.pa(i)&&(r=!0);u.Aa=i}}r&&xw(t)}function yH(n,e,t){const r=be(n),i=r.queries.get(e);if(i)for(const o of i.Ra)o.onError(t);r.queries.delete(e)}function xw(n){n.fa.forEach(e=>{e.next()})}var Vb,RC;(RC=Vb||(Vb={})).ya="default",RC.Cache="cache";class Pw{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Vb.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,t){this.Ma=e,this.byteLength=t}xa(){return"metadata"in this.Ma}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.serializer=e}Bs(e){return Gi(this.serializer,e)}Ls(e){return e.metadata.exists?y2(this.serializer,e.document,!1):Et.newNoDocument(this.Bs(e.metadata.name),this.ks(e.metadata.readTime))}ks(e){return Xt(e)}}class vH{constructor(e,t,r){this.Oa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rN(e)}Na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ma.namedQuery)this.queries.push(e.Ma.namedQuery);else if(e.Ma.documentMetadata){this.documents.push({metadata:e.Ma.documentMetadata}),e.Ma.documentMetadata.exists||++t;const r=$e.fromString(e.Ma.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ma.document&&(this.documents[this.documents.length-1].document=e.Ma.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ba(e){const t=new Map,r=new CC(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Bs(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async complete(){const e=await $7(this.localStore,new CC(this.serializer),this.documents,this.Oa.id),t=this.Ba(this.documents);for(const r of this.queries)await G7(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,La:this.collectionGroups,ka:e}}}function rN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.key=e}}class sN{constructor(e){this.key=e}}class aN{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ve(),this.mutatedKeys=Ve(),this.Ua=YD(e),this.Ka=new Ku(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new AC,i=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,y)=>{const v=i.get(g),w=$f(this.query,y)?y:null,E=!!v&&this.mutatedKeys.has(v.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;v&&w?v.data.isEqual(w.data)?E!==A&&(r.track({type:3,doc:w}),P=!0):this.ja(v,w)||(r.track({type:2,doc:w}),P=!0,(f&&this.Ua(w,f)>0||d&&this.Ua(w,d)<0)&&(h=!0)):!v&&w?(r.track({type:0,doc:w}),P=!0):v&&!w&&(r.track({type:1,doc:v}),P=!0,(f||d)&&(h=!0)),P&&(w?(u=u.add(w),o=A?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:u,za:r,ys:h,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((g,y)=>function(w,E){const A=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:P})}};return A(w)-A(E)}(g.type,y.type)||this.Ua(g.doc,y.doc)),this.Ha(r),i=i!=null&&i;const h=t&&!i?this.Ja():[],f=this.$a.size===0&&this.current&&!i?1:0,d=f!==this.Qa;return this.Qa=f,u.length!==0||d?{snapshot:new gc(this.query,e.Ka,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new AC,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ve(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new sN(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new iN(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Ve();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return gc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const uo="SyncEngine";class bH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class EH{constructor(e){this.key=e,this.tu=!1}}class wH{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Ws(h=>WD(h),Hf),this.iu=new Map,this.su=new Set,this.ou=new bt(ve.comparator),this._u=new Map,this.au=new mw,this.uu={},this.cu=new Map,this.lu=bl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function TH(n,e,t=!0){const r=qy(n);let i;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await oN(r,e,t,!0),i}async function SH(n,e){const t=qy(n);await oN(t,e,!0,!1)}async function oN(n,e,t,r){const i=await fc(n.localStore,Zn(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await Ow(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&jy(n.remoteStore,i),h}async function Ow(n,e,t,r,i){n.Pu=(y,v,w)=>async function(A,P,U,L){let V=P.view.Ga(U);V.ys&&(V=await Fg(A.localStore,P.query,!1).then(({documents:M})=>P.view.Ga(M,V)));const H=L&&L.targetChanges.get(P.targetId),F=L&&L.targetMismatches.get(P.targetId)!=null,$=P.view.applyChanges(V,A.isPrimaryClient,H,F);return Lb(A,P.targetId,$.Ya),$.snapshot}(n,y,v,w);const o=await Fg(n.localStore,e,!0),u=new aN(e,o.Ns),h=u.Ga(o.documents),f=Wf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=u.applyChanges(h,n.isPrimaryClient,f);Lb(n,t,d.Ya);const g=new bH(e,t,u);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),d.snapshot}async function AH(n,e,t){const r=be(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(u=>!Hf(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&mc(r.remoteStore,i.targetId),yc(r,i.targetId)}).catch(so)):(yc(r,i.targetId),await pc(r.localStore,i.targetId,!0))}async function IH(n,e){const t=be(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mc(t.remoteStore,r.targetId))}async function RH(n,e,t){const r=Mw(n);try{const i=await function(u,h){const f=be(u),d=Pt.now(),g=h.reduce((w,E)=>w.add(E.key),Ve());let y,v;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=ur(),A=Ve();return f.Cs.getEntries(w,g).next(P=>{E=P,E.forEach((U,L)=>{L.isValidDocument()||(A=A.add(U))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,E)).next(P=>{y=P;const U=[];for(const L of h){const V=Qq(L,y.get(L.key).overlayedDocument);V!=null&&U.push(new Qs(L.key,V,BD(V.value.mapValue),xt.exists(!0)))}return f.mutationQueue.addMutationBatch(w,d,U,h)}).next(P=>{v=P;const U=P.applyToLocalDocumentSet(y,A);return f.documentOverlayCache.saveOverlays(w,P.batchId,U)})}).then(()=>({batchId:v.batchId,changes:JD(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,f){let d=u.uu[u.currentUser.toKey()];d||(d=new bt(De)),d=d.insert(h,f),u.uu[u.currentUser.toKey()]=d}(r,i.batchId,t),await Ys(r,i.changes),await Uc(r.remoteStore)}catch(i){const o=Fc(i,"Failed to persist write");t.reject(o)}}async function lN(n,e){const t=be(n);try{const r=await q7(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t._u.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.tu=!0:i.modifiedDocuments.size>0?Ae(u.tu,14607):i.removedDocuments.size>0&&(Ae(u.tu,42227),u.tu=!1))}),await Ys(t,r,e)}catch(r){await so(r)}}function xC(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((o,u)=>{const h=u.view.ga(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const f=be(u);f.onlineState=h;let d=!1;f.queries.forEach((g,y)=>{for(const v of y.Ra)v.ga(h)&&(d=!0)}),d&&xw(f)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CH(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),o=i&&i.key;if(o){let u=new bt(ve.comparator);u=u.insert(o,Et.newNoDocument(o,Ie.min()));const h=Ve().add(o),f=new Kf(Ie.min(),new Map,new bt(De),u,h);await lN(r,f),r.ou=r.ou.remove(o),r._u.delete(e),kw(r)}else await pc(r.localStore,e,!1).then(()=>yc(r,e,t)).catch(so)}async function xH(n,e){const t=be(n),r=e.batch.batchId;try{const i=await j7(t.localStore,e);Nw(t,r,null),Dw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ys(t,i)}catch(i){await so(i)}}async function PH(n,e,t){const r=be(n);try{const i=await function(u,h){const f=be(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next(y=>(Ae(y!==null,37113),g=y.keys(),f.mutationQueue.removeMutationBatch(d,y))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(r.localStore,e);Nw(r,e,t),Dw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ys(r,i)}catch(i){await so(i)}}async function OH(n,e){const t=be(n);lo(t.remoteStore)||pe(uo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=be(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===Ba)return void e.resolve();const i=t.cu.get(r)||[];i.push(e),t.cu.set(r,i)}catch(r){const i=Fc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Dw(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function Nw(n,e,t){const r=be(n);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function yc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||uN(n,r)})}function uN(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(mc(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),kw(n))}function Lb(n,e,t){for(const r of t)r instanceof iN?(n.au.addReference(r.key,e),DH(n,r)):r instanceof sN?(pe(uo,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||uN(n,r.key)):we(19791,{Iu:r})}function DH(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(pe(uo,"New document in limbo: "+t),n.su.add(r),kw(n))}function kw(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new ve($e.fromString(e)),r=n.lu.next();n._u.set(r,new EH(t)),n.ou=n.ou.insert(t,r),jy(n.remoteStore,new Os(Zn(kc(t.path)),r,"TargetPurposeLimboResolution",or.le))}}async function Ys(n,e,t){const r=be(n),i=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{u.push(r.Pu(f,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const y=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){i.push(d);const y=vw.Ps(f.targetId,d);o.push(y)}}))}),await Promise.all(u),r.nu.Q_(i),await async function(f,d){const g=be(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>X.forEach(d,v=>X.forEach(v.ls,w=>g.persistence.referenceDelegate.addReference(y,v.targetId,w)).next(()=>X.forEach(v.hs,w=>g.persistence.referenceDelegate.removeReference(y,v.targetId,w)))))}catch(y){if(!ao(y))throw y;pe(bw,"Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const w=g.Ss.get(v),E=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(E);g.Ss=g.Ss.insert(v,A)}}}(r.localStore,o))}async function NH(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){pe(uo,"User change. New user:",e.toKey());const r=await F2(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new fe(ie.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ys(t,r.Ms)}}function kH(n,e){const t=be(n),r=t._u.get(e);if(r&&r.tu)return Ve().add(r.key);{let i=Ve();const o=t.iu.get(e);if(!o)return i;for(const u of o){const h=t.ru.get(u);i=i.unionWith(h.view.Wa)}return i}}async function MH(n,e){const t=be(n),r=await Fg(t.localStore,e.query,!0),i=e.view.Xa(r);return t.isPrimaryClient&&Lb(t,e.targetId,i.Ya),i}async function VH(n,e){const t=be(n);return H2(t.localStore,e).then(r=>Ys(t,r))}async function LH(n,e,t,r){const i=be(n),o=await function(h,f){const d=be(h),g=be(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",y=>g.Hn(y,f).next(v=>v?d.localDocuments.getDocuments(y,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Uc(i.remoteStore):t==="acknowledged"||t==="rejected"?(Nw(i,e,r||null),Dw(i,e),function(h,f){be(be(h).mutationQueue).Xn(f)}(i.localStore,e)):we(6720,"Unknown batchState",{Eu:t}),await Ys(i,o)):pe(uo,"Cannot apply mutation batch with id: "+e)}async function UH(n,e){const t=be(n);if(qy(t),Mw(t),e===!0&&t.hu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await PC(t,r.toArray());t.hu=!0,await Mb(t.remoteStore,!0);for(const o of i)jy(t.remoteStore,o)}else if(e===!1&&t.hu!==!1){const r=[];let i=Promise.resolve();t.iu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(yc(t,u),pc(t.localStore,u,!0))),mc(t.remoteStore,u)}),await i,await PC(t,r),function(u){const h=be(u);h._u.forEach((f,d)=>{mc(h.remoteStore,d)}),h.au.Kr(),h._u=new Map,h.ou=new bt(ve.comparator)}(t),t.hu=!1,await Mb(t.remoteStore,!1)}}async function PC(n,e,t){const r=be(n),i=[],o=[];for(const u of e){let h;const f=r.iu.get(u);if(f&&f.length!==0){h=await fc(r.localStore,Zn(f[0]));for(const d of f){const g=r.ru.get(d),y=await MH(r,g);y.snapshot&&o.push(y.snapshot)}}else{const d=await q2(r.localStore,u);h=await fc(r.localStore,d),await Ow(r,cN(d),u,!1,h.resumeToken)}i.push(h)}return r.nu.Q_(o),i}function cN(n){return KD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function BH(n){return function(t){return be(be(t).persistence).us()}(be(n).localStore)}async function FH(n,e,t,r){const i=be(n);if(i.hu)return void pe(uo,"Ignoring unexpected query state notification.");const o=i.iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await H2(i.localStore,QD(o[0])),h=Kf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",jt.EMPTY_BYTE_STRING);await Ys(i,u,h);break}case"rejected":await pc(i.localStore,e,!0),yc(i,e,r);break;default:we(64155,t)}}async function zH(n,e,t){const r=qy(n);if(r.hu){for(const i of e){if(r.iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(uo,"Adding an already active target "+i);continue}const o=await q2(r.localStore,i),u=await fc(r.localStore,o);await Ow(r,cN(o),u.targetId,!1,u.resumeToken),jy(r.remoteStore,u)}for(const i of t)r.iu.has(i)&&await pc(r.localStore,i,!1).then(()=>{mc(r.remoteStore,i),yc(r,i)}).catch(so)}}function qy(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CH.bind(null,e),e.nu.Q_=gH.bind(null,e.eventManager),e.nu.Tu=yH.bind(null,e.eventManager),e}function Mw(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PH.bind(null,e),e}function jH(n,e,t){const r=be(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await function(w,E){const A=be(w),P=Xt(E.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",U=>A.ci.getBundleMetadata(U,E.id)).then(U=>!!U&&U.createTime.compareTo(P)>=0)}(o.localStore,f))return await u.close(),h._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(f)),Promise.resolve(new Set);h._updateProgress(rN(f));const d=new vH(f,o.localStore,u.serializer);let g=await u.du();for(;g;){const v=await d.Na(g);v&&h._updateProgress(v),g=await u.du()}const y=await d.complete();return await Ys(o,y.ka,void 0),await function(w,E){const A=be(w);return A.persistence.runTransaction("Save bundle","readwrite",P=>A.ci.saveBundleMetadata(P,E))}(o.localStore,f),h._completeWith(y.progress),Promise.resolve(y.La)}catch(f){return Yi(uo,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return B2(this.persistence,new U2,e.initialUser,this.serializer)}Ru(e){return new gw(zy.Ei,this.serializer)}Au(e){return new Q2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class qH extends _f{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ae(this.persistence.referenceDelegate instanceof Bg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new D2(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new gw(r=>Bg.Ei(r,t),this.serializer)}}class hN extends _f{constructor(e,t,r){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await Mw(this.gu.syncEngine),await Uc(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(e){return B2(this.persistence,new U2,e.initialUser,this.serializer)}mu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new D2(r,e.asyncQueue,t)}fu(e,t){const r=new J8(t,this.persistence);return new X8(e.asyncQueue,r)}Ru(e){const t=_w(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new yw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Y2(),og(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new Q2}}class HH extends hN{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.gu.syncEngine;this.sharedClientState instanceof B0&&(this.sharedClientState.syncEngine={yo:LH.bind(null,t),wo:FH.bind(null,t),bo:zH.bind(null,t),us:BH.bind(null,t),po:VH.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ki(async r=>{await UH(this.gu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Au(e){const t=Y2();if(!B0.C(t))throw new fe(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_w(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new B0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class vf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NH.bind(null,this.syncEngine),await Mb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mH}()}createDatastore(e){const t=Qf(e.databaseInfo.databaseId),r=function(o){return new X7(o)}(e.databaseInfo);return function(o,u,h,f){return new tH(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new rH(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>xC(this.syncEngine,t,0),function(){return wC.C()?new wC:new K7}())}createSyncEngine(e,t){return function(i,o,u,h,f,d,g){const y=new wH(i,o,u,h,f,d);return g&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=be(i);pe(El,"RemoteStore shutting down."),o.aa.add(5),await Lc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vf.provider={build:()=>new vf};function OC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,t){this.wu=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this.bu=function(){return new TextDecoder("utf-8")}(),this.Su().then(r=>{r&&r.xa()?this.metadata.resolve(r.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ma)}`))},r=>this.metadata.reject(r))}close(){return this.wu.cancel()}async getMetadata(){return this.metadata.promise}async du(){return await this.getMetadata(),this.Su()}async Su(){const e=await this.Du();if(e===null)return null;const t=this.bu.decode(e),r=Number(t);isNaN(r)&&this.vu(`length string (${t}) is not valid number`);const i=await this.Cu(r);return new _H(JSON.parse(i),e.length+r)}Fu(){return this.buffer.findIndex(e=>e===123)}async Du(){for(;this.Fu()<0&&!await this.Mu(););if(this.buffer.length===0)return null;const e=this.Fu();e<0&&this.vu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cu(e){for(;this.buffer.length<e;)await this.Mu()&&this.vu("Reached the end of bundle when more is expected.");const t=this.bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}vu(e){throw this.wu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Mu(){const e=await this.wu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=be(i),h={documents:o.map(y=>gf(u.serializer,y))},f=await u.Wo("BatchGetDocuments",u.serializer.databaseId,$e.emptyPath(),h,o.length),d=new Map;f.forEach(y=>{const v=i7(u.serializer,y);d.set(v.key.toString(),v)});const g=[];return o.forEach(y=>{const v=d.get(y.toString());Ae(!!v,55234,{key:y}),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ve.fromPath(r);this.mutations.push(new aw(i,this.precondition(i)))}),await async function(r,i){const o=be(r),u={writes:i.map(h=>yf(o.serializer,h))};await o.Qo("Commit",o.serializer.databaseId,$e.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we(50498,{xu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new fe(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?xt.exists(!1):xt.updateTime(t):xt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new fe(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(t)}return xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Ou=r.maxAttempts,this.y_=new ww(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const e=new GH(this.datastore),t=this.Lu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ku(i)}))}).catch(r=>{this.ku(r)})})}Lu(e){try{const t=this.updateFunction(e);return!zf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!l2(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="FirestoreClient";class WH{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=fD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(Za,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(Za,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Fc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function z0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Za,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function DC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Vw(n);pe(Za,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>SC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>SC(e.remoteStore,i)),n._onlineComponents=e}async function Vw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Za,"Using user provided OfflineComponentProvider");try{await z0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Yi("Error using user provided cache. Falling back to memory cache: "+t),await z0(n,new _f)}}else pe(Za,"Using default OfflineComponentProvider"),await z0(n,new qH(void 0));return n._offlineComponents}async function $y(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Za,"Using user provided OnlineComponentProvider"),await DC(n,n._uninitializedComponentsProvider._online)):(pe(Za,"Using default OnlineComponentProvider"),await DC(n,new vf))),n._onlineComponents}function dN(n){return Vw(n).then(e=>e.persistence)}function Lw(n){return Vw(n).then(e=>e.localStore)}function fN(n){return $y(n).then(e=>e.remoteStore)}function Uw(n){return $y(n).then(e=>e.syncEngine)}function QH(n){return $y(n).then(e=>e.datastore)}async function _c(n){const e=await $y(n),t=e.eventManager;return t.onListen=TH.bind(null,e.syncEngine),t.onUnlisten=AH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IH.bind(null,e.syncEngine),t}function YH(n){return n.asyncQueue.enqueue(async()=>{const e=await dN(n),t=await fN(n);return e.setNetworkEnabled(!0),function(i){const o=be(i);return o.aa.delete(0),Yf(o)}(t)})}function XH(n){return n.asyncQueue.enqueue(async()=>{const e=await dN(n),t=await fN(n);return e.setNetworkEnabled(!1),async function(i){const o=be(i);o.aa.add(0),await Lc(o),o.la.set("Offline")}(t)})}function JH(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(d,g){const y=be(d);return y.persistence.runTransaction("read document","readonly",v=>y.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new fe(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Fc(h,`Failed to get document '${o} from cache`);u.reject(f)}}(await Lw(n),e,t)),t.promise}function pN(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Hy({next:v=>{g.yu(),u.enqueueAndForget(()=>Cw(o,y));const w=v.docs.has(h);!w&&v.fromCache?d.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&f&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new Pw(kc(h.path),g,{includeMetadataChanges:!0,Fa:!0});return Rw(o,y)}(await _c(n),n.asyncQueue,e,t,r)),r.promise}function ZH(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Fg(i,o,!0),f=new aN(o,h.Ns),d=f.Ga(h.documents),g=f.applyChanges(d,!1);u.resolve(g.snapshot)}catch(h){const f=Fc(h,`Failed to execute query '${o} against cache`);u.reject(f)}}(await Lw(n),e,t)),t.promise}function mN(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Hy({next:v=>{g.yu(),u.enqueueAndForget(()=>Cw(o,y)),v.fromCache&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new Pw(h,g,{includeMetadataChanges:!0,Fa:!0});return Rw(o,y)}(await _c(n),n.asyncQueue,e,t,r)),r.promise}function e$(n,e){const t=new Hy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){be(i).fa.add(o),o.next()}(await _c(n),t)),()=>{t.yu(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){be(i).fa.delete(o)}(await _c(n),t))}}function t$(n,e,t,r){const i=function(u,h){let f;return f=typeof u=="string"?KE().encode(u):u,function(g,y){return new $H(g,y)}(function(g,y){if(g instanceof Uint8Array)return OC(g,y);if(g instanceof ArrayBuffer)return OC(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),h)}(t,Qf(e));n.asyncQueue.enqueueAndForget(async()=>{jH(await Uw(n),i,r)})}function n$(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=be(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.ci.getNamedQuery(u,i))}(await Lw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n,e,t){if(!t)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yN(n,e,t,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kC(n){if(!ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MC(n){if(ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Ze(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gy(n);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _N(n,e){if(e<=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firestore.googleapis.com",VC=!0;class LC{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vN,this.ssl=VC}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:VC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T7)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new F8;switch(r.type){case"firstParty":return new H8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,gy("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=NC.get(t);r&&(pe("ComponentProvider","Removing Datastore"),NC.delete(t),r.terminate())}(this),Promise.resolve()}}function r$(n,e,t,r={}){var i;n=Ze(n,Xf);const o=Nf(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;u.host!==vN&&u.host!==f&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!Ls(d,h)&&(n._setSettings(d),o&&($P(`https://${f}`),gy("Firestore",!0)),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=An.MOCK_USER;else{g=HB(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new An(v)}n._authCredentials=new z8(new dD(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er=class bN{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bN(this.firestore,e,this._query)}},Mt=class EN{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new EN(this.firestore,e,this._key)}},Fa=class wN extends er{constructor(e,t,r){super(e,t,kc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ve(e))}withConverter(e){return new wN(this.firestore,e,this._path)}};function TN(n,e,...t){if(n=Ce(n),Bw("collection","path",e),n instanceof Xf){const r=$e.fromString(e,...t);return MC(r),new Fa(n,null,r)}{if(!(n instanceof Mt||n instanceof Fa))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return MC(r),new Fa(n.firestore,null,r)}}function i$(n,e){if(n=Ze(n,Xf),Bw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new er(n,null,function(r){return new Ks($e.emptyPath(),r)}(e))}function Hg(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=fD.newId()),Bw("doc","path",e),n instanceof Xf){const r=$e.fromString(e,...t);return kC(r),new Mt(n,null,new ve(r))}{if(!(n instanceof Mt||n instanceof Fa))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return kC(r),new Mt(n.firestore,n instanceof Fa?n.converter:null,new ve(r))}}function SN(n,e){return n=Ce(n),e=Ce(e),(n instanceof Mt||n instanceof Fa)&&(e instanceof Mt||e instanceof Fa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function AN(n,e){return n=Ce(n),e=Ce(e),n instanceof er&&e instanceof er&&n.firestore===e.firestore&&Hf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="AsyncQueue";class BC{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new ww(this,"async_queue_retry"),this.ju=()=>{const r=og();r&&pe(UC,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=og();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=og();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Vn;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ao(e))throw e;pe(UC,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Yt("INTERNAL UNHANDLED ERROR: ",FC(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=Iw.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&we(47125,{ec:FC(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function FC(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class s${constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=-1;let Jt=class extends Xf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new BC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BC(e),this._firestoreClient=void 0,await e}}};function $n(n){if(n._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IN(n),n._firestoreClient}function IN(n){var e,t,r;const i=n._freezeSettings(),o=function(h,f,d,g){return new Rq(h,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gN(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new WH(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}function o$(n,e){Yi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return RN(n,vf.provider,{build:r=>new hN(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function l$(n){Yi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();RN(n,vf.provider,{build:t=>new HH(t,e.cacheSizeBytes)})}function RN(n,e,t){if((n=Ze(n,Jt))._firestoreClient||n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new fe(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},IN(n)}function u$(n){if(n._initialized&&!n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!$i.C())return Promise.resolve();const i=r+L2;await $i.delete(i)}(_w(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function c$(n){return function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>OH(await Uw(t),r)),r.promise}($n(n=Ze(n,Jt)))}function h$(n){return YH($n(n=Ze(n,Jt)))}function d$(n){return XH($n(n=Ze(n,Jt)))}function f$(n,e){const t=$n(n=Ze(n,Jt)),r=new s$;return t$(t,n._databaseId,e,r),r}function p$(n,e){return n$($n(n=Ze(n,Jt)),e).then(t=>t?new er(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ji(jt.fromBase64String(e))}catch(t){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ji(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=/^__.*__$/;class g${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mc(e,this.data,t,this.fieldTransforms)}}class CN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{oc:n})}}class Wy{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return $g(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(xN(this.oc)&&m$.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class y${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qf(e)}dc(e,t,r,i=!1){return new Wy({oc:e,methodName:t,Ec:r,path:Ct.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rl(n){const e=n._freezeSettings(),t=Qf(n._databaseId);return new y$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Qy(n,e,t,r,i,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,i);Kw("Data must be an object, but it was:",u,r);const h=DN(r,u);let f,d;if(o.merge)f=new lr(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const v=Bb(e,y,t);if(!u.contains(v))throw new fe(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);kN(g,v)||g.push(v)}f=new lr(g),d=u.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,d=u.fieldTransforms;return new g$(new Mn(h),f,d)}class Jf extends Il{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jf}}function PN(n,e,t){return new Wy({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zw extends Il{_toFieldTransform(e){return new Gf(e.path,new cc)}isEqual(e){return e instanceof zw}}class jw extends Il{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=PN(this,e,!0),r=this.Ac.map(o=>Cl(o,t)),i=new gl(r);return new Gf(e.path,i)}isEqual(e){return e instanceof jw&&Ls(this.Ac,e.Ac)}}class qw extends Il{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=PN(this,e,!0),r=this.Ac.map(o=>Cl(o,t)),i=new yl(r);return new Gf(e.path,i)}isEqual(e){return e instanceof qw&&Ls(this.Ac,e.Ac)}}class Hw extends Il{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new hc(e.serializer,t2(e.serializer,this.Rc));return new Gf(e.path,t)}isEqual(e){return e instanceof Hw&&this.Rc===e.Rc}}function $w(n,e,t,r){const i=n.dc(1,e,t);Kw("Data must be an object, but it was:",i,r);const o=[],u=Mn.empty();oo(r,(f,d)=>{const g=Ww(e,f,t);d=Ce(d);const y=i.hc(g);if(d instanceof Jf)o.push(g);else{const v=Cl(d,y);v!=null&&(o.push(g),u.set(g,v))}});const h=new lr(o);return new CN(u,h,i.fieldTransforms)}function Gw(n,e,t,r,i,o){const u=n.dc(1,e,t),h=[Bb(e,r,t)],f=[i];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(Bb(e,o[v])),f.push(o[v+1]);const d=[],g=Mn.empty();for(let v=h.length-1;v>=0;--v)if(!kN(d,h[v])){const w=h[v];let E=f[v];E=Ce(E);const A=u.hc(w);if(E instanceof Jf)d.push(w);else{const P=Cl(E,A);P!=null&&(d.push(w),g.set(w,P))}}const y=new lr(d);return new CN(g,y,u.fieldTransforms)}function ON(n,e,t,r=!1){return Cl(t,n.dc(r?4:3,e))}function Cl(n,e){if(NN(n=Ce(n)))return Kw("Unsupported field value:",e,n),DN(n,e);if(n instanceof Il)return function(r,i){if(!xN(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let f=Cl(h,i.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:dc(i.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dc(i.serializer,o)}}if(r instanceof Ky)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:d2(i.serializer,r._byteString)};if(r instanceof Mt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fw)return function(u,h){return{mapValue:{fields:{[ew]:{stringValue:tw},[oc]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Tc("VectorValues must only contain numeric values.");return sw(h.serializer,d)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Gy(r)}`)}(n,e)}function DN(n,e){const t={};return PD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(n,(r,i)=>{const o=Cl(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function NN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Ky||n instanceof Ji||n instanceof Mt||n instanceof Il||n instanceof Fw)}function Kw(n,e,t){if(!NN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Gy(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Bb(n,e,t){if((e=Ce(e))instanceof eo)return e._internalPath;if(typeof e=="string")return Ww(n,e);throw $g("Field path arguments must be of type string or ",n,!1,void 0,t)}const _$=new RegExp("[~\\*/\\[\\]]");function Ww(n,e,t){if(e.search(_$)>=0)throw $g(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new eo(...e.split("."))._internalPath}catch{throw $g(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $g(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new fe(ie.INVALID_ARGUMENT,h+n+f)}function kN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class v$ extends bf{data(){return super.data()}}function Yy(n,e){return typeof e=="string"?Ww(n,e):e instanceof eo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qw{}class Zf extends Qw{}function xa(n,e,...t){let r=[];e instanceof Qw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof Yw).length,h=o.filter(f=>f instanceof Xy).length;if(u>1||u>0&&h>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Xy extends Zf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xy(e,t,r)}_apply(e){const t=this._parse(e);return LN(e._query,t),new er(e.firestore,e.converter,Ab(e._query,t))}_parse(e){const t=Rl(e.firestore);return function(o,u,h,f,d,g,y){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){jC(y,g);const E=[];for(const A of y)E.push(zC(f,o,A));v={arrayValue:{values:E}}}else v=zC(f,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||jC(y,g),v=ON(h,u,y,g==="in"||g==="not-in");return Ge.create(d,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function b$(n,e,t){const r=e,i=Yy("where",n);return Xy._create(i,r,t)}class Yw extends Qw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const f of h)LN(u,f),u=Ab(u,f)}(e._query,t),new er(e.firestore,e.converter,Ab(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xw extends Zf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mf(o,u)}(e._query,this._field,this._direction);return new er(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new Ks(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function E$(n,e="asc"){const t=e,r=Yy("orderBy",n);return Xw._create(r,t)}class Jy extends Zf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Jy(e,t,r)}_apply(e){return new er(e.firestore,e.converter,Mg(e._query,this._limit,this._limitType))}}function w$(n){return _N("limit",n),Jy._create("limit",n,"F")}function T$(n){return _N("limitToLast",n),Jy._create("limitToLast",n,"L")}class Zy extends Zf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Zy(e,t,r)}_apply(e){const t=VN(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,o){return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function S$(...n){return Zy._create("startAt",n,!0)}function A$(...n){return Zy._create("startAfter",n,!1)}class e_ extends Zf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new e_(e,t,r)}_apply(e){const t=VN(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,o){return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function I$(...n){return e_._create("endBefore",n,!1)}function R$(...n){return e_._create("endAt",n,!0)}function VN(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof bf)return function(o,u,h,f,d){if(!f)throw new fe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const y of Gu(o))if(y.field.isKeyField())g.push(pl(u,f.key));else{const v=f.data.field(y.field);if(ky(v))throw new fe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const w=y.field.canonicalString();throw new fe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}g.push(v)}return new Xa(g,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Rl(n.firestore);return function(u,h,f,d,g,y){const v=u.explicitOrderBy;if(g.length>v.length)throw new fe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let E=0;E<g.length;E++){const A=g[E];if(v[E].field.isKeyField()){if(typeof A!="string")throw new fe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof A}`);if(!rw(u)&&A.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${A}' contains a slash.`);const P=u.path.child($e.fromString(A));if(!ve.isDocumentKey(P))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const U=new ve(P);w.push(pl(h,U))}else{const P=ON(f,d,A);w.push(P)}}return new Xa(w,y)}(n._query,n.firestore._databaseId,i,e,t,r)}}function zC(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(e)&&t.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($e.fromString(t));if(!ve.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pl(n,new ve(r))}if(t instanceof Mt)return pl(n,t._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gy(t)}.`)}function jC(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LN(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Jw{convertValue(e,t="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return oo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[oc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>It(u.doubleValue));return new Fw(o)}convertGeoPoint(e){return new Ky(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=My(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(df(e));default:return null}}convertTimestamp(e){const t=Fs(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$e.fromString(e);Ae(T2(r),9688,{name:e});const i=new Wa(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(t)||Yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class C$ extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let js=class extends bf{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Gd=class extends js{data(e={}){return super.data(e)}},to=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gd(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const f=new Gd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new il(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Gd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new il(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:x$(h.type),doc:f,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function x$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}function UN(n,e){return n instanceof js&&e instanceof js?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof to&&e instanceof to&&n._firestore===e._firestore&&AN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt);return pN($n(e),n._key).then(t=>Zw(e,n,t))}class xl extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function O$(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt),t=$n(e),r=new xl(e);return JH(t,n._key).then(i=>new js(e,r,n._key,i,new il(i!==null&&i.hasLocalMutations,!0),n.converter))}function D$(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt);return pN($n(e),n._key,{source:"server"}).then(t=>Zw(e,n,t))}function N$(n){n=Ze(n,er);const e=Ze(n.firestore,Jt),t=$n(e),r=new xl(e);return MN(n._query),mN(t,n._query).then(i=>new to(e,r,n,i))}function k$(n){n=Ze(n,er);const e=Ze(n.firestore,Jt),t=$n(e),r=new xl(e);return ZH(t,n._query).then(i=>new to(e,r,n,i))}function M$(n){n=Ze(n,er);const e=Ze(n.firestore,Jt),t=$n(e),r=new xl(e);return mN(t,n._query,{source:"server"}).then(i=>new to(e,r,n,i))}function qC(n,e,t){n=Ze(n,Mt);const r=Ze(n.firestore,Jt),i=t_(n.converter,e,t);return ep(r,[Qy(Rl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,xt.none())])}function HC(n,e,t,...r){n=Ze(n,Mt);const i=Ze(n.firestore,Jt),o=Rl(i);let u;return u=typeof(e=Ce(e))=="string"||e instanceof eo?Gw(o,"updateDoc",n._key,e,t,r):$w(o,"updateDoc",n._key,e),ep(i,[u.toMutation(n._key,xt.exists(!0))])}function V$(n){return ep(Ze(n.firestore,Jt),[new Vc(n._key,xt.none())])}function L$(n,e){const t=Ze(n.firestore,Jt),r=Hg(n),i=t_(n.converter,e);return ep(t,[Qy(Rl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xt.exists(!1))]).then(()=>r)}function BN(n,...e){var t,r,i;n=Ce(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Ub(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ub(e[u])){const y=e[u];e[u]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[u+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[u+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let f,d,g;if(n instanceof Mt)d=Ze(n.firestore,Jt),g=kc(n._key.path),f={next:y=>{e[u]&&e[u](Zw(d,n,y))},error:e[u+1],complete:e[u+2]};else{const y=Ze(n,er);d=Ze(y.firestore,Jt),g=y._query;const v=new xl(d);f={next:w=>{e[u]&&e[u](new to(d,v,y,w))},error:e[u+1],complete:e[u+2]},MN(n._query)}return function(v,w,E,A){const P=new Hy(A),U=new Pw(w,P,E);return v.asyncQueue.enqueueAndForget(async()=>Rw(await _c(v),U)),()=>{P.yu(),v.asyncQueue.enqueueAndForget(async()=>Cw(await _c(v),U))}}($n(d),g,h,f)}function U$(n,e){return e$($n(n=Ze(n,Jt)),Ub(e)?e:{next:e})}function ep(n,e){return function(r,i){const o=new Vn;return r.asyncQueue.enqueueAndForget(async()=>RH(await Uw(r),i,o)),o.promise}($n(n),e)}function Zw(n,e,t){const r=t.docs.get(e._key),i=new xl(n);return new js(n,i,e._key,r,new il(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F$=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rl(e)}set(e,t,r){this._verifyNotCommitted();const i=ka(e,this._firestore),o=t_(i.converter,t,r),u=Qy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,xt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=ka(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof eo?Gw(this._dataReader,"WriteBatch.update",o._key,t,r,i):$w(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,xt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ka(e,this._firestore);return this._mutations=this._mutations.concat(new Vc(t._key,xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ka(n,e){if((n=Ce(n)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rl(e)}get(e){const t=ka(e,this._firestore),r=new C$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we(24041);const o=i[0];if(o.isFoundDocument())return new bf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new bf(this._firestore,r,t._key,null,t.converter);throw we(18433,{doc:o})})}set(e,t,r){const i=ka(e,this._firestore),o=t_(i.converter,t,r),u=Qy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=ka(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof eo?Gw(this._dataReader,"Transaction.update",o._key,t,r,i):$w(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=ka(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j$=class extends z${constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ka(e,this._firestore),r=new xl(this._firestore);return super.get(e).then(i=>new js(this._firestore,r,t._key,i._document,new il(!1,!1),t.converter))}};function q$(n,e,t){n=Ze(n,Jt);const r=Object.assign(Object.assign({},B$),t);return function(o){if(o.maxAttempts<1)throw new fe(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const f=new Vn;return o.asyncQueue.enqueueAndForget(async()=>{const d=await QH(o);new KH(o.asyncQueue,d,h,u,f).Nu()}),f.promise}($n(n),i=>e(new j$(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(){return new Jf("deleteField")}function $$(){return new zw("serverTimestamp")}function G$(...n){return new jw("arrayUnion",n)}function K$(...n){return new qw("arrayRemove",n)}function W$(n){return new Hw("increment",n)}(function(e,t=!0){(function(i){Nc=i})(ro),$a(new Wi("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Jt(new j8(r.getProvider("auth-internal")),new $8(u,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(d.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ui(b1,E1,e),ui(b1,E1,"esm2017")})();const Q$="@firebase/firestore-compat",Y$="0.3.49";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function GC(){if(!Aq())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let FN=class Fb{constructor(e){this._delegate=e}static fromBase64String(e){return GC(),new Fb(Ji.fromBase64String(e))}static fromUint8Array(e){return $C(),new Fb(Ji.fromUint8Array(e))}toBase64(){return GC(),this._delegate.toBase64()}toUint8Array(){return $C(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n){return X$(n,["next","error","complete"])}function X$(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${enableIndexedDbPersistence(e,t){return o$(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return l$(e._delegate)}clearIndexedDbPersistence(e){return u$(e._delegate)}}class zN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){r$(this._delegate,e,t,r)}enableNetwork(){return h$(this._delegate)}disableNetwork(){return d$(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,yN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return c$(this._delegate)}onSnapshotsInSync(e){return U$(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vc(this,TN(this._delegate,e))}catch(t){throw Xn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Kr(this,Hg(this._delegate,e))}catch(t){throw Xn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yn(this,i$(this._delegate,e))}catch(t){throw Xn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return q$(this._delegate,t=>e(new jN(this,t)))}batch(){return $n(this._delegate),new qN(new F$(this._delegate,e=>ep(this._delegate,e)))}loadBundle(e){return f$(this._delegate,e)}namedQuery(e){return p$(this._delegate,e).then(t=>t?new Yn(this,t):null)}}class n_ extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new FN(new Ji(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Kr.forKey(t,this.firestore,null)}}function Z$(n){U8(n)}class jN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new n_(e)}get(e){const t=sl(e);return this._delegate.get(t).then(r=>new Ef(this._firestore,new js(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=sl(e);return r?(eT("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=sl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=sl(e);return this._delegate.delete(t),this}}class qN{constructor(e){this._delegate=e}set(e,t,r){const i=sl(e);return r?(eT("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=sl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=sl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Gd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=wl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new wl(e,new n_(e),t),i.set(t,o)),o}}wl.INSTANCES=new WeakMap;class Kr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new n_(e)}static forPath(e,t,r){if(e.length%2!==0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Kr(t,new Mt(t._delegate,r,new ve(e)))}static forKey(e,t,r){return new Kr(t,new Mt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new vc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vc(this.firestore,TN(this._delegate,e))}catch(t){throw Xn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Mt?SN(this._delegate,e):!1}set(e,t){t=eT("DocumentReference.set",t);try{return t?qC(this._delegate,e,t):qC(this._delegate,e)}catch(r){throw Xn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?HC(this._delegate,e):HC(this._delegate,e,t,...r)}catch(i){throw Xn(i,"updateDoc()","DocumentReference.update()")}}delete(){return V$(this._delegate)}onSnapshot(...e){const t=HN(e),r=$N(e,i=>new Ef(this.firestore,new js(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return BN(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=O$(this._delegate):(e==null?void 0:e.source)==="server"?t=D$(this._delegate):t=P$(this._delegate),t.then(r=>new Ef(this.firestore,new js(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Kr(this.firestore,e?this._delegate.withConverter(wl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xn(n,e,t){return n.message=n.message.replace(e,t),n}function HN(n){for(const e of n)if(typeof e=="object"&&!zb(e))return e;return{}}function $N(n,e){var t,r;let i;return zb(n[0])?i=n[0]:zb(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Ef{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Kr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return UN(this._delegate,e._delegate)}}class wf extends Ef{data(e){const t=this._delegate.data(e);return this._delegate._converter||B8(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Yn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new n_(e)}where(e,t,r){try{return new Yn(this.firestore,xa(this._delegate,b$(e,t,r)))}catch(i){throw Xn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yn(this.firestore,xa(this._delegate,E$(e,t)))}catch(r){throw Xn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yn(this.firestore,xa(this._delegate,w$(e)))}catch(t){throw Xn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yn(this.firestore,xa(this._delegate,T$(e)))}catch(t){throw Xn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yn(this.firestore,xa(this._delegate,S$(...e)))}catch(t){throw Xn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yn(this.firestore,xa(this._delegate,A$(...e)))}catch(t){throw Xn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yn(this.firestore,xa(this._delegate,I$(...e)))}catch(t){throw Xn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yn(this.firestore,xa(this._delegate,R$(...e)))}catch(t){throw Xn(t,"endAt()","Query.endAt()")}}isEqual(e){return AN(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=k$(this._delegate):(e==null?void 0:e.source)==="server"?t=M$(this._delegate):t=N$(this._delegate),t.then(r=>new jb(this.firestore,new to(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=HN(e),r=$N(e,i=>new jb(this.firestore,new to(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return BN(this._delegate,t,r)}withConverter(e){return new Yn(this.firestore,e?this._delegate.withConverter(wl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class eG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new wf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new wf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new eG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new wf(this._firestore,r))})}isEqual(e){return UN(this._delegate,e._delegate)}}class vc extends Yn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Kr(this.firestore,e):null}doc(e){try{return e===void 0?new Kr(this.firestore,Hg(this._delegate)):new Kr(this.firestore,Hg(this._delegate,e))}catch(t){throw Xn(t,"doc()","CollectionReference.doc()")}}add(e){return L$(this._delegate,e).then(t=>new Kr(this.firestore,t))}isEqual(e){return SN(this._delegate,e._delegate)}withConverter(e){return new vc(this.firestore,e?this._delegate.withConverter(wl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function sl(n){return Ze(n,Mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(...e){this._delegate=new eo(...e)}static documentId(){return new tT(Ct.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof eo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static serverTimestamp(){const e=$$();return e._methodName="FieldValue.serverTimestamp",new el(e)}static delete(){const e=H$();return e._methodName="FieldValue.delete",new el(e)}static arrayUnion(...e){const t=G$(...e);return t._methodName="FieldValue.arrayUnion",new el(t)}static arrayRemove(...e){const t=K$(...e);return t._methodName="FieldValue.arrayRemove",new el(t)}static increment(e){const t=W$(e);return t._methodName="FieldValue.increment",new el(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG={Firestore:zN,GeoPoint:Ky,Timestamp:Pt,Blob:FN,Transaction:jN,WriteBatch:qN,DocumentReference:Kr,DocumentSnapshot:Ef,Query:Yn,QueryDocumentSnapshot:wf,QuerySnapshot:jb,CollectionReference:vc,FieldPath:tT,FieldValue:el,setLogLevel:Z$,CACHE_SIZE_UNLIMITED:a$};function nG(n,e){n.INTERNAL.registerComponent(new Wi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},tG)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(n){nG(n,(e,t)=>new zN(e,t,new J$)),n.registerVersion(Q$,Y$)}rG(xc);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=2e3;async function sG(n,e,t){var r;const{BuildInfo:i}=Tl();ci(e.sessionId,"AuthEvent did not contain a session ID");const o=await cG(e.sessionId),u={};return Vf()?u.ibi=i.packageName:Mf()?u.apn=i.packageName:Rn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,hb(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function aG(n){const{BuildInfo:e}=Tl(),t={};Vf()?t.iosBundleId=e.packageName:Mf()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await nD(n,t)}function oG(n){const{cordova:e}=Tl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,$F()?"_blank":"_system","location=yes"),t(i)})})}async function lG(n,e,t){const{cordova:r}=Tl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){var y;o();const v=(y=r.plugins.browsertab)===null||y===void 0?void 0:y.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function d(){h||(h=window.setTimeout(()=>{u(yn(n,"redirect-cancelled-by-user"))},iG))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(f),document.addEventListener("resume",d,!1),Mf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function uG(n){var e,t,r,i,o,u,h,f,d,g;const y=Tl();ye(typeof((e=y==null?void 0:y.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(typeof((t=y==null?void 0:y.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye(typeof((o=(i=(r=y==null?void 0:y.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((f=(h=(u=y==null?void 0:y.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((g=(d=y==null?void 0:y.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function cG(n){const e=hG(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function hG(n){if(ci(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=20;class fG extends eD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function pG(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:yG(),postBody:null,tenantId:n.tenantId,error:yn(n,"no-auth-event")}}function mG(n,e){return qb()._set(Hb(n),e)}async function KC(n){const e=await qb()._get(Hb(n));return e&&await qb()._remove(Hb(n)),e}function gG(n,e){var t,r;const i=vG(e);if(i.includes("/__/auth/callback")){const o=lg(i),u=o.firebaseError?_G(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=h?yn(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function yG(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<dG;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function qb(){return Rr(Ay)}function Hb(n){return ll("authEvent",n.config.apiKey,n.name)}function _G(n){try{return JSON.parse(n)}catch{return null}}function vG(n){const e=lg(n),t=e.link?decodeURIComponent(e.link):void 0,r=lg(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return lg(i).link||i||r||t||n}function lg(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Bu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=500;class EG{constructor(){this._redirectPersistence=Ga,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xy,this._overrideRedirectResult=HE}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new fG(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){uG(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),Kj(),await this._originValidation(e);const u=pG(e,r,i);await mG(e,u);const h=await sG(e,u,t),f=await oG(h);return lG(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aG(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Tl(),u=setTimeout(async()=>{await KC(e),t.onEvent(WC())},bG),h=async g=>{clearTimeout(u);const y=await KC(e);let v=null;y&&(g!=null&&g.url)&&(v=gG(y,g.url)),t.onEvent(v||WC())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=i,d=`${o.packageName.toLowerCase()}://`;Tl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(d)&&h({url:g}),typeof f=="function")try{f(g)}catch(y){console.error(y)}}}}const wG=EG;function WC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(n,e){Lt(n)._logFramework(e)}var SG="@firebase/auth-compat",AG="0.5.24";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=1e3;function Kd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function RG(){return Kd()==="http:"||Kd()==="https:"}function GN(n=Vt()){return!!((Kd()==="file:"||Kd()==="ionic:"||Kd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function CG(){return TE()||wE()}function xG(){return WP()&&(document==null?void 0:document.documentMode)===11}function PG(n=Vt()){return/Edge\/\d+/.test(n)}function OG(n=Vt()){return xG()||PG(n)}function KN(){try{const n=self.localStorage,e=Bf();if(n)return n.setItem(e,"1"),n.removeItem(e),OG()?ef():!0}catch{return nT()&&ef()}return!1}function nT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function j0(){return(RG()||KP()||GN())&&!CG()&&KN()&&!nT()}function WN(){return GN()&&typeof document<"u"}async function DG(){return WN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},IG);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function NG(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar={LOCAL:"local",NONE:"none",SESSION:"session"},gd=ye,QN="persistence";function kG(n,e){if(gd(Object.values(Ar).includes(e),n,"invalid-persistence-type"),TE()){gd(e!==Ar.SESSION,n,"unsupported-persistence-type");return}if(wE()){gd(e===Ar.NONE,n,"unsupported-persistence-type");return}if(nT()){gd(e===Ar.NONE||e===Ar.LOCAL&&ef(),n,"unsupported-persistence-type");return}gd(e===Ar.NONE||KN(),n,"unsupported-persistence-type")}async function $b(n){await n._initializationPromise;const e=YN(),t=ll(QN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function MG(n,e){const t=YN();if(!t)return[];const r=ll(QN,n,e);switch(t.getItem(r)){case Ar.NONE:return[Ju];case Ar.LOCAL:return[ec,Ga];case Ar.SESSION:return[Ga];default:return[]}}function YN(){var n;try{return((n=NG())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=ye;class Ma{constructor(){this.browserResolver=Rr(rD),this.cordovaResolver=Rr(wG),this.underlyingResolver=null,this._redirectPersistence=Ga,this._completeRedirectFn=xy,this._overrideRedirectResult=HE}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return WN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return VG(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await DG();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n){return n.unwrap()}function LG(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(n){return JN(n)}function BG(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new FG(n,lj(n,e))}else if(r){const i=JN(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function JN(n){const{_tokenResponse:e}=n instanceof Jn?n.customData:n;if(!e)return null;if(!(n instanceof Jn)&&"temporaryProof"in e&&"phoneNumber"in e)return fl.credentialFromResult(n);const t=e.providerId;if(!t||t===ud.PASSWORD)return null;let r;switch(t){case ud.GOOGLE:r=Ui;break;case ud.FACEBOOK:r=Li;break;case ud.GITHUB:r=Bi;break;case ud.TWITTER:r=Fi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?Zu._create(t,h):Qi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new Hu(t).credential({idToken:i,accessToken:o,rawNonce:f})}return n instanceof Jn?r.credentialFromError(n):r.credentialFromResult(n)}function ar(n,e){return e.catch(t=>{throw t instanceof Jn&&BG(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:UG(t),additionalUserInfo:sj(t),user:Ds.getOrCreate(i)}})}async function Gb(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>ar(n,t.confirm(r))}}class FG{constructor(e,t){this.resolver=t,this.auth=LG(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ar(XN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._delegate=e,this.multiFactor=hj(e)}static getOrCreate(e){return Ds.USER_MAP.has(e)||Ds.USER_MAP.set(e,new Ds(e)),Ds.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ar(this.auth,LO(this._delegate,e))}async linkWithPhoneNumber(e,t){return Gb(this.auth,kj(this._delegate,e,t))}async linkWithPopup(e){return ar(this.auth,qj(this._delegate,e,Ma))}async linkWithRedirect(e){return await $b(Lt(this.auth)),Jj(this._delegate,e,Ma)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ar(this.auth,UO(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Gb(this.auth,Mj(this._delegate,e,t))}reauthenticateWithPopup(e){return ar(this.auth,jj(this._delegate,e,Ma))}async reauthenticateWithRedirect(e){return await $b(Lt(this.auth)),Yj(this._delegate,e,Ma)}sendEmailVerification(e){return Wz(this._delegate,e)}async unlink(e){return await Vz(this._delegate,e),this}updateEmail(e){return Jz(this._delegate,e)}updatePassword(e){return Zz(this._delegate,e)}updatePhoneNumber(e){return Vj(this._delegate,e)}updateProfile(e){return Xz(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Qz(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ds.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=ye;let Kb=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;yd(r,"invalid-api-key",{appName:e.name}),yd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ma:void 0;this._delegate=t.initialize({options:{persistence:zG(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(AF),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ds.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){xO(this._delegate,e,t)}applyActionCode(e){return zz(this._delegate,e)}checkActionCode(e){return BO(this._delegate,e)}confirmPasswordReset(e,t){return Fz(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ar(this._delegate,FO(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Kz(this._delegate,e)}isSignInWithEmailLink(e){return Hz(this._delegate,e)}async getRedirectResult(){yd(j0(),this._delegate,"operation-not-supported-in-this-environment");const e=await e8(this._delegate,Ma);return e?ar(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){TG(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=QC(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=QC(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return qz(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Bz(this._delegate,e,t||void 0)}async setPersistence(e){kG(this._delegate,e);let t;switch(e){case Ar.SESSION:t=Ga;break;case Ar.LOCAL:t=await Rr(ec)._isAvailable()?ec:Ay;break;case Ar.NONE:t=Ju;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ar(this._delegate,Mz(this._delegate))}signInWithCredential(e){return ar(this._delegate,Ty(this._delegate,e))}signInWithCustomToken(e){return ar(this._delegate,Uz(this._delegate,e))}signInWithEmailAndPassword(e,t){return ar(this._delegate,zO(this._delegate,e,t))}signInWithEmailLink(e,t){return ar(this._delegate,$z(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Gb(this._delegate,Nj(this._delegate,e,t))}async signInWithPopup(e){return yd(j0(),this._delegate,"operation-not-supported-in-this-environment"),ar(this._delegate,zj(this._delegate,e,Ma))}async signInWithRedirect(e){return yd(j0(),this._delegate,"operation-not-supported-in-this-environment"),await $b(this._delegate),Wj(this._delegate,e,Ma)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return jz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Kb.Persistence=Ar;function QC(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ds.getOrCreate(u)),error:e,complete:t}}function zG(n,e){const t=MG(n,e);if(typeof self<"u"&&!t.includes(ec)&&t.push(ec),typeof window<"u")for(const r of[Ay,Ga])t.includes(r)||t.push(r);return t.includes(Ju)||t.push(Ju),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{static credential(e,t){return fl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new fl(XN(xc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}rT.PHONE_SIGN_IN_METHOD=fl.PHONE_SIGN_IN_METHOD;rT.PROVIDER_ID=fl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=ye;class qG{constructor(e,t,r=xc.app()){var i;jG((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Oj(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG="auth-compat";function $G(n){n.INTERNAL.registerComponent(new Wi(HG,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Kb(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Iu.EMAIL_SIGNIN,PASSWORD_RESET:Iu.PASSWORD_RESET,RECOVER_EMAIL:Iu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Iu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Iu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Iu.VERIFY_EMAIL}},EmailAuthProvider:io,FacebookAuthProvider:Li,GithubAuthProvider:Bi,GoogleAuthProvider:Ui,OAuthProvider:Hu,SAMLAuthProvider:Tg,PhoneAuthProvider:rT,PhoneMultiFactorGenerator:iD,RecaptchaVerifier:qG,TwitterAuthProvider:Fi,Auth:Kb,AuthCredential:Oc,Error:Jn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(SG,AG)}$G(xc);const GG={apiKey:"AIzaSyCH9dXeShz4g-pXbg4ZP0-Ch-2-vl40XVA",authDomain:"clone-574ff.firebaseapp.com",projectId:"clone-574ff",storageBucket:"clone-574ff.firebasestorage.app",messagingSenderId:"763336701904",appId:"1:763336701904:web:e04d037bb638722e726bd5"},ZN=xc.initializeApp(GG),Tf=V8(ZN),ek=ZN.firestore();function KG(){var i;const[{user:n,basket:e},t]=W.useContext(Hs),r=e.reduce((o,u)=>u.amount+o,0);return q.jsxs("div",{className:Cs.fixed,children:[q.jsxs("section",{className:Cs.header_container,children:[q.jsxs("div",{className:Cs.logo_container,children:[q.jsx(oi,{to:"/",children:q.jsx("img",{src:DB,alt:"amazon logo"})}),q.jsxs("div",{className:Cs.delivery,children:[q.jsx("span",{children:q.jsx(CB,{})}),q.jsxs("div",{children:[q.jsx("p",{children:"Delivered to"}),q.jsx("span",{children:"Ethiopia"})]})]})]}),q.jsxs("div",{className:Cs.search,children:[q.jsx("select",{name:"",id:"",children:q.jsx("option",{value:"",children:"All"})}),q.jsx("input",{type:"text",placeholder:"search product"}),q.jsx(RB,{size:38})]}),q.jsxs("div",{className:Cs.order_container,children:[q.jsxs(oi,{to:"",className:Cs.language,children:[q.jsx("img",{src:NB,alt:""}),q.jsx("select",{name:"",id:"",children:q.jsx("option",{value:"",children:"EN"})})]}),q.jsx(oi,{to:!n&&"/auth",children:q.jsx("div",{children:n?q.jsxs(q.Fragment,{children:[q.jsxs("p",{children:["Hello, ",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]]}),q.jsx("span",{onClick:()=>Tf.signOut(),children:"Sign Out"})]}):q.jsxs(q.Fragment,{children:[q.jsx("p",{children:"Hello, Sign In"}),q.jsx("span",{children:"Account & Lists"})]})})}),q.jsxs(oi,{to:"/orders",children:[q.jsx("p",{children:"returns"}),q.jsx("span",{children:"& orders"})]}),q.jsxs(oi,{to:"/cart",className:Cs.cart,children:[q.jsx(xB,{size:35}),q.jsx("span",{children:r})]})]})]}),q.jsx(OB,{})]})}function zc({children:n}){return q.jsxs("div",{children:[q.jsx(KG,{}),n]})}function WG(){return q.jsxs(zc,{children:[q.jsx(VL,{}),q.jsx(zL,{}),q.jsx(cB,{})]})}const QG="_auth_container_1mqnc_1",YG="_form_container_1mqnc_27",XG="_inputContainer_1mqnc_69",JG="_signInButton_1mqnc_115",ZG="_terms_and_conditions_1mqnc_139",eK="_createAccountButton_1mqnc_159",tK="_error_1mqnc_185",Di={auth_container:QG,form_container:YG,inputContainer:XG,signInButton:JG,terms_and_conditions:ZG,createAccountButton:eK,error:tK},nK="/Amazon-in-react/assets/Amazon_logo-XjGeB6er.png";function rK(){var w;const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[u,h]=W.useState({signIn:!1,signUp:!1}),[{user:f},d]=W.useContext(Hs),g=Wg(),y=no();console.log(y);const v=async E=>{E.preventDefault(),E.target.name==="signIn"?(h({...u,signIn:!0}),zO(Tf,n,t).then(A=>{var P;d({type:Gr.SET_USER,user:A.user}),h({...u,signIn:!1}),g(((P=y==null?void 0:y.state)==null?void 0:P.redirect)||"/")}).catch(A=>{o(A.message),h({...u,signIn:!1})})):(h({...u,signUp:!0}),FO(Tf,n,t).then(A=>{var P;d({type:Gr.SET_USER,user:A.user}),h({...u,signUp:!1}),g(((P=y==null?void 0:y.state)==null?void 0:P.redirect)||"/")}).catch(A=>{o(A.message),h({...u,signUp:!1})}))};return q.jsxs("section",{className:Di.auth_container,children:[q.jsx(oi,{to:"/",children:q.jsx("img",{src:nK,alt:"Amazon Logo",className:Di.logo})}),q.jsxs("div",{className:Di.form_container,children:[q.jsx("h1",{children:"Sign-In"}),((w=y==null?void 0:y.state)==null?void 0:w.msg)&&q.jsx("small",{className:Di.error,children:y.state.msg}),q.jsxs("form",{children:[q.jsxs("div",{className:Di.inputContainer,children:[q.jsx("label",{htmlFor:"email",children:"Email"}),q.jsx("input",{value:n,onChange:E=>e(E.target.value),type:"email",id:"email"})]}),q.jsxs("div",{className:Di.inputContainer,children:[q.jsx("label",{htmlFor:"password",children:"Password"}),q.jsx("input",{value:t,onChange:E=>r(E.target.value),type:"password",id:"password"})]}),q.jsx("button",{onClick:v,type:"submit",name:"signIn",className:Di.signInButton,children:u.signIn?q.jsx(LR,{color:"#000",size:15}):"Sign In"})]}),q.jsxs("p",{className:Di.terms_and_conditions,children:["By signing-in you agree to the ",q.jsx("span",{children:"AMAZON FAKE CLONE"})," ","Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."]}),q.jsx("button",{onClick:v,type:"submit",name:"signUp",className:Di.createAccountButton,children:u.signUp?q.jsx(LR,{color:"#000",size:15}):"Create your Amazon account"}),i&&q.jsx("small",{className:Di.error,children:i})]})]})}const iK="_pament_header_13e5c_1",sK="_flex_13e5c_15",aK="_payment_card_container_13e5c_51",oK="_payment_price_container_13e5c_109",lK="_loading_13e5c_119",Pa={pament_header:iK,flex:sK,payment_card_container:aK,payment_price_container:oK,loading:lK};function YC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function XC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(t),!0).forEach(function(r){tk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ug(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ug=function(e){return typeof e}:ug=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(n)}function tk(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function cK(n,e){if(n==null)return{};var t=uK(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function nk(n,e){return hK(n)||dK(n,e)||fK(n,e)||pK()}function hK(n){if(Array.isArray(n))return n}function dK(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,h=f}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function fK(n,e){if(n){if(typeof n=="string")return JC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return JC(n,e)}}function JC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},Wb=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},bc=function(e){return e!==null&&ug(e)==="object"},mK=function(e){return bc(e)&&typeof e.then=="function"},gK=function(e){return bc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ZC="[object Object]",yK=function n(e,t){if(!bc(e)||!bc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===ZC,u=Object.prototype.toString.call(t)===ZC;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),f=Object.keys(t);if(h.length!==f.length)return!1;for(var d={},g=0;g<h.length;g+=1)d[h[g]]=!0;for(var y=0;y<f.length;y+=1)d[f[y]]=!0;var v=Object.keys(d);if(v.length!==h.length)return!1;var w=e,E=t,A=function(U){return n(w[U],E[U])};return v.every(A)},rk=function(e,t,r){return bc(e)?Object.keys(e).reduce(function(i,o){var u=!bc(t)||!yK(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?XC(XC({},i||{}),{},tk({},o,e[o])):i},null):null},ik="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ex=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ik;if(e===null||gK(e))return e;throw new Error(t)},_K=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ik;if(mK(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return ex(i,t)})};var r=ex(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},vK=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},r_=Ke.createContext(null);r_.displayName="ElementsContext";var sk=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ak=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return _K(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=nk(u,2),f=h[0],d=h[1];Ke.useEffect(function(){var v=!0,w=function(A){d(function(P){return P.stripe?P:{stripe:A,elements:A.elements(r)}})};return o.tag==="async"&&!f.stripe?o.stripePromise.then(function(E){E&&v&&w(E)}):o.tag==="sync"&&!f.stripe&&w(o.stripe),function(){v=!1}},[o,f,r]);var g=Wb(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var y=Wb(r);return Ke.useEffect(function(){if(f.elements){var v=rk(r,y,["clientSecret","fonts"]);v&&f.elements.update(v)}},[r,y,f.elements]),Ke.useEffect(function(){vK(f.stripe)},[f.stripe]),Ke.createElement(r_.Provider,{value:f},i)};ak.propTypes={stripe:Nt.any,options:Nt.object};var bK=function(e){var t=Ke.useContext(r_);return sk(t,e)},EK=function(){var e=bK("calls useElements()"),t=e.elements;return t};Nt.func.isRequired;var ok=Ke.createContext(null);ok.displayName="CheckoutSdkContext";var wK=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},TK=Ke.createContext(null);TK.displayName="CheckoutContext";Nt.any,Nt.shape({fetchClientSecret:Nt.func.isRequired,elementsOptions:Nt.object}).isRequired;var Qb=function(e){var t=Ke.useContext(ok),r=Ke.useContext(r_);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?wK(t,e):sk(r,e)},SK=["mode"],AK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},cn=function(e,t){var r="".concat(AK(e),"Element"),i=function(f){var d=f.id,g=f.className,y=f.options,v=y===void 0?{}:y,w=f.onBlur,E=f.onFocus,A=f.onReady,P=f.onChange,U=f.onEscape,L=f.onClick,V=f.onLoadError,H=f.onLoaderStart,F=f.onNetworksChange,$=f.onConfirm,M=f.onCancel,R=f.onShippingAddressChange,x=f.onShippingRateChange,T=Qb("mounts <".concat(r,">")),O="elements"in T?T.elements:null,C="checkoutSdk"in T?T.checkoutSdk:null,D=Ke.useState(null),se=nk(D,2),B=se[0],G=se[1],J=Ke.useRef(null),le=Ke.useRef(null);Tr(B,"blur",w),Tr(B,"focus",E),Tr(B,"escape",U),Tr(B,"click",L),Tr(B,"loaderror",V),Tr(B,"loaderstart",H),Tr(B,"networkschange",F),Tr(B,"confirm",$),Tr(B,"cancel",M),Tr(B,"shippingaddresschange",R),Tr(B,"shippingratechange",x),Tr(B,"change",P);var Ee;A&&(e==="expressCheckout"?Ee=A:Ee=function(){A(B)}),Tr(B,"ready",Ee),Ke.useLayoutEffect(function(){if(J.current===null&&le.current!==null&&(O||C)){var re=null;if(C)switch(e){case"payment":re=C.createPaymentElement(v);break;case"address":if("mode"in v){var ge=v.mode,me=cK(v,SK);if(ge==="shipping")re=C.createShippingAddressElement(me);else if(ge==="billing")re=C.createBillingAddressElement(me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":re=C.createExpressCheckoutElement(v);break;case"currencySelector":re=C.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(re=O.create(e,v));J.current=re,G(re),re&&re.mount(le.current)}},[O,C,v]);var j=Wb(v);return Ke.useEffect(function(){if(J.current){var re=rk(v,j,["paymentRequest"]);re&&"update"in J.current&&J.current.update(re)}},[v,j]),Ke.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),Ke.createElement("div",{id:d,className:g,ref:le})},o=function(f){Qb("mounts <".concat(r,">"));var d=f.id,g=f.className;return Ke.createElement("div",{id:d,className:g})},u=t?o:i;return u.propTypes={id:Nt.string,className:Nt.string,onChange:Nt.func,onBlur:Nt.func,onFocus:Nt.func,onReady:Nt.func,onEscape:Nt.func,onClick:Nt.func,onLoadError:Nt.func,onLoaderStart:Nt.func,onNetworksChange:Nt.func,onConfirm:Nt.func,onCancel:Nt.func,onShippingAddressChange:Nt.func,onShippingRateChange:Nt.func,options:Nt.object},u.displayName=r,u.__elementType=e,u},hn=typeof window>"u",IK=Ke.createContext(null);IK.displayName="EmbeddedCheckoutProviderContext";var RK=function(){var e=Qb("calls useStripe()"),t=e.stripe;return t};cn("auBankAccount",hn);var tx=cn("card",hn);cn("cardNumber",hn);cn("cardExpiry",hn);cn("cardCvc",hn);cn("fpxBank",hn);cn("iban",hn);cn("idealBank",hn);cn("p24Bank",hn);cn("epsBank",hn);cn("payment",hn);cn("expressCheckout",hn);cn("currencySelector",hn);cn("paymentRequestButton",hn);cn("linkAuthentication",hn);cn("address",hn);cn("shippingAddress",hn);cn("paymentMethodMessaging",hn);cn("affirmMessage",hn);cn("afterpayClearpayMessage",hn);const CK=Ot.create({baseURL:"https://amazon-api-deploy-6q9h.onrender.com"});var sr={},_d={},nx;function xK(){if(nx)return _d;nx=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.parseLengthAndUnit=e,_d.cssValue=t;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function e(r){if(typeof r=="number")return{value:r,unit:"px"};var i,o=(r.match(/^[0-9.]*/)||"").toString();o.includes(".")?i=parseFloat(o):i=parseInt(o,10);var u=(r.match(/[^0-9]*$/)||"").toString();return n[u]?{value:i,unit:u}:(console.warn("React Spinners: ".concat(r," is not a valid css value. Defaulting to ").concat(i,"px.")),{value:i,unit:"px"})}function t(r){var i=e(r);return"".concat(i.value).concat(i.unit)}return _d}var vd={},rx;function PK(){if(rx)return vd;rx=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.createAnimation=void 0;var n=function(e,t,r){var i="react-spinners-".concat(e,"-").concat(r);if(typeof window>"u"||!window.document)return i;var o=document.createElement("style");document.head.appendChild(o);var u=o.sheet,h=`
    @keyframes `.concat(i,` {
      `).concat(t,`
    }
  `);return u&&u.insertRule(h,0),i};return vd.createAnimation=n,vd}var ix;function OK(){if(ix)return sr;ix=1;var n=sr&&sr.__assign||function(){return n=Object.assign||function(g){for(var y,v=1,w=arguments.length;v<w;v++){y=arguments[v];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(g[E]=y[E])}return g},n.apply(this,arguments)},e=sr&&sr.__createBinding||(Object.create?function(g,y,v,w){w===void 0&&(w=v);var E=Object.getOwnPropertyDescriptor(y,v);(!E||("get"in E?!y.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(g,w,E)}:function(g,y,v,w){w===void 0&&(w=v),g[w]=y[v]}),t=sr&&sr.__setModuleDefault||(Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y}),r=sr&&sr.__importStar||function(){var g=function(y){return g=Object.getOwnPropertyNames||function(v){var w=[];for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(w[w.length]=E);return w},g(y)};return function(y){if(y&&y.__esModule)return y;var v={};if(y!=null)for(var w=g(y),E=0;E<w.length;E++)w[E]!=="default"&&e(v,y,w[E]);return t(v,y),v}}(),i=sr&&sr.__rest||function(g,y){var v={};for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&y.indexOf(w)<0&&(v[w]=g[w]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,w=Object.getOwnPropertySymbols(g);E<w.length;E++)y.indexOf(w[E])<0&&Object.prototype.propertyIsEnumerable.call(g,w[E])&&(v[w[E]]=g[w[E]]);return v};Object.defineProperty(sr,"__esModule",{value:!0});var o=r(qs()),u=xK(),h=PK(),f=(0,h.createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function d(g){var y=g.loading,v=y===void 0?!0:y,w=g.color,E=w===void 0?"#000000":w,A=g.speedMultiplier,P=A===void 0?1:A,U=g.cssOverride,L=U===void 0?{}:U,V=g.size,H=V===void 0?35:V,F=i(g,["loading","color","speedMultiplier","cssOverride","size"]),$=n({background:"transparent !important",width:(0,u.cssValue)(H),height:(0,u.cssValue)(H),borderRadius:"100%",border:"2px solid",borderTopColor:E,borderBottomColor:"transparent",borderLeftColor:E,borderRightColor:E,display:"inline-block",animation:"".concat(f," ").concat(.75/P,"s 0s infinite linear"),animationFillMode:"both"},L);return v?o.createElement("span",n({style:$},F)):null}return sr.default=d,sr}var DK=OK();const NK=Gg(DK);function kK(){const[{user:n,basket:e},t]=W.useContext(Hs),r=e.reduce((E,A)=>A.amount+E,0),i=e.reduce((E,A)=>A.price*A.amount+E,0),[o,u]=W.useState(null),[h,f]=W.useState(!1),d=RK(),g=EK(),y=Wg(),v=E=>{var A;(A=E==null?void 0:E.error)!=null&&A.message?u(E.error.message):u(null)},w=async E=>{E.preventDefault();try{f(!0);const P=(await CK({method:"post",url:`/payment/create?total=${i*100}`})).data.clientSecret,{paymentIntent:U}=await d.confirmCardPayment(P,{payment_method:{card:g.getElement(tx)}});await ek.collection("users").doc(n==null?void 0:n.uid).collection("orders").doc(U.id).set({basket:e,amount:U.amount,created:U.created}),t({type:Gr.EMPTY_BASKET}),f(!1),y("/orders",{state:{message:"Your order has been placed successfully"}})}catch(A){console.log(A),f(!1)}};return q.jsxs(zc,{children:[q.jsxs("div",{className:Pa.pament_header,children:["Checkout (",r,") items"]}),q.jsxs("section",{className:Pa.payment,children:[q.jsxs("div",{className:Pa.flex,children:[q.jsx("h3",{children:"Delivery Address"}),q.jsxs("div",{children:[q.jsx("div",{children:n==null?void 0:n.email}),q.jsx("div",{children:"123 React Lane"}),q.jsx("div",{children:"Los Angeles, CA"})]})]}),q.jsx("hr",{}),q.jsxs("div",{className:Pa.flex,children:[q.jsx("h3",{children:"Review items and delivery"}),q.jsx("div",{children:e.map(E=>q.jsx(Ic,{product:E,flex:!0}))})]}),q.jsx("hr",{}),q.jsxs("div",{className:Pa.flex,children:[q.jsx("h3",{children:"Payment Method"}),q.jsx("div",{className:Pa.payment_card_container,children:q.jsx("div",{children:q.jsxs("form",{onSubmit:w,children:[q.jsx(tx,{onChange:v}),o&&q.jsx("small",{style:{color:"red"},children:o}),q.jsxs("div",{className:Pa.payment_price_container,children:[q.jsx("div",{children:q.jsxs("span",{children:[q.jsx("p",{children:"Total order |"})," ",q.jsx(_E,{amount:i})]})}),q.jsx("button",{type:"submit",children:h?q.jsxs("div",{className:Pa.loading,children:[q.jsx(NK,{color:"gray",size:12,cssOverride:{marginLeft:"10px"}}),q.jsx("p",{children:"Please wait ...."})]}):"Pay Now"})]})]})})})]})]})]})}const MK="_container_2wv53_1",VK="_orders_container_2wv53_11",LK="_no_orders_2wv53_55",bd={container:MK,orders_container:VK,no_orders:LK};function UK(){const[{user:n},e]=W.useContext(Hs),[t,r]=W.useState([]);return W.useEffect(()=>{n?ek.collection("users").doc(n==null?void 0:n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),q.jsx(zc,{children:q.jsx("section",{className:bd.container,children:q.jsxs("div",{className:bd.orders_container,children:[q.jsx("h2",{children:"Your Orders"}),(t==null?void 0:t.length)===0&&q.jsxs("div",{className:bd.no_orders,children:[q.jsx("h3",{children:"No Orders Found"}),q.jsx("p",{children:"Looks like you haven't placed any orders yet."})]}),q.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u,h;return q.jsxs("div",{className:bd,children:[q.jsx("hr",{}),q.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id," "]}),(h=(u=i==null?void 0:i.data)==null?void 0:u.basket)==null?void 0:h.map(f=>q.jsx(Ic,{product:f,flex:!0,className:bd.order_card},f.id))]},o)})})]})})})}const BK="_container_876hr_1",FK="_cart_product_876hr_23",zK="_btn_container_876hr_35",jK="_cart_container_876hr_79",qK="_subtotal_876hr_105",Ed={container:BK,cart_product:FK,btn_container:zK,cart_container:jK,subtotal:qK};function HK(n){return Rc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function $K(n){return Rc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function GK(){const[{basket:n,user:e},t]=W.useContext(Hs),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:Gr.ADD_TO_BASKET,item:u})},o=u=>{t({type:Gr.REMOVE_FROM_BASKET,id:u})};return q.jsx(zc,{children:q.jsxs("section",{className:Ed.container,children:[q.jsxs("div",{className:Ed.cart_container,children:[q.jsx("h2",{children:"Hello"}),q.jsx("h3",{children:"Your shopping basket"}),q.jsx("hr",{}),n.length==0?q.jsx("p",{children:"Opps ! No item in your Cart"}):n.map((u,h)=>q.jsxs("section",{className:Ed.cart_product,children:[q.jsx(Ic,{product:u,renderDesc:!0,flex:!0,renderAdd:!1},h),q.jsxs("div",{className:Ed.btn_container,children:[q.jsx("button",{onClick:()=>i(u),children:q.jsx($K,{size:30})}),q.jsx("span",{children:u.amount}),q.jsx("button",{onClick:()=>o(u.id),children:q.jsx(HK,{size:30})})]})]},h))]}),(n==null?void 0:n.length)!==0&&q.jsxs("div",{className:Ed.subtotal,children:[q.jsxs("div",{children:[q.jsxs("p",{children:["SubTotal (",n==null?void 0:n.length," items)"]}),q.jsx(_E,{amount:r})]}),q.jsxs("span",{children:[q.jsx("input",{type:"checkbox"}),q.jsx("small",{children:"this order contains a gift"})]}),q.jsx(oi,{to:"/payment",children:"Continue to checkout"})]})]})})}const KK="_products_container_8bn3w_1",WK={products_container:KK},lk="https://fakestoreapi.com/";function QK(){const{categoryName:n}=gx(),[e,t]=W.useState([]),[r,i]=W.useState(!1);return W.useEffect(()=>{i(!0),Ot.get(`${lk}products/category/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o),i(!1)})},[]),q.jsx(zc,{children:q.jsx("div",{children:r?q.jsx(vE,{}):q.jsxs("section",{children:[q.jsx("h1",{style:{padding:"30px"},children:"Results"}),q.jsxs("p",{style:{padding:"30px"},children:["category / ",n]}),q.jsx("hr",{}),q.jsx("div",{className:WK.products_container,children:e.map(o=>q.jsx(Ic,{product:o,renderAdd:!0},o.id))})]})})})}function YK(){const{productId:n}=gx(),[e,t]=W.useState([]),[r,i]=W.useState(!1);return W.useEffect(()=>{i(!0),Ot.get(`${lk}products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log("error "+o),i(!1)})},[]),q.jsx(zc,{children:r?q.jsx(vE,{}):q.jsx(Ic,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})}var uk="basil",XK=function(e){return e===3?"v3":e},ck="https://js.stripe.com",JK="".concat(ck,"/").concat(uk,"/stripe.js"),ZK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,eW=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var tW=function(e){return ZK.test(e)||eW.test(e)},nW=function(){for(var e=document.querySelectorAll('script[src^="'.concat(ck,'"]')),t=0;t<e.length;t++){var r=e[t];if(tW(r.src))return r}return null},sx=function(e){var t="",r=document.createElement("script");r.src="".concat(JK).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},rW=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.0",startTime:t})},wd=null,Lm=null,Um=null,iW=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},sW=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},aW=function(e){return wd!==null?wd:(wd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=nW();if(!(i&&e)){if(!i)i=sx(e);else if(i&&Um!==null&&Lm!==null){var o;i.removeEventListener("load",Um),i.removeEventListener("error",Lm),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=sx(e)}}Um=sW(t,r),Lm=iW(r),i.addEventListener("load",Um),i.addEventListener("error",Lm)}catch(u){r(u);return}}),wd.catch(function(t){return wd=null,Promise.reject(t)}))},oW=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),u=XK(e.version),h=uk;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.3.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,t);return rW(f,r),f},Td,hk=!1,dk=function(){return Td||(Td=aW(null).catch(function(e){return Td=null,Promise.reject(e)}),Td)};Promise.resolve().then(function(){return dk()}).catch(function(n){hk||console.warn(n)});var lW=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];hk=!0;var i=Date.now();return dk().then(function(o){return oW(o,t,i)})};const ax=({children:n,msg:e,redirect:t})=>{const r=Wg(),[{user:i},o]=W.useContext(Hs);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},uW=lW("pk_test_51RR2w7AcrYD1r6plOqhPvdiVD4at7wxQiSVjErzU8BTtCJvu0W8mFBuBb70KcYnqm5T1EObcy2irsr4Z1HZWdxUY005QrnYfup");function cW(){return q.jsx(oL,{children:q.jsxs(LV,{children:[q.jsx(Oa,{path:"/",element:q.jsx(WG,{})}),q.jsx(Oa,{path:"/auth",element:q.jsx(rK,{})}),q.jsx(Oa,{path:"/payment",element:q.jsx(ax,{msg:"Please login to proceed with payment",redirect:"/payment",children:q.jsx(ak,{stripe:uW,children:q.jsx(kK,{})})})}),q.jsx(Oa,{path:"/orders",element:q.jsx(ax,{msg:"Please login to view your orders",redirect:"/orders",children:q.jsx(UK,{})})}),q.jsx(Oa,{path:"/cart",element:q.jsx(GK,{})}),q.jsx(Oa,{path:"/category/:categoryName",element:q.jsx(QK,{})}),q.jsx(Oa,{path:"/products/:productId",element:q.jsx(YK,{})})]})})}function hW(){const[{user:n},e]=W.useContext(Hs);return W.useEffect(()=>{Tf.onAuthStateChanged(t=>{e(Tf?{type:Gr.SET_USER,user:t}:{type:Gr.SET_USER,user:null})})},[e]),q.jsx(q.Fragment,{children:q.jsx(cW,{})})}const dW={basket:[],user:null},fW=(n,e)=>{switch(e.type){case Gr.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Gr.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Gr.EMPTY_BASKET:return{...n,basket:[]};case Gr.SET_USER:return{...n,user:e.user};default:return n}};KM.createRoot(document.getElementById("root")).render(q.jsx(W.StrictMode,{children:q.jsx(rB,{reducer:fW,initialState:dW,children:q.jsx(hW,{})})}));
